<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Devops on ChenSoul</title>
    <link>https://blog.chensoul.cc/categories/devops/</link>
    <description>Recent content in Devops on ChenSoul</description>
    <generator>Hugo -- 0.133.1</generator>
    <language>zh-cn</language>
    <lastBuildDate>Fri, 19 Jul 2024 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://blog.chensoul.cc/categories/devops/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>GitLab Runnerå®‰è£…å’Œéƒ¨ç½²</title>
      <link>https://blog.chensoul.cc/posts/2024/07/19/gitlab-runner-install/</link>
      <pubDate>Fri, 19 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/19/gitlab-runner-install/</guid>
      <description>ä»‹ç» GitLab Runner æ˜¯ä¸€ä¸ªç”¨äºåœ¨ GitLab CI/CDï¼ˆæŒç»­é›†æˆ/æŒç»­äº¤ä»˜ï¼‰æµæ°´çº¿ä¸­è¿è¡Œä½œä¸šï¼ˆJobsï¼‰çš„å¼€æºå·¥å…·ã€‚å®ƒå……å½“äº† GitLab CI/CD ç³»ç»Ÿä¸­çš„ä»£ç†ï¼Œè´Ÿè´£æ¥æ”¶ä½œä¸šè¯·æ±‚ã€æ‰§è¡Œä½œä¸šè„šæœ¬å¹¶æŠ¥å‘Šç»“æœã€‚
ä¸‹é¢æ˜¯ GitLab Runner çš„ä¸€äº›å…³é”®ç‰¹ç‚¹å’ŒåŠŸèƒ½ï¼š
å¤šå¹³å°æ”¯æŒï¼šGitLab Runner å¯åœ¨å¤šç§æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼ŒåŒ…æ‹¬ Linuxã€macOS å’Œ Windowsï¼Œä½¿å…¶é€‚ç”¨äºå„ç§å¼€å‘ç¯å¢ƒå’Œéœ€æ±‚ã€‚ ä½œä¸šæ‰§è¡Œå™¨ï¼šRunner æ¥æ”¶æ¥è‡ª GitLab CI/CD çš„ä½œä¸šè¯·æ±‚ï¼Œå¹¶åœ¨æŒ‡å®šçš„ç¯å¢ƒä¸­æ‰§è¡Œä½œä¸šã€‚å®ƒå¯ä»¥è¿è¡Œå„ç§ç±»å‹çš„ä½œä¸šï¼Œå¦‚æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²ç­‰ã€‚ å¹¶å‘æ‰§è¡Œï¼šGitLab Runner å¯ä»¥åŒæ—¶è¿è¡Œå¤šä¸ªä½œä¸šï¼Œä»¥æé«˜æ•´ä½“æµæ°´çº¿çš„å¤„ç†èƒ½åŠ›å’Œæ•ˆç‡ã€‚ å¼¹æ€§æ‰©å±•ï¼šä½ å¯ä»¥é…ç½®å¤šä¸ª GitLab Runner å®ä¾‹ï¼Œä»¥æ»¡è¶³ä¸åŒé¡¹ç›®å’Œæµæ°´çº¿çš„éœ€æ±‚ã€‚æ¯ä¸ª Runner å®ä¾‹éƒ½å¯ä»¥åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿è¡Œï¼Œæ¯”å¦‚åœ¨ä¸åŒçš„ç‰©ç†æˆ–è™šæ‹Ÿæœºå™¨ä¸Šï¼Œæˆ–è€…åœ¨äº‘æœåŠ¡æä¾›å•†çš„å®¹å™¨ä¸­ã€‚ é…ç½®çµæ´»æ€§ï¼šRunner çš„é…ç½®ç›¸å¯¹çµæ´»ï¼Œä½ å¯ä»¥æ ¹æ®é¡¹ç›®ã€åˆ†æ”¯æˆ–æ ‡ç­¾ç­‰æ¡ä»¶æ¥æŒ‡å®šä¸åŒçš„æ‰§è¡Œè§„åˆ™ã€‚è¿™ä½¿å¾—ä½ å¯ä»¥é’ˆå¯¹ä¸åŒçš„åœºæ™¯å’Œéœ€æ±‚è¿›è¡Œå®šåˆ¶åŒ–é…ç½®ã€‚ æ—¥å¿—å’ŒæŠ¥å‘Šï¼šRunner ä¼šç”Ÿæˆè¯¦ç»†çš„æ—¥å¿—å’ŒæŠ¥å‘Šï¼Œç”¨äºè®°å½•ä½œä¸šçš„æ‰§è¡Œè¿‡ç¨‹å’Œç»“æœã€‚è¿™äº›ä¿¡æ¯å¯¹äºæ•…éšœæ’é™¤ã€é—®é¢˜è¿½è¸ªå’Œæµæ°´çº¿æ€§èƒ½åˆ†æéå¸¸æœ‰å¸®åŠ©ã€‚ å®‰å…¨å’Œèº«ä»½éªŒè¯ï¼šGitLab Runner å¯ä¸ GitLab CI/CD ç³»ç»Ÿé›†æˆï¼Œå¹¶é€šè¿‡è®¿é—®ä»¤ç‰Œæˆ–å…¶ä»–èº«ä»½éªŒè¯æœºåˆ¶æ¥ç¡®ä¿å®‰å…¨çš„é€šä¿¡å’Œè®¿é—®æƒé™æ§åˆ¶ã€‚ å®‰è£… GitLab Runner çš„ç‰ˆæœ¬éœ€è¦å’Œ GitLab ä¿æŒä¸€è‡´ã€‚
æŸ¥çœ‹å½“å‰ Gitlab ç‰ˆæœ¬ï¼š
root@gitlab:/# gitlab-rake gitlab:env:info System information System:	Current User:	git Using RVM:	no Ruby Version:	3.1.5p253 Gem Version:	3.5.11 Bundler Version:2.5.11 Rake Version:	13.0.6 Redis Version:	7.0.15 Sidekiq Version:7.1.6 Go Version:	unknown GitLab information Version:	17.1.1 Revision:	a1c9a43d543 Directory:	/opt/gitlab/embedded/service/gitlab-rails DB Adapter:	PostgreSQL DB Version:	14.11 URL:	https://gitlab.wesine.com.cn HTTP Clone URL:	https://gitlab.</description>
    </item>
    <item>
      <title>Gitlabå®‰è£…å’Œéƒ¨ç½²-ä½¿ç”¨yumæº</title>
      <link>https://blog.chensoul.cc/posts/2024/07/15/install-gitlab-using-yum/</link>
      <pubDate>Mon, 15 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/15/install-gitlab-using-yum/</guid>
      <description>Gitlab Server éƒ¨ç½² 1ã€ç¯å¢ƒé…ç½® å…³é—­é˜²ç«å¢™ã€SELinux
å¼€å¯é‚®ä»¶æœåŠ¡
$ systemctl start postfix $ systemctl enable postfix 2ã€æ‰‹åŠ¨å®‰è£… 1ã€å®‰è£… gitlab ä¾èµ–åŒ… centos7:
$ yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python gitlab-ce 10.x.xä»¥åçš„ç‰ˆæœ¬éœ€è¦ä¾èµ–policycoreutils-python
centos8:
$ yum install -y curl openssh-server openssh-clients postfix cronie policycoreutils-python-utils 2ã€æ·»åŠ å®˜æ–¹æº $ curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash å› ä¸ºå®˜æ–¹æºå¤ªæ…¢ï¼Œå¯ä»¥ä½¿ç”¨å›½å†…æ¸…åyumæºï¼Œé…ç½®å¦‚ä¸‹
$ vim /etc/yum.repos.d/gitlab-ce.repo [gitlab-ce] name=Gitlab CE Repository baseurl=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el$releasever/ gpgcheck=0 enabled=1 3ã€å®‰è£… Gitlab è‡ªåŠ¨å®‰è£…æœ€æ–°ç‰ˆ
$ yum -y install gitlab-ce 4ã€é…ç½® Gitlab 1ã€æŸ¥çœ‹Gitlabç‰ˆæœ¬ $ head -1 /opt/gitlab/version-manifest.txt gitlab-ce 10.1.1 2ã€Gitlab é…ç½®ç™»å½•é“¾æ¥ #è®¾ç½®ç™»å½•é“¾æ¥ $ vim /etc/gitlab/gitlab.rb *** ## GitLab URL ##! URL on which GitLab will be reachable. ##! For more details on configuring external_url see: ##!</description>
    </item>
    <item>
      <title>Gitä»‹ç»</title>
      <link>https://blog.chensoul.cc/posts/2024/07/15/git/</link>
      <pubDate>Mon, 15 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/15/git/</guid>
      <description>Gitã€Githubã€Gitlab çš„åŒºåˆ« Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œç”¨äºæ•æ·é«˜æ•ˆåœ°å¤„ç†ä»»ä½•æˆ–å°æˆ–å¤§çš„é¡¹ç›®ã€‚
æ˜¯ Linus Torvalds ä¸ºäº†å¸®åŠ©ç®¡ç† Linux å†…æ ¸å¼€å‘è€Œå¼€å‘çš„ä¸€ä¸ªå¼€æ”¾æºç çš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶ã€‚
Githubæ˜¯åœ¨çº¿çš„åŸºäºGitçš„ä»£ç æ‰˜ç®¡æœåŠ¡ã€‚ GitHubæ˜¯2008å¹´ç”±Ruby on Railsç¼–å†™è€Œæˆã€‚GitHubåŒæ—¶æä¾›ä»˜è´¹è´¦æˆ·å’Œå…è´¹è´¦æˆ·ã€‚è¿™ä¸¤ç§è´¦æˆ·éƒ½å¯ä»¥åˆ›å»ºå…¬å¼€çš„ä»£ç ä»“åº“ï¼Œåªæœ‰ä»˜è´¹è´¦æˆ·å¯ä»¥åˆ›å»ºç§æœ‰çš„ä»£ç ä»“åº“ã€‚ Gitlabè§£å†³äº†è¿™ä¸ªé—®é¢˜, å¯ä»¥åœ¨ä¸Šé¢åˆ›å»ºå…è´¹çš„ç§äººrepoã€‚
gitï¼šæ˜¯ä¸€å¥—è½¯ä»¶ å¯ä»¥åšæœ¬åœ°ç§æœ‰ä»“åº“
githubï¼šæœ¬èº«æ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡ç½‘ç«™ å…¬æœ‰å’Œç§æœ‰ä»“åº“(æ”¶è´¹) ä¸èƒ½åšæœ¬åœ°ç§æœ‰ä»“åº“
gitlabï¼šæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡çš„ç½‘ç«™ åŠŸèƒ½ä¸Šå’Œgithubæ²¡æœ‰åŒºåˆ« å…¬æœ‰å’Œç§æœ‰ä»“åº“ï¼ˆå…è´¹ï¼‰ å¯ä»¥éƒ¨ç½²æœ¬åœ°ç§æœ‰ä»“åº“
Git ä¸ SVN åŒºåˆ« GITä¸ä»…ä»…æ˜¯ä¸ªç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå®ƒä¹Ÿæ˜¯ä¸ªå†…å®¹ç®¡ç†ç³»ç»Ÿ(CMS),å·¥ä½œç®¡ç†ç³»ç»Ÿç­‰ã€‚
å¦‚æœä½ æ˜¯ä¸€ä¸ªå…·æœ‰ä½¿ç”¨SVNèƒŒæ™¯çš„äººï¼Œä½ éœ€è¦åšä¸€å®šçš„æ€æƒ³è½¬æ¢ï¼Œæ¥é€‚åº”GITæä¾›çš„ä¸€äº›æ¦‚å¿µå’Œç‰¹å¾ã€‚
Git ä¸ SVN åŒºåˆ«
Gitæ˜¯åˆ†å¸ƒå¼çš„ï¼Œsvnä¸æ˜¯ï¼šè¿™æ˜¯GITå’Œå…¶å®ƒéåˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä¾‹å¦‚SVNï¼ŒCVSç­‰ï¼Œæœ€æ ¸å¿ƒçš„åŒºåˆ«ã€‚ GITæŠŠå†…å®¹æŒ‰å…ƒæ•°æ®æ–¹å¼å­˜å‚¨ï¼Œè€ŒSVNæ˜¯æŒ‰æ–‡ä»¶ï¼šæ‰€æœ‰çš„èµ„æºæ§åˆ¶ç³»ç»Ÿéƒ½æ˜¯æŠŠæ–‡ä»¶çš„å…ƒä¿¡æ¯éšè—åœ¨ä¸€ä¸ªç±»ä¼¼.svn,.cvsç­‰çš„æ–‡ä»¶å¤¹é‡Œã€‚ GITåˆ†æ”¯å’ŒSVNçš„åˆ†æ”¯ä¸åŒï¼šåˆ†æ”¯åœ¨SVNä¸­ä¸€ç‚¹ä¸ç‰¹åˆ«ï¼Œå°±æ˜¯ç‰ˆæœ¬åº“ä¸­çš„å¦å¤–çš„ä¸€ä¸ªç›®å½•ã€‚ GITæ²¡æœ‰ä¸€ä¸ªå…¨å±€çš„ç‰ˆæœ¬å·ï¼Œè€ŒSVNæœ‰ï¼šç›®å‰ä¸ºæ­¢è¿™æ˜¯è·ŸSVNç›¸æ¯”GITç¼ºå°‘çš„æœ€å¤§çš„ä¸€ä¸ªç‰¹å¾ã€‚ GITçš„å†…å®¹å®Œæ•´æ€§è¦ä¼˜äºSVNï¼šGITçš„å†…å®¹å­˜å‚¨ä½¿ç”¨çš„æ˜¯SHA-1å“ˆå¸Œç®—æ³•ã€‚è¿™èƒ½ç¡®ä¿ä»£ç å†…å®¹çš„å®Œæ•´æ€§ï¼Œç¡®ä¿åœ¨é‡åˆ°ç£ç›˜æ•…éšœå’Œç½‘ç»œé—®é¢˜æ—¶é™ä½å¯¹ç‰ˆæœ¬åº“çš„ç ´åã€‚ git æ˜¯åˆ†å¸ƒå¼çš„ç‰ˆæœ¬æ§åˆ¶å™¨ æ²¡æœ‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„æ¦‚å¿µã€‚
svn å®ƒæ˜¯C/Sç»“æ„çš„ç‰ˆæœ¬æ§åˆ¶å™¨ æœ‰å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ æœåŠ¡å™¨å¦‚æœå®•æœºè€Œä¸”ä»£ç æ²¡æœ‰å¤‡ä»½çš„æƒ…å†µä¸‹ å®Œæ•´ä»£ç å°±ä¼šä¸¢å¤±
Git å·¥ä½œæµç¨‹ ä¸€èˆ¬å·¥ä½œæµç¨‹å¦‚ä¸‹ï¼š
å…‹éš† Git èµ„æºä½œä¸ºå·¥ä½œç›®å½•ã€‚ åœ¨å…‹éš†çš„èµ„æºä¸Šæ·»åŠ æˆ–ä¿®æ”¹æ–‡ä»¶ã€‚ å¦‚æœå…¶ä»–äººä¿®æ”¹äº†ï¼Œä½ å¯ä»¥æ›´æ–°èµ„æºã€‚ åœ¨æäº¤å‰æŸ¥çœ‹ä¿®æ”¹ã€‚ æäº¤ä¿®æ”¹ã€‚ åœ¨ä¿®æ”¹å®Œæˆåï¼Œå¦‚æœå‘ç°é”™è¯¯ï¼Œå¯ä»¥æ’¤å›æäº¤å¹¶å†æ¬¡ä¿®æ”¹å¹¶æäº¤ã€‚ Git çš„å·¥ä½œæµç¨‹ç¤ºæ„å›¾ï¼š
Git åŸºæœ¬æ¦‚å¿µ **å·¥ä½œåŒºï¼š**å°±æ˜¯ä½ åœ¨ç”µè„‘é‡Œèƒ½çœ‹åˆ°çš„ç›®å½•ã€‚ **æš‚å­˜åŒºï¼š**è‹±æ–‡å«stage, æˆ–indexã€‚ä¸€èˆ¬å­˜æ”¾åœ¨&amp;quot;gitç›®å½•&amp;quot;ä¸‹çš„indexæ–‡ä»¶ï¼ˆ.git/indexï¼‰ä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠæš‚å­˜åŒºæœ‰æ—¶ä¹Ÿå«ä½œç´¢å¼•ï¼ˆindexï¼‰ã€‚ **ç‰ˆæœ¬åº“ï¼š**å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½•.gitï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“ã€‚ å·¥ä½œåŒºã€ç‰ˆæœ¬åº“ä¸­çš„æš‚å­˜åŒºå’Œç‰ˆæœ¬åº“ä¹‹é—´çš„å…³ç³»çš„ç¤ºæ„å›¾ï¼š
å›¾ä¸­å·¦ä¾§ä¸ºå·¥ä½œåŒºï¼Œå³ä¾§ä¸ºç‰ˆæœ¬åº“ã€‚åœ¨ç‰ˆæœ¬åº“ä¸­æ ‡è®°ä¸º &amp;ldquo;index&amp;rdquo; çš„åŒºåŸŸæ˜¯æš‚å­˜åŒºï¼ˆstage, indexï¼‰ï¼Œæ ‡è®°ä¸º &amp;ldquo;master&amp;rdquo; çš„æ˜¯ master åˆ†æ”¯æ‰€ä»£è¡¨çš„ç›®å½•æ ‘ã€‚
å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæ­¤æ—¶ &amp;ldquo;HEAD&amp;rdquo; å®é™…æ˜¯æŒ‡å‘ master åˆ†æ”¯çš„ä¸€ä¸ª&amp;quot;æ¸¸æ ‡&amp;quot;ã€‚æ‰€ä»¥å›¾ç¤ºçš„å‘½ä»¤ä¸­å‡ºç° HEAD çš„åœ°æ–¹å¯ä»¥ç”¨ master æ¥æ›¿æ¢ã€‚
å›¾ä¸­çš„ objects æ ‡è¯†çš„åŒºåŸŸä¸º Git çš„å¯¹è±¡åº“ï¼Œå®é™…ä½äº &amp;ldquo;.git/objects&amp;rdquo; ç›®å½•ä¸‹ï¼Œé‡Œé¢åŒ…å«äº†åˆ›å»ºçš„å„ç§å¯¹è±¡åŠå†…å®¹ã€‚
å½“å¯¹å·¥ä½œåŒºä¿®æ”¹ï¼ˆæˆ–æ–°å¢ï¼‰çš„æ–‡ä»¶æ‰§è¡Œ &amp;ldquo;git add&amp;rdquo; å‘½ä»¤æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘è¢«æ›´æ–°ï¼ŒåŒæ—¶å·¥ä½œåŒºä¿®æ”¹ï¼ˆæˆ–æ–°å¢ï¼‰çš„æ–‡ä»¶å†…å®¹è¢«å†™å…¥åˆ°å¯¹è±¡åº“ä¸­çš„ä¸€ä¸ªæ–°çš„å¯¹è±¡ä¸­ï¼Œè€Œè¯¥å¯¹è±¡çš„IDè¢«è®°å½•åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶ç´¢å¼•ä¸­ã€‚
å½“æ‰§è¡Œæäº¤æ“ä½œï¼ˆgit commitï¼‰æ—¶ï¼Œæš‚å­˜åŒºçš„ç›®å½•æ ‘å†™åˆ°ç‰ˆæœ¬åº“ï¼ˆå¯¹è±¡åº“ï¼‰ä¸­ï¼Œmaster åˆ†æ”¯ä¼šåšç›¸åº”çš„æ›´æ–°ã€‚å³ master æŒ‡å‘çš„ç›®å½•æ ‘å°±æ˜¯æäº¤æ—¶æš‚å­˜åŒºçš„ç›®å½•æ ‘ã€‚</description>
    </item>
    <item>
      <title>Gitä½¿ç”¨</title>
      <link>https://blog.chensoul.cc/posts/2024/07/15/git/</link>
      <pubDate>Mon, 15 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/15/git/</guid>
      <description>éƒ¨ç½²Git æœåŠ¡ åˆ›å»ºgitä»“åº“
git-serverä¸Šçš„æ“ä½œï¼š
[root@localhost ~]# yum install git git-core gitweb -y [root@localhost ~]# useradd git [root@localhost ~]# passwd git [root@localhost ~]# mkdir /git-root/ [root@localhost ~]# cd /git-root/ [root@localhost git-root]# git init --bare shell.git Initialized empty Git repository in /git-root/shell.git/ [root@localhost git-root]# chown -R git:git shell.git æ³¨æ„ï¼š git init å’Œ git init &amp;ndash;bare çš„åŒºåˆ«:
ä½¿ç”¨&amp;ndash;bareé€‰é¡¹æ—¶ï¼Œä¸å†ç”Ÿæˆ .git ç›®å½•ï¼Œè€Œæ˜¯åªç”Ÿæˆ .git ç›®å½•ä¸‹é¢çš„ç‰ˆæœ¬å†å²è®°å½•æ–‡ä»¶ï¼Œè¿™äº›ç‰ˆæœ¬å†å²è®°å½•æ–‡ä»¶ä¹Ÿä¸å†å­˜æ”¾åœ¨ .git ç›®å½•ä¸‹é¢ï¼Œè€Œæ˜¯ç›´æ¥å­˜æ”¾åœ¨ç‰ˆæœ¬åº“çš„æ ¹ç›®å½•ä¸‹é¢ã€‚ ç”¨&amp;quot;git init&amp;quot;åˆå§‹åŒ–çš„ç‰ˆæœ¬åº“ç”¨æˆ·ä¹Ÿå¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œæ‰€æœ‰ git æ–¹é¢çš„æ“ä½œã€‚ä½†åˆ«çš„ç”¨æˆ·åœ¨å°†æ›´æ–° push ä¸Šæ¥çš„æ—¶å€™å®¹æ˜“å‡ºç°å†²çªã€‚ ä½¿ç”¨â€git init &amp;ndash;bareâ€æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ‰€è°“çš„è£¸ä»“åº“ï¼Œä¹‹æ‰€ä»¥å«è£¸ä»“åº“æ˜¯å› ä¸ºè¿™ä¸ªä»“åº“åªä¿å­˜gitå†å²æäº¤çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œè€Œä¸å…è®¸ç”¨æˆ·åœ¨ä¸Šé¢è¿›è¡Œå„ç§gitæ“ä½œï¼Œå¦‚æœä½ ç¡¬è¦æ“ä½œçš„è¯ï¼Œåªä¼šå¾—åˆ°ä¸‹é¢çš„é”™è¯¯ï¼ˆâ€This operation must be run in a work treeâ€ï¼‰è¿™ä¸ªå°±æ˜¯æœ€å¥½æŠŠè¿œç«¯ä»“åº“åˆå§‹åŒ–æˆbareä»“åº“çš„åŸå›  gitä»“åº“æµ‹è¯•
git-clientä¸Šçš„æ“ä½œï¼š
[root@localhost ~]# ssh-keygen [root@localhost ~]# ssh-copy-id git@192.168.1.178 [root@localhost shell]# git config --global user.email &amp;#34;you@example.com&amp;#34; [root@localhost shell]# git config --global user.name &amp;#34;Your Name&amp;#34; [root@localhost ~]# git clone git@192.</description>
    </item>
    <item>
      <title>Minikubeå¿«é€Ÿå…¥é—¨</title>
      <link>https://blog.chensoul.cc/posts/2024/07/10/minikube-quick-start/</link>
      <pubDate>Wed, 10 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/10/minikube-quick-start/</guid>
      <description>å®‰è£… macos ç³»ç»Ÿä½¿ç”¨ brew å®‰è£…
brew install minikube å¯åŠ¨é›†ç¾¤ æŸ¥çœ‹å½“å‰é›†ç¾¤åˆ—è¡¨
$ minikube profile list |----------|-----------|---------|--------------|------|---------|---------|-------|----------------|--------------------| | Profile | VM Driver | Runtime | IP | Port | Version | Status | Nodes | Active Profile | Active Kubecontext | |----------|-----------|---------|--------------|------|---------|---------|-------|----------------|--------------------| | minikube | docker | docker | 192.168.49.2 | 8443 | v1.30.0 | Unknown | 1 | * | * | |----------|-----------|---------|--------------|------|---------|---------|-------|----------------|--------------------| åˆ›å»ºä¸€ä¸ªé›†ç¾¤
# å¯åŠ¨ä¸€ä¸ªåç§°ä¸º minikube é›†ç¾¤ï¼Œå‘½åç©ºé—´ä¸º default minikube start é»˜è®¤æƒ…å†µä¸‹ï¼Œminikube start åˆ›å»ºä¸€ä¸ªåä¸ºâ€œminikubeâ€çš„é›†ç¾¤ã€‚å¦‚æœæ‚¨æƒ³åˆ›å»ºä¸åŒçš„é›†ç¾¤æˆ–æ›´æ”¹å…¶åç§°ï¼Œå¯ä»¥ä½¿ç”¨--profile(æˆ–-p) æ ‡å¿—ï¼š
minikube start -p test å¦‚æœåªæƒ³ä½¿ç”¨ docker è€Œä¸ä½¿ç”¨ k8sï¼š
minikube start --container-runtime=docker --no-kubernetes æŒ‡å®šèµ„æºï¼š
minikube start --cpus 4 --memory 8G ä¹Ÿå¯ä»¥è°ƒæ•´èµ„æºï¼š
minikube config set cpus 2 minikube config set memory 2G k8s é›†ç¾¤åˆ›å»ºæˆåŠŸä¹‹åï¼Œå¯ä»¥é€šè¿‡ kubectl æŸ¥çœ‹ä¸Šä¸‹æ–‡ï¼š</description>
    </item>
    <item>
      <title>Dockerå®‰è£…å’Œé…ç½®</title>
      <link>https://blog.chensoul.cc/posts/2024/07/09/install-docker/</link>
      <pubDate>Tue, 09 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/09/install-docker/</guid>
      <description>Centos7å®‰è£…Docker é…ç½®å®¿ä¸»æœºç½‘å¡è½¬å‘ ## é…ç½®ç½‘å¡è½¬å‘ï¼Œçœ‹å€¼æ˜¯å¦ä¸º1 $ sysctl -a |grep -w net.ipv4.ip_forward net.ipv4.ip_forward = 1 ## è‹¥æœªé…ç½®ï¼Œéœ€è¦æ‰§è¡Œå¦‚ä¸‹ $ cat &amp;lt;&amp;lt;EOF &amp;gt; /etc/sysctl.d/docker.conf net.bridge.bridge-nf-call-ip6tables = 1 net.bridge.bridge-nf-call-iptables = 1 net.ipv4.ip_forward=1 EOF $ sysctl -p /etc/sysctl.d/docker.conf Yumå®‰è£…é…ç½®docker ## ä¸‹è½½é˜¿é‡Œæºrepoæ–‡ä»¶ $ sudo yum install -y yum-utils $ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/repo/Centos-7.repo $ sudo yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo $ sudo yum clean all &amp;amp;&amp;amp; yum makecache ## yumå®‰è£… $ sudo yum install -y docker-ce docker-ce-cli ## è®¾ç½®å¼€æœºè‡ªå¯ systemctl enable docker systemctl daemon-reload ## å¯åŠ¨docker systemctl start docker ## æŸ¥çœ‹dockerä¿¡æ¯ docker info docker version ## docker-client which docker ## docker daemon ps aux |grep docker å®‰è£… Compose pluginï¼š</description>
    </item>
    <item>
      <title>ä½¿ç”¨ Docker å®¹å™¨åŒ–å¹¶è¿è¡Œ Spring Boot åº”ç”¨ç¨‹åº</title>
      <link>https://blog.chensoul.cc/posts/2024/07/09/docker-for-spring-boot/</link>
      <pubDate>Tue, 09 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/09/docker-for-spring-boot/</guid>
      <description>æœ¬æ–‡ç¿»è¯‘è‡ª Docker å®˜æ–¹ç½‘ç«™çš„ã€ŠJava language-specific guideã€‹æ–‡ç« ï¼Œå¹¶åšäº†ä¸€äº›æ”¹åŠ¨ã€‚
Java å…¥é—¨æŒ‡å—æ•™æ‚¨å¦‚ä½•ä½¿ç”¨ Docker åˆ›å»ºå®¹å™¨åŒ–çš„ Spring Boot åº”ç”¨ç¨‹åºã€‚åœ¨æœ¬æ¨¡å—ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ï¼š
ä½¿ç”¨ Maven å®¹å™¨åŒ–å¹¶è¿è¡Œ Spring Boot åº”ç”¨ç¨‹åº è®¾ç½®æœ¬åœ°å¼€å‘ç¯å¢ƒä»¥å°†æ•°æ®åº“è¿æ¥åˆ°å®¹å™¨ï¼Œé…ç½®è°ƒè¯•å™¨ï¼Œå¹¶ä½¿ç”¨ Compose Watch è¿›è¡Œå®æ—¶é‡æ–°åŠ è½½ åœ¨å®¹å™¨å†…è¿è¡Œå•å…ƒæµ‹è¯• ä½¿ç”¨ GitHub Actions ä¸ºåº”ç”¨ç¨‹åºé…ç½® CI/CD ç®¡é“ å°†å®¹å™¨åŒ–åº”ç”¨ç¨‹åºæœ¬åœ°éƒ¨ç½²åˆ° Kubernetes ä»¥æµ‹è¯•å’Œè°ƒè¯•æ‚¨çš„éƒ¨ç½² å®Œæˆ Java å…¥é—¨æ¨¡å—åï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿæ ¹æ®æœ¬æŒ‡å—ä¸­æä¾›çš„ç¤ºä¾‹å’Œè¯´æ˜æ¥å®¹å™¨åŒ–æ‚¨è‡ªå·±çš„ Java åº”ç”¨ç¨‹åºã€‚
å®¹å™¨åŒ–ä½ çš„åº”ç”¨ å…ˆå†³æ¡ä»¶ æ‚¨å·²å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„ Docker Desktopï¼ŒDocker ä¼šå®šæœŸæ·»åŠ æ–°åŠŸèƒ½ï¼Œæœ¬æŒ‡å—çš„æŸäº›éƒ¨åˆ†å¯èƒ½ä»…é€‚ç”¨äºæœ€æ–°ç‰ˆæœ¬çš„ Docker Desktopã€‚
æ‚¨æœ‰ä¸€ä¸ª Git å®¢æˆ·ç«¯ã€‚æœ¬èŠ‚ä¸­çš„ç¤ºä¾‹ä½¿ç”¨åŸºäºå‘½ä»¤è¡Œçš„ Git å®¢æˆ·ç«¯ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•å®¢æˆ·ç«¯ã€‚
è·å–ç¤ºä¾‹åº”ç”¨ç¨‹åº å°†è¦ä½¿ç”¨çš„ç¤ºä¾‹åº”ç”¨ç¨‹åºå…‹éš†åˆ°æœ¬åœ°å¼€å‘æœºå™¨ã€‚åœ¨ç»ˆç«¯ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥å…‹éš†å­˜å‚¨åº“ã€‚
$ git clone https://github.com/spring-projects/spring-petclinic.git $ cd spring-petclinic åˆå§‹åŒ– Docker èµ„äº§ ç°åœ¨æ‚¨æœ‰äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒdocker initæ¥åˆ›å»ºå¿…è¦çš„ Docker èµ„äº§æ¥å®¹å™¨åŒ–æ‚¨çš„åº”ç”¨ç¨‹åºã€‚åœ¨ spring-petclinic ä¸­å·²åŒ…å« Docker èµ„äº§ã€‚ç³»ç»Ÿå°†æç¤ºæ‚¨è¦†ç›–ç°æœ‰ Docker èµ„äº§ã€‚è¦ç»§ç»­æœ¬æŒ‡å—ï¼Œè¯·é€‰æ‹©yè¦†ç›–å®ƒä»¬ã€‚
$ docker init Welcome to the Docker Init CLI! This utility will walk you through creating the following files with sensible defaults for your project: - .dockerignore - Dockerfile - compose.</description>
    </item>
    <item>
      <title>[è¯‘]Minikube ä¸­çš„ Minions - é¢å‘ Java å¼€å‘äººå‘˜çš„ Kubernetes ç®€ä»‹</title>
      <link>https://blog.chensoul.cc/posts/2024/07/08/minions-in-minikube-a-kubernetes-intro-for-java-de/</link>
      <pubDate>Mon, 08 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/08/minions-in-minikube-a-kubernetes-intro-for-java-de/</guid>
      <description>æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å¾®æœåŠ¡æ˜¯å¯å¤åˆ¶ã€å¯æ›¿æ¢çš„å·¥ä½œç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾å‡çº§æˆ–é™çº§ï¼Œæ— éœ€åœæœºï¼Œç®¡ç†ä¹Ÿåªéœ€æœ€å°‘ã€‚æˆ‘ä»¬å¯èƒ½ä¼šè¯´æˆ‘ä»¬å¸Œæœ›ä»–ä»¬æ˜¯æˆ‘ä»¬çš„å¥´æ‰ã€‚åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥äº†è§£ Kubernetes é€šè¿‡åˆ›å»ºå’Œç¼–æ’å¥´æ‰å¤§å†›å¯ä»¥ä¸ºæˆ‘ä»¬åšäº›ä»€ä¹ˆã€‚æ‚¨å¯ä»¥æŒ‰ç…§æœ¬æ–‡è¿›è¡Œç¼–ç ï¼Œä¹Ÿå¯ä»¥ä»æ­¤å¤„å…‹éš†é¡¹ç›®ã€‚
å…ˆå†³æ¡ä»¶ æˆ‘ä»¬éœ€è¦å°†å¾®æœåŠ¡å®¹å™¨åŒ–ï¼Œä»¥ä¾¿åœ¨ Kubernetes ä¸­è¿è¡Œå®ƒä»¬ â€” æˆ‘ä»¬å°†ä½¿ç”¨Dockeræ¥å®ç°è¿™ä¸€ç‚¹ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Minikubeï¼Œè€Œä¸æ˜¯ä½¿ç”¨äº‘æ‰˜ç®¡çš„ Kubernetesï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨æœ¬åœ°è¿›è¡Œæ²™ç›’å¤„ç†ã€‚
ç›®çš„ æˆ‘ä»¬çš„ä»†ä»å¤§å†›å°†æ˜¯ Java å¾®æœåŠ¡ã€‚æˆ‘ä»¬å¸Œæœ›æˆ‘ä»¬çš„å¤§å†›ä¸­æœ‰ä¸åŒç±»å‹çš„ä»†ä»ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½çœ‹åˆ° Kubernetes èƒ½ä¸ºæˆ‘ä»¬åšäº›ä»€ä¹ˆã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è®©æ¯ä¸ªå¾®æœåŠ¡éƒ½å“åº”ä¸€ä¸ªç®€å•çš„ http è¯·æ±‚ï¼Œå“åº”å¦‚ä¸‹ï¼š
æˆ‘ä»¬å°†ä½¿ç”¨ ASCII è‰ºæœ¯æ¥ä»£è¡¨ä»†ä»ç±»å‹ã€‚
æ„å»ºJava MinionæœåŠ¡ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦æœ‰ Web starter ä¾èµ–é¡¹çš„Spring Initializr å°†æˆ‘ä»¬çš„å¾®æœåŠ¡ä½œä¸º Spring Boot Web åº”ç”¨ç¨‹åºå¯åŠ¨ï¼š
åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¸¦æ³¨é‡Šçš„æ§åˆ¶å™¨æ¥ @RestController å¤„ç†è¯·æ±‚ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ @RequestMapping(method=GET) æ¥æä¾›å“åº”ä¸»ä½“ã€‚å› æ­¤ï¼Œé¦–å…ˆæˆ‘ä»¬å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š
@RequestMapping( method=GET) @ResponseBody public String minion() throws UnknownHostException { StringBuilder stringBuilder = new StringBuilder(); stringBuilder.append(&amp;#34;Host: &amp;#34;).append(InetAddress.getLocalHost().getHostName()).append(&amp;#34;&amp;lt;br/&amp;gt;&amp;#34;); return stringBuilder.toString(); } ä½†è¿™å¹¶ä¸èƒ½å®Œå…¨æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿™é‡Œè¾“å‡º ASCII è‰ºæœ¯ï¼Œä½†æ˜¯æˆ‘ä»¬è¦é€‰æ‹©å“ªç§ç±»å‹çš„ Minionï¼Ÿä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæŠ€å·§ã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªå¯ä»¥é‡‡ç”¨æˆ‘ä»¬é€‰æ‹©çš„ä»»ä½• Minion ç±»å‹çš„åº”ç”¨ç¨‹åºã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å®ƒåŒ…å«ä¸€ä¸ª ASCII è‰ºæœ¯ Minion åº“ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸º MinionsLibrary çš„ç±»ï¼Œæˆ‘ä»¬ç”¨å®ƒæ¥æ³¨é‡Šï¼Œ @Component å¹¶åœ¨å…¶ä¸­åˆ›å»ºä¸€ä¸ªæ˜ å°„ï¼Œæˆ‘ä»¬ç”¨æ¥è‡ªæ­¤åšå®¢ çš„ä¸€äº› Minion æ¥åˆå§‹åŒ–å®ƒï¼š
@Component public class MinionsLibrary { private Map&amp;lt;String,String&amp;gt; map = new HashMap&amp;lt;&amp;gt;(); public MinionsLibrary(){ map.put(&amp;#34;one-eyed-minion&amp;#34;,&amp;lt;COPY-PASTE MINION ASCII ART HERE&amp;gt;); map.put(&amp;#34;two-eyed-minion&amp;#34;,&amp;lt;COPY-PASTE MINION ASCII ART HERE&amp;gt;); map.put(&amp;#34;sad-minion&amp;#34;,&amp;lt;COPY-PASTE MINION ASCII ART HERE&amp;gt;); map.</description>
    </item>
    <item>
      <title>[è¯‘]é¢å‘ Java å¼€å‘äººå‘˜çš„ Kubernetes</title>
      <link>https://blog.chensoul.cc/posts/2024/07/08/kubernetes-for-java-developers/</link>
      <pubDate>Mon, 08 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/08/kubernetes-for-java-developers/</guid>
      <description>æœ‰ä¸€ç±»æ–°å·¥å…·å¯ç”¨äºå°†åº”ç”¨ç¨‹åº docker åŒ–å¹¶éƒ¨ç½²åˆ° Kubernetesï¼Œè¿™äº›å·¥å…·ä¸“é—¨é¢å‘å¼€å‘äººå‘˜ã€‚è¯¥ç±»åˆ«ä¸­çš„æœ€æ–°å·¥å…·æ˜¯ RedHat çš„ JKubeã€‚
å¾®æœåŠ¡æ˜¯ä¸€ç§æ¶æ„é£æ ¼ï¼Œç”±ä¸€ä¸ªå°å‹çš„ã€å•ç‹¬çš„åº”ç”¨ç¨‹åºç»„ä»¶ç»„æˆï¼Œè¯¥ç»„ä»¶å…·æœ‰å•ä¸€èŒè´£ï¼Œåœ¨éƒ¨ç½²å’Œå¯æ‰©å±•æ€§æ–¹é¢å…·æœ‰é«˜åº¦çš„è‡ªä¸»æ€§ã€‚è¿™äº›ç»„ä»¶é€šè¿‡è½»é‡çº§åè®®ï¼ˆå¦‚ REST over HTTPï¼‰è¿›è¡Œé€šä¿¡ã€‚å› æ­¤ï¼Œå¼€å‘å›¢é˜Ÿè§„æ¨¡å¾ˆå°ï¼ˆä¸¤ä¸ªæŠ«è¨è§„åˆ™ï¼‰ï¼Œä¸“æ³¨äºå¾®æœåŠ¡ã€‚å®é™…ä¸Šï¼Œå›¢é˜Ÿæ‹¥æœ‰ä»å¼€å‘åˆ°éƒ¨ç½²çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸâ€”â€”å¦‚æœä½ æ„å»ºäº†å®ƒï¼Œä½ å°±ä¼šè¿è¡Œå®ƒã€‚è¿™å°±äº§ç”Ÿäº†ä¸€ä¸ªé—®é¢˜ã€‚æ¯•ç«Ÿï¼Œå¼€å‘å›¢é˜Ÿçš„æ ¸å¿ƒç«äº‰åŠ›é€šå¸¸æ˜¯ Mavenã€å¾®æœåŠ¡æ¡†æ¶ï¼ˆä¾‹å¦‚ Spring Bootï¼‰ã€æµ‹è¯•æ¡†æ¶ï¼ˆå¦‚ JUnitï¼‰ç­‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬çœ‹ä¸€ä¸‹éƒ¨ç½²å¾®æœåŠ¡æ‰€æ¶‰åŠçš„æ­¥éª¤ï¼š
å°†åº”ç”¨ç¨‹åºæ‰“åŒ…åˆ° Docker ç­‰å®¹å™¨ä¸­ã€‚è¿™æ¶‰åŠç¼–å†™ Dockerfileã€‚ å°†å®¹å™¨éƒ¨ç½²åˆ° Kubernetes ç­‰ç¼–æ’å™¨ã€‚è¿™æ¶‰åŠç¼–å†™ä¸€äº›èµ„æºï¼›æœåŠ¡æè¿°æ–‡ä»¶ã€éƒ¨ç½²ç­‰ã€‚ ç”¨å¼€å‘äººå‘˜ç†Ÿæ‚‰çš„æœ¯è¯­æ¥è¯´ï¼Œè¿™å°±æ˜¯â€œé˜»æŠ—ä¸åŒ¹é…â€ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç±»èƒ½å¤Ÿä½¿ç”¨å¼€å‘äººå‘˜çš„è¯­è¨€å¹¶ä½¿æ•´ä¸ªéƒ¨ç½²æ­¥éª¤å¯¹ä»–ä»¬é€æ˜çš„å·¥å…·ã€‚å…¶ä¸­æœ€è‘—åçš„æ˜¯Jib ï¼Œæˆ‘ä»¬åœ¨ä¹‹å‰çš„è®ºæ–‡ä¸­è®¨è®ºè¿‡å®ƒï¼Œå®ƒå¯ä»¥ä¸ºæ‚¨çš„ Java åº”ç”¨ç¨‹åºæ„å»ºä¼˜åŒ–çš„ Docker å’ŒOCIæ˜ åƒï¼Œå¹¶ä»¥ Maven æ’ä»¶çš„å½¢å¼æä¾›ã€‚æ­¤ç±»åˆ«ä¸­è¿˜æœ‰å…¶ä»–å·¥å…·ï¼Œä¾‹å¦‚Dekorateï¼Œå®ƒå…è®¸æˆ‘ä»¬ä»…ä½¿ç”¨ Maven å’Œ Java æ³¨é‡Šæ¥ç”Ÿæˆ Kubernetes æ¸…å•ã€‚æ­¤ç±»åˆ«ä¸­æœ€æ–°ä¸”æœ€å…¨é¢çš„æ¡ç›®æ˜¯ RedHat çš„ JKubeï¼Œè¿™æ˜¯æˆ‘ä»¬çš„å½“æ—¥ä¸»é¢˜ã€‚
JKubeæ˜¯ä¸€ä¸ª Maven æ’ä»¶ï¼Œå…¶ç›®æ ‡åŒ…æ‹¬æ„å»º Docker æ˜ åƒå’Œåˆ›å»º Kubernetes èµ„æºæè¿°ç¬¦ã€‚æ˜ åƒå’Œæè¿°ç¬¦å¯ä»¥åœ¨æ²¡æœ‰é…ç½®çš„æƒ…å†µä¸‹ç”Ÿæˆï¼ŒåŸºäºåŸºäº pom æ–‡ä»¶ä¸­æ¡ç›®çš„ä¸€äº›é»˜è®¤è®¾ç½®ï¼Œæˆ–è€…å¯ä»¥ä½¿ç”¨ pom ä¸­çš„ XML æ¡ç›®è¿›è¡Œè‡ªå®šä¹‰ï¼Œæˆ–è€…åœ¨æç«¯æƒ…å†µä¸‹ä½¿ç”¨ Dockerfile å’Œèµ„æºç‰‡æ®µè¿›è¡Œè‡ªå®šä¹‰ã€‚ä»¥ä¸‹æ˜¯è¯¥æ’ä»¶çš„ç›®æ ‡ï¼š
ç›®æ ‡ æè¿° k8s:build å°†åº”ç”¨ç¨‹åº Docker åŒ–ä¸ºæ˜ åƒã€‚ k8s:resource ç”Ÿæˆ k8s èµ„æºæè¿°ç¬¦ã€‚ k8s:apply åº”ç”¨è¿™äº›æ¸…å•ã€‚ k8s:log æŸ¥çœ‹å®¹å™¨çš„æ—¥å¿—ã€‚ K8s:undeploy æ’¤æ¶ˆéƒ¨ç½²ã€‚ é¦–å…ˆï¼Œæˆ‘å‡è®¾æ‚¨å·²åœ¨æœ¬åœ°å®‰è£…äº† Docker å’Œ Kubernetesã€‚æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚æˆ‘è¿˜å‡è®¾æ‚¨å…·å¤‡ Docker å’Œ Kubernetes çš„åŸºæœ¬çŸ¥è¯†ï¼Œå¦‚ [ Docker ] å’Œ [ Kubernetes ] ä¸­æ‰€è¿°ã€‚
&amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.eclipse.jkube&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;kubernetes-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;1.2.0&amp;lt;/version&amp;gt; &amp;lt;/plugin&amp;gt; ç°åœ¨æˆ‘ä»¬å¯ä»¥ç”Ÿæˆå›¾åƒï¼š
mvn k8s:build åœ¨é€šå¸¸çš„ Spring Boot æ­Œèˆä¹‹åï¼Œæ‚¨å¯ä»¥åˆ—å‡ºå›¾åƒï¼š
æ‚¨å¯ä»¥è‡ªå®šä¹‰å›¾åƒã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›é€šè¿‡é…ç½®frompom ä¸­çš„å…ƒç´ æ¥é€‰æ‹©æ’ä»¶ä½¿ç”¨çš„é»˜è®¤å›¾åƒä»¥å¤–çš„åŸºç¡€å›¾åƒï¼š</description>
    </item>
    <item>
      <title>ActiveMQå®‰è£…å’Œä½¿ç”¨</title>
      <link>https://blog.chensoul.cc/posts/2024/07/05/install-activemq/</link>
      <pubDate>Fri, 05 Jul 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/07/05/install-activemq/</guid>
      <description>ActiveMQ æ˜¯ä¸€ä¸ªå®ç°äº† JMS åè®®çš„å¼€æºæ¶ˆæ¯ä¸­é—´ä»¶ï¼Œç›®å‰å®ƒæœ‰ä¸¤ç§ç‰ˆæœ¬ï¼šActiveMQ &amp;ldquo;Classic&amp;rdquo; å’Œ ActiveMQ Artemisã€‚
Artemis ç‰ˆæœ¬ä½œä¸ºClassicç‰ˆæœ¬çš„æ›¿ä»£å“è€Œè¯ç”Ÿï¼Œç›¸è¾ƒçš„æå‡ç‚¹æœ‰ï¼š
é«˜æ€§èƒ½ä¸ä½å»¶è¿Ÿï¼šArtemisé€šè¿‡æ”¹è¿›çš„è®¾è®¡å®ç°äº†æ›´é«˜çš„ååé‡å’Œæ›´ä½çš„æ¶ˆæ¯å¤„ç†å»¶è¿Ÿã€‚
å­˜å‚¨æœºåˆ¶ï¼šä½¿ç”¨äº†ä¸åŒçš„æŒä¹…åŒ–ç­–ç•¥å’Œæ—¥å¿—ç»“æ„ï¼Œæ¯”å¦‚Journalæ–‡ä»¶ç³»ç»Ÿï¼Œä»¥è·å¾—æ›´å¥½çš„å†™æ€§èƒ½å’Œæ¢å¤é€Ÿåº¦ã€‚
å†…å­˜ç®¡ç†ï¼šå†…å­˜ä½¿ç”¨æ•ˆç‡æ›´é«˜ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†å¤§é‡å°æ¶ˆæ¯æ—¶è¡¨ç°æ›´å¥½ã€‚
é›†ç¾¤å’ŒHAï¼šæä¾›äº†æ›´å…ˆè¿›çš„é«˜å¯ç”¨æ€§è§£å†³æ–¹æ¡ˆå’Œæ›´çµæ´»çš„é›†ç¾¤æ¨¡å¼ã€‚
åè®®æ”¯æŒï¼šé™¤äº†åŸæœ‰çš„JMSä¹‹å¤–ï¼Œå¯¹AMQP 1.0çš„æ”¯æŒæ›´åŠ æˆç†Ÿå’Œå®Œå–„ï¼Œå¹¶ä¸”ä¹Ÿæ”¯æŒSTOMPç­‰å¤šç§åè®®ã€‚
æ¶æ„æ›´æ–°ï¼šæ•´ä½“æ¶æ„æ›´ä¸ºç°ä»£åŒ–ï¼Œä¸ºäº‘åŸç”Ÿç¯å¢ƒå’Œå¤§è§„æ¨¡åˆ†å¸ƒå¼éƒ¨ç½²è¿›è¡Œäº†ä¼˜åŒ–ã€‚
ActiveMQ Classic å„ä¸ªç‰ˆæœ¬çš„æ¯”è¾ƒï¼Œå‚è€ƒï¼šhttps://activemq.apache.org/components/classic/download/ ã€‚
6.0.xï¼šéœ€è¦ JDK17 5.17.x + ï¼šéœ€è¦ JDK11 5.16.x ï¼šéœ€è¦ JDK8 æœ¬æ–‡ä»¥ ActiveMQ Classic 5.16.7 è¿›è¡Œæµ‹è¯•ã€‚
å‹ç¼©åŒ…å®‰è£… åœ¨ linux æœåŠ¡å™¨ä¸Šä¸‹è½½å’Œå®‰è£…ï¼š
wget https://archive.apache.org/dist/activemq/5.16.7/apache-activemq-5.16.7-bin.tar.gz tar -zxvf apache-activemq-5.16.7-bin.tar.gz cd apache-activemq-5.16.7 å¯åŠ¨ï¼š
$ bin/activemq start INFO: Loading &amp;#39;/data/apache-activemq-5.16.7//bin/env&amp;#39; INFO: Using java &amp;#39;/usr/bin/java&amp;#39; INFO: Starting - inspect logfiles specified in logging.properties and log4j.properties to get details INFO: pidfile created : &amp;#39;/data/apache-activemq-5.16.7//data/activemq.pid&amp;#39; (pid &amp;#39;31850&amp;#39;) æŸ¥çœ‹æ˜¯å¦å¯åŠ¨æˆåŠŸï¼š
$ netstat -antpule|grep 61616 tcp6 0 0 :::61616 :::* LISTEN 0 382969263 31850/java æŸ¥çœ‹æ—¥å¿—ï¼š
tailf data/activemq.log æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—® http://127.0.0.1:8161/admin ï¼Œé»˜è®¤è´¦å·ï¼šadminï¼Œå¯†ç ï¼šadmin
ä¿®æ”¹é…ç½®ï¼Œæ”¯æŒé€šè¿‡ IP è®¿é—®ï¼Œä¿®æ”¹ conf ç›®å½•ä¸‹çš„ jetty.</description>
    </item>
    <item>
      <title>Gitlabå®‰è£…å’Œéƒ¨ç½²-ä½¿ç”¨Docker</title>
      <link>https://blog.chensoul.cc/posts/2024/06/26/install-gitlab/</link>
      <pubDate>Wed, 26 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/26/install-gitlab/</guid>
      <description>å®‰è£… Gitlab å®‰è£… gitlab-ce ç‰ˆæœ¬ï¼Œå½“å‰æœ€æ–°ç‰ˆæœ¬ä¸º 17.2.0
é…ç½® external_url å‚è€ƒ https://docs.gitlab.com/ee/install/docker.html#install-gitlab-using-docker-compose
services: gitlab: image: gitlab/gitlab-ce container_name: gitlab restart: always hostname: &amp;#39;gitlab.example.com&amp;#39; environment: GITLAB_OMNIBUS_CONFIG: | external_url &amp;#39;https://gitlab.example.com&amp;#39; ports: - &amp;#39;80:80&amp;#39; - &amp;#39;443:443&amp;#39; - &amp;#39;22:22&amp;#39; volumes: - &amp;#39;/srv/gitlab/config:/etc/gitlab&amp;#39; - &amp;#39;/srv/gitlab/logs:/var/log/gitlab&amp;#39; - &amp;#39;/srv/gitlab/data:/var/opt/gitlab&amp;#39; shm_size: &amp;#39;256m&amp;#39; åœæ­¢æœ¬åœ°çš„ sshd å’Œ nginx æœåŠ¡ï¼Œé¿å… 22 ã€80ã€443ç«¯å£å¤‡å ç”¨ï¼š
systemctl stop nginx systemctl stop sshd å¯åŠ¨ gitlabï¼š
export GITLAB_HOME=/srv/gitlab &amp;amp;&amp;amp; docker compose up -d æŸ¥çœ‹æ—¥å¿—ï¼š
docker logs -f gitlab æœ¬åœ°é…ç½® /etc/host æ–‡ä»¶ï¼š
127.0.0.1 gitlab.example.com æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttps://gitlab.example.com/ ï¼Œç”¨æˆ·å rootï¼Œå¯†ç é€šè¿‡ä¸‹é¢å‘½ä»¤æŸ¥çœ‹ï¼š
cat /srv/gitlab/config/initial_root_password ä¿®æ”¹é»˜è®¤ç«¯å£ å‚è€ƒ https://github.com/hutchgrant/gitlab-docker-local/ï¼Œ
services: gitlab: image: gitlab/gitlab-ce container_name: gitlab restart: always hostname: &amp;#39;gitlab.example.com&amp;#39; environment: GITLAB_OMNIBUS_CONFIG: | external_url &amp;#39;https://gitlab.example.com:3143&amp;#39; gitlab_rails[&amp;#39;gitlab_shell_ssh_port&amp;#39;] = 3122 ports: - &amp;#39;3143:443&amp;#39; - &amp;#39;3122:22&amp;#39; volumes: - &amp;#39;/srv/gitlab/config:/etc/gitlab&amp;#39; - &amp;#39;/srv/gitlab/logs:/var/log/gitlab&amp;#39; - &amp;#39;/srv/gitlab/data:/var/opt/gitlab&amp;#39; shm_size: &amp;#39;256m&amp;#39; é…ç½®æ—¶åŒº è¿›å…¥å®¹å™¨ï¼Œä¿®æ”¹é…ç½® /etc/gitlab/gitlab.</description>
    </item>
    <item>
      <title>Jenkinså®‰è£…å’Œéƒ¨ç½²-ä½¿ç”¨Docker</title>
      <link>https://blog.chensoul.cc/posts/2024/06/26/install-jenkins/</link>
      <pubDate>Wed, 26 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/26/install-jenkins/</guid>
      <description>ä½¿ç”¨ Docker å®‰è£… $ docker volume create --name jenkins_data $ docker run -p 8080:8080 -p 50000:50000 -v jenkins_data:/var/jenkins_home jenkins/jenkins:jdk21 ç¬¬ä¸€æ¬¡å¯åŠ¨ Jenkins æ—¶ï¼ŒDocker æ—¥å¿—å°†åŒ…å«å¦‚ä¸‹æ¶ˆæ¯ï¼š
Jenkins initial setup is required. An admin user has been created and a password generated. Please use the following password to proceed to installation: 1883c809f01b4ed585fb5c3e0156543a This may also be found at: /var/jenkins_home/secrets/initialAdminPassword é‚£ä¸²éšæœºçš„æ•°å­—å’Œå­—æ¯æ˜¯åˆå§‹ç®¡ç†å‘˜å¯†ç ï¼Œè¿™æ˜¯å®Œæˆ Jenkins é…ç½®æ‰€å¿…éœ€çš„ã€‚
ä½¿ç”¨ Docker Compose å®‰è£… services: jenkins: image: jenkins/jenkins:jdk21 ports: - &amp;#34;8080:8080&amp;#34; - &amp;#34;50000:50000&amp;#34; volumes: - jenkins_data:/var/jenkins_home - /var/run/docker.sock:/var/run/docker.sock - /etc/localtime:/etc/localtime:ro volumes: jenkins_data: åœ¨ Docker ä¸­ä¸‹è½½å¹¶è¿è¡Œ Jenkins å‚è€ƒ åœ¨ Docker ä¸­ä¸‹è½½å¹¶è¿è¡Œ Jenkinsã€‚
å®šåˆ¶å®˜æ–¹ Jenkins Docker é•œåƒï¼Œä¾‹å¦‚ï¼Œå®‰è£… curlã€mavenã€docker-ce-cli
FROM jenkins/jenkins:jdk21 USER root RUN apt-get update &amp;amp;&amp;amp; apt-get install -y curl maven lsb-release RUN curl -fsSLo /usr/share/keyrings/docker-archive-keyring.</description>
    </item>
    <item>
      <title>TengineåŠ¨æ€è£å‰ªå›¾ç‰‡</title>
      <link>https://blog.chensoul.cc/posts/2024/06/26/install-cert-manager/</link>
      <pubDate>Wed, 26 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/26/install-cert-manager/</guid>
      <description>è½¯ä»¶åˆ—è¡¨ Tengineï¼šhttps://github.com/alibaba/tengine Luaï¼šhttp://www.lua.org/ftp/ ï¼Œè¿™é‡Œä½¿ç”¨ lua-5.3.1.tar.gz LuaJITï¼šhttp://luajit.org/download.html ï¼Œè¿™é‡Œä½¿ç”¨ LuaJIT-2.0.4.tar.gz GraphicdMagickï¼šhttps://sourceforge.net/projects/graphicsmagick/files/graphicsmagick/ ï¼Œè¿™é‡Œä½¿ç”¨ GraphicsMagick-1.3.18.tar.gz å®‰è£…Lua å…ˆå®‰è£…ä¾èµ–ï¼š
yum install readline readline-devel -y è§£å‹æ–‡ä»¶
tar -zxvf lua-5.3.1.tar.gz è¿›å…¥ç›®å½•ï¼Œæ‰§è¡Œï¼š
cd lua-5.3.1 make linux &amp;amp;&amp;amp; make install éªŒè¯å®‰è£…æˆåŠŸ:
lua -v å®‰è£…luaJIT è§£å‹æ–‡ä»¶
tar -zxvf LuaJIT-2.0.4.tar.gz è¿›å…¥ç›®å½•ï¼Œæ‰§è¡Œï¼š
cd LuaJIT-2.0.4 make &amp;amp;&amp;amp; make install å®‰è£…tengine å®‰è£…ä¾èµ–ï¼š
yum -y install pcre-devel openssl openssl-devel è§£å‹æ–‡ä»¶ï¼š
unzip tengine-master.zip è¿›å…¥ç›®å½•ï¼Œæ‰§è¡Œï¼š
cd tengine-master ./configure --prefix=/usr/local/Tengine --dso-path=/usr/local/Tengine/modules --with-http_realip_module --with-http_gzip_static_module \ --with-http_stub_status_module --with-http_concat_module \ --with-http_lua_module --http-proxy-temp-path=/var/tmp/Tengine/proxy_temp \ --http-fastcgi-temp-path=/var/tmp/Tengine/fastcgi_temp \ --http-uwsgi-temp-path=/var/tmp/Tengine/uwsgi_temp \ --http-scgi-temp-path=/var/tmp/Tengine/cgi_temp \ --http-client-body-temp-path=/var/tmp/Tengine/client_body_temp \ --http-log-path=/var/log/Tengine/access.log \ --error-log-path=/var/log/Tengine/error.log å†æ‰§è¡Œï¼š
make &amp;amp;&amp;amp; make install éªŒè¯å®‰è£…æˆåŠŸ:
$ /usr/local/Tengine/sbin/nginx /usr/local/Tengine/sbin/nginx: error while loading shared libraries: libluajit-5.1.so.2: cannot open shared object file: No such file or directory æç¤ºæ‰¾ä¸åˆ°æ–‡ä»¶ï¼Œé…ç½®ä¸€ä¸ªè½¯è¿æ¥ï¼š</description>
    </item>
    <item>
      <title>æ­å»ºæœ¬åœ° Maven ä»“åº“ Artifactory å¼€æºç‰ˆ</title>
      <link>https://blog.chensoul.cc/posts/2024/06/25/install-artifactory-oss/</link>
      <pubDate>Tue, 25 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/25/install-artifactory-oss/</guid>
      <description>å®‰è£… Artifactory å®˜æ–¹ä¸‹è½½å®‰è£…åœ°å€ï¼šhttps://jfrog.com/community/download-artifactory-oss/ ï¼Œæ”¯æŒä¸‰ç§å®‰è£…æ–¹å¼ï¼š
Windows Installer Linux Installers tar.gz RPM Debian Docker Compose Docker Helm æ‰‹åŠ¨ä¸‹è½½å¹¶å®‰è£… å®‰è£…åŒ…æ–‡ä»¶åœ°å€åœ¨ https://releases.jfrog.io/artifactory/bintray-artifactory/org/artifactory/oss/jfrog-artifactory-oss/ ã€‚ä»¥å½“å‰æœ€æ–°ç‰ˆæœ¬ 7.84.15 ä¸ºä¾‹ï¼Œåœ¨ linux æœåŠ¡å™¨ä¸Šä¸‹è½½ï¼š
wget https://releases.jfrog.io/artifactory/bintray-artifactory/org/artifactory/oss/jfrog-artifactory-oss/7.84.15/jfrog-artifactory-oss-7.84.15-linux.tar.gz tar -zxvf jfrog-artifactory-oss-7.84.15-linux.tar.gz cd jfrog-artifactory-oss-7.84.15/app/bin nohup ./artifactory.sh é€šè¿‡ docker å®‰è£… è®¾ç½® JFROG_HOME å¹¶åˆ›å»ºç›®å½•ï¼š
export JFROG_HOME=~/.jfrog mkdir -p $JFROG_HOME/artifactory/var/etc/ sudo chown -R 1030:1030 $JFROG_HOME/artifactory/var sudo chmod -R 777 $JFROG_HOME/artifactory/var touch $JFROG_HOME/artifactory/var/etc/system.yaml é…ç½®æ•°æ®åº“ã€‚å‚è€ƒ JFrog Recommends Using PostgreSQL ï¼ŒArtifactory 7.84.7 ä¹‹åï¼Œé»˜è®¤ä½¿ç”¨ postgresql æ•°æ®åº“ã€‚
cat &amp;lt;&amp;lt;EOF &amp;gt; $JFROG_HOME/artifactory/var/etc/system.yaml shared: database: type: postgresql driver: org.postgresql.Driver url: jdbc:postgresql://192.168.2.39:5432/artifactory username: artifactory password: password EOF å¦‚æœéœ€è¦ä½¿ç”¨å…¶ä»–æ•°æ®åº“ï¼Œéœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå¹¶æ·»åŠ  jdbc é©±åŠ¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ mysql æ•°æ®åº“ï¼š
cat &amp;lt;&amp;lt;EOF &amp;gt; $JFROG_HOME/artifactory/var/etc/system.yaml shared: database: allowNonPostgresql: true type: mysql driver: com.mysql.jdbc.Driver url: &amp;#34;jdbc:mysql://192.</description>
    </item>
    <item>
      <title>æ­å»ºæœ¬åœ°Mavenä»“åº“Nexus</title>
      <link>https://blog.chensoul.cc/posts/2024/06/25/install-nexus/</link>
      <pubDate>Tue, 25 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/25/install-nexus/</guid>
      <description>ä½¿ç”¨ Docker å®‰è£… $ docker volume create --name nexus_data $ docker run -d -p 8081:8081--name nexus -v nexus_data:/nexus-data sonatype/nexus3 8081 æ˜¯ Nexus UI ç«¯å£ ä½¿ç”¨ Docker Compose å®‰è£… services: nexus: image: sonatype/nexus3 platform: linux/amd64 ports: - &amp;#34;8081:8081&amp;#34; volumes: - nexus_data:/nexus-data - /etc/localtime:/etc/localtime:ro volumes: nexus_data: è®¿é—®å¹¶é…ç½® Nexus è®¿é—® http://127.0.0.1:8081/ æˆ–è€…æ˜¯ http://&amp;lt;your IP&amp;gt;:8081ï¼Œç”¨æˆ·åä¸º admin ï¼Œåˆå§‹å¯†ç åœ¨å®¹å™¨é‡Œçš„ /nexus-data/admin.password æ–‡ä»¶
docker ps # docker-nexus-1 ä¸ºå®¹å™¨åç§° docker exec -it docker-nexus-1 cat /nexus-data/admin.password ç™»å½•ä¹‹åï¼Œå°†å¯†ç ä¿®æ”¹ä¸ºè‡ªå·±çš„å¯†ç ï¼Œæ¯”å¦‚ï¼šadminã€‚
å¼€å¯åŒ¿åè®¿é—®æƒé™ ä¾æ¬¡ç‚¹å‡»ã€Securityã€‘&amp;ndash;ã€Realmsã€‘,å°†ã€Docker Bearer Token Tealmã€‘æ·»åŠ åˆ°å³ä¾§ï¼Œç„¶åä¿å­˜ã€‚
åˆ›å»º Maven ä»“åº“ Nexus æä¾›ä¸‰ç§ç±»å‹çš„ä»“åº“ï¼š
hosted : æœ¬åœ°å­˜å‚¨
proxy : æä¾›ä»£ç†å…¶ä»–ä»“åº“çš„ç±»å‹ï¼Œå¦‚é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿå™¨
groudp : ç»„ç±»å‹ï¼Œå®è´¨ä½œç”¨æ˜¯ç»„åˆå¤šä¸ªä»“åº“ä¸ºä¸€ä¸ªåœ°å€
åˆ›å»ºä¸€ä¸ª maven(proxy) ä»“åº“ï¼Œåç§°ï¼šaliyunï¼ŒVersion Policy é€‰æ‹© Mixedï¼ŒURL åœ°å€ï¼šhttps://maven.aliyun.com/nexus/content/groups/public/ï¼Œå¹¶ä¿®æ”¹ maven-public ä»“åº“ï¼Œå°† aliyun åŠ å…¥ maven-public çš„ Group ä¸­ã€‚</description>
    </item>
    <item>
      <title>Spring Booté¡¹ç›®åˆ›å»ºDockeré•œåƒå¹¶è¿è¡Œåº”ç”¨</title>
      <link>https://blog.chensoul.cc/posts/2024/06/06/spring-boot-docker-image/</link>
      <pubDate>Thu, 06 Jun 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/06/06/spring-boot-docker-image/</guid>
      <description>æ‰‹åŠ¨åˆ›å»º Dockerfile æ·»åŠ  Dockerfile
åœ¨æ‚¨çš„ Spring Boot é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªåä¸º Dockerfile çš„æ–‡ä»¶ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹:
# ä½¿ç”¨ OpenJDK 21 ä½œä¸ºåŸºç¡€é•œåƒ FROM openjdk:21 # è®¾ç½®å·¥ä½œç›®å½• WORKDIR /app # å°† JAR æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­ COPY target/*.jar app.jar # æš´éœ² 8080 ç«¯å£ EXPOSE 8080 # è®¾ç½®å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ ENTRYPOINT [&amp;#34;java&amp;#34;, &amp;#34;-jar&amp;#34;, &amp;#34;app.jar&amp;#34;] è¿™ä¸ª Dockerfile å°†ä½¿ç”¨ OpenJDK 21 ä½œä¸ºåŸºç¡€é•œåƒï¼Œå°†ç¼–è¯‘åçš„ JAR æ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨ä¸­ï¼Œå¹¶åœ¨å®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œ java -jar app.jar å‘½ä»¤ã€‚
ä½¿ç”¨ Google Distroless åŸºç¡€é•œåƒ:
Distroless åŸºç¡€é•œåƒæ˜¯ä¸€ç§ç²¾ç®€çš„ Linux å‘è¡Œç‰ˆ,åªåŒ…å«åº”ç”¨ç¨‹åºè¿è¡Œæ‰€éœ€çš„æœ€å°ä¾èµ–é¡¹ã€‚ åœ¨ Dockerfile ä¸­ä½¿ç”¨ gcr.io/distroless/java:11 ä½œä¸ºåŸºç¡€é•œåƒå¯ä»¥å¤§å¹…å‡å°æœ€ç»ˆé•œåƒçš„ä½“ç§¯ã€‚ å¦‚æœ target ç›®å½•ä¸‹å­˜åœ¨å¤šä¸ª jar æ–‡ä»¶ï¼Œåˆ™å¯ä»¥åœ¨ dockerfile åŒçº§æ·»åŠ ä¸€ä¸ª .dockerignore æ–‡ä»¶å¿½ç•¥æ‰ *-sources.jar ï¼š
# Include any files or directories that you don&amp;#39;t want to be copied to your # container here (e.g., local build artifacts, temporary files, etc.</description>
    </item>
    <item>
      <title>Argo CDå®‰è£…å’Œéƒ¨ç½²</title>
      <link>https://blog.chensoul.cc/posts/2024/05/11/argocd/</link>
      <pubDate>Sat, 11 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/11/argocd/</guid>
      <description>å®‰è£… ArgoCD å®‰è£…ï¼š
$ kubectl create namespace argocd $ kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml æŸ¥çœ‹å®‰è£…æ˜¯å¦æˆåŠŸï¼Œå½“argocdå‘½åç©ºé—´ä¸‹PodçŠ¶æ€éƒ½ä¸ºRunningæ—¶è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚
kubectl get pod -A æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œå°†åä¸ºargocd-serverçš„Serviceç±»å‹ä¿®æ”¹ä¸ºNodePortã€‚
$ kubectl patch svc argocd-server -n argocd -p &amp;#39;{&amp;#34;spec&amp;#34;: {&amp;#34;type&amp;#34;: &amp;#34;NodePort&amp;#34;}}&amp;#39; service/argocd-server patched æŸ¥çœ‹ä¿®æ”¹ç»“æœã€‚
$ kubectl -n argocd get svc NAME TYPE CLUSTER-IP EXTERNAL-IP PORT(S) AGE argocd-applicationset-controller ClusterIP 10.43.184.106 &amp;lt;none&amp;gt; 7000/TCP,8080/TCP 24h argocd-dex-server ClusterIP 10.43.99.202 &amp;lt;none&amp;gt; 5556/TCP,5557/TCP,5558/TCP 24h argocd-metrics ClusterIP 10.43.47.99 &amp;lt;none&amp;gt; 8082/TCP 24h argocd-notifications-controller-metrics ClusterIP 10.43.58.49 &amp;lt;none&amp;gt; 9001/TCP 24h argocd-redis ClusterIP 10.43.70.36 &amp;lt;none&amp;gt; 6379/TCP 24h argocd-repo-server ClusterIP 10.43.40.224 &amp;lt;none&amp;gt; 8081/TCP,8084/TCP 24h argocd-server NodePort 10.43.180.135 &amp;lt;none&amp;gt; 80:31912/TCP,443:32728/TCP 24h argocd-server-metrics ClusterIP 10.43.5.195 &amp;lt;none&amp;gt; 8083/TCP 24h é€šè¿‡ argocd-server Serviceè®¿é—®Argo CDï¼Œç›´æ¥ä½¿ç”¨èŠ‚ç‚¹IP:ç«¯å£å·è®¿é—®å³å¯ã€‚ä¾‹å¦‚æœ¬ç¤ºä¾‹ä¸­ï¼Œç«¯å£å·ä¸º32728ã€‚
ç™»å½•ç”¨æˆ·åä¸ºadminï¼Œå¯†ç å¯ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤è·å–ã€‚</description>
    </item>
    <item>
      <title>K8så®‰è£…Cert Manager</title>
      <link>https://blog.chensoul.cc/posts/2024/05/10/install-cert-manager/</link>
      <pubDate>Fri, 10 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/10/install-cert-manager/</guid>
      <description>cert-manager ä¸º Kubernetes æˆ– OpenShift é›†ç¾¤ä¸­çš„å·¥ä½œè´Ÿè½½åˆ›å»º TLS è¯ä¹¦ï¼Œå¹¶åœ¨è¯ä¹¦è¿‡æœŸä¹‹å‰ç»­è®¢è¯ä¹¦ã€‚
cert-manager å¯ä»¥ä»å„ç§è¯ä¹¦é¢å‘æœºæ„è·å–è¯ä¹¦ï¼ŒåŒ…æ‹¬ï¼š Let&amp;rsquo;s Encryptã€HashiCorp Vaultã€ Venafiå’Œç§æœ‰ PKIã€‚
ä½¿ç”¨ cert-manager çš„è¯ä¹¦èµ„æºï¼Œç§é’¥å’Œè¯ä¹¦å­˜å‚¨åœ¨ Kubernetes Secret ä¸­ï¼Œè¯¥ Secret ç”±åº”ç”¨ç¨‹åº Pod æŒ‚è½½æˆ–ç”± Ingress æ§åˆ¶å™¨ä½¿ç”¨ã€‚ä½¿ç”¨csi-driverã€csi-driver-spiffeæˆ–istio-csrï¼Œç§é’¥æ˜¯åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹å‰æŒ‰éœ€ç”Ÿæˆçš„ï¼›ç§é’¥æ°¸è¿œä¸ä¼šç¦»å¼€èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä¸ä¼šå­˜å‚¨åœ¨ Kubernetes Secret ä¸­ã€‚
å®‰è£… å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼šhttps://cert-manager.io/docs/installation/
ä½¿ç”¨kubectlå®‰è£… kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.14.5/cert-manager.yaml æŸ¥çœ‹ï¼š
$ kubectl get pods --namespace cert-manager ä½¿ç”¨helmå®‰è£… æ·»åŠ  repoï¼š
helm repo add jetstack https://charts.jetstack.io --force-update helm repo update å®‰è£… cert-managerï¼š
helm install cert-manager jetstack/cert-manager \ --namespace cert-manager \ --create-namespace \ --version v1.14.5 \ --set installCRDs=true æ›´å¤šé…ç½®å‚æ•°ï¼Œå‚è€ƒï¼šhttps://artifacthub.io/packages/helm/cert-manager/cert-manager
æŸ¥çœ‹çŠ¶æ€
$ kubectl -n cert-manager rollout status deploy/cert-manager deployment &amp;#34;cert-manager&amp;#34; successfully rolled out $ kubectl get pods -n cert-manager NAME READY STATUS RESTARTS AGE pod/cert-manager-5c47f46f57-k78l6 1/1 Running 0 91s pod/cert-manager-cainjector-6659d6844d-tr8rf 1/1 Running 0 91s pod/cert-manager-webhook-547567b88f-8lthd 1/1 Running 0 91s ä½¿ç”¨helm3æŸ¥çœ‹ï¼š</description>
    </item>
    <item>
      <title>Rancherå®‰è£…å’Œéƒ¨ç½²-ä½¿ç”¨K8s </title>
      <link>https://blog.chensoul.cc/posts/2024/05/10/install-rancher/</link>
      <pubDate>Fri, 10 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/10/install-rancher/</guid>
      <description>å‰ææ¡ä»¶ Kubernetes é›†ç¾¤ï¼šå¯ä»¥ä½¿ç”¨ RKEã€RKE2ã€K3S ç­‰å·¥å…·å®‰è£…é›†ç¾¤ Ingress Controllerï¼šå¯¹äº RKEã€RKE2 å’Œ K3sï¼Œä½ ä¸éœ€è¦æ‰‹åŠ¨å®‰è£… Ingress Controllerï¼Œå› ä¸ºå®ƒæ˜¯é»˜è®¤å®‰è£…çš„ã€‚ CLI å·¥å…·ï¼šå®‰è£… kubectl å’Œ helm ä½¿ç”¨ docker å®‰è£… Rancher mkdir -p /data/rancher docker run --name rancher --privileged -d --restart=unless-stopped -p 80:80 -p 443:443 -v /data/rancher:/var/lib/rancher/ rancher/rancher:stable docker logs -f rancher ä½¿ç”¨ helm å®‰è£… Rancher å‚è€ƒï¼šåœ¨ Kubernetes é›†ç¾¤ä¸Šå®‰è£…/å‡çº§ Rancher
æ·»åŠ  Helm Chart ä»“åº“ï¼Œå®‰è£… cert-manager helm repo add rancher-stable https://releases.rancher.com/server-charts/stable helm repo add jetstack https://charts.jetstack.io helm repo update helm install cert-manager jetstack/cert-manager \ --namespace cert-manager \ --create-namespace \ --version v1.14.5 \ --set installCRDs=true kubectl get pods --namespace cert-manager ä¸åŒçš„è¯ä¹¦é…ç½®éœ€è¦ä½¿ç”¨ä¸åŒçš„ Rancher å®‰è£…å‘½ä»¤ã€‚ å…ˆåˆ›å»ºå‘½åç©ºé—´ï¼š
kubectl create namespace cattle-system é»˜è®¤æƒ…å†µæ˜¯ä½¿ç”¨ Rancher ç”Ÿæˆ CAï¼Œå¹¶ä½¿ç”¨ cert-manager é¢å‘ç”¨äºè®¿é—® Rancher Server æ¥å£çš„è¯ä¹¦ã€‚</description>
    </item>
    <item>
      <title>All things about Drone</title>
      <link>https://blog.chensoul.cc/posts/2024/05/09/all-things-about-drone/</link>
      <pubDate>Thu, 09 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/09/all-things-about-drone/</guid>
      <description>Drone by Harness â„¢ æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æŒç»­é›†æˆå¹³å°ï¼Œä½¿å¿™ç¢Œçš„å›¢é˜Ÿèƒ½å¤Ÿä½¿ç”¨å¼ºå¤§çš„äº‘åŸç”Ÿç®¡é“å¼•æ“è‡ªåŠ¨åŒ–å…¶æ„å»ºã€æµ‹è¯•å’Œå‘å¸ƒå·¥ä½œæµç¨‹ã€‚
Droneå®è·µ Docker å®¹å™¨ç¯å¢ƒä¸‹çš„æŒç»­é›†æˆæœ€ä½³å®è·µï¼šæ„å»ºåŸºäº Drone + GitFlow + K8s çš„äº‘åŸç”Ÿè¯­ä¹‰åŒ– CI å·¥ä½œæµ å®¹å™¨ç¯å¢ƒæŒç»­é›†æˆä¼˜åŒ–ï¼ŒDrone CI æé€Ÿ 500% åœ¨Kubernetesä¸Šæ‰§è¡ŒDrone CI/CD ç©è½¬ Drone CI åŸºäº gogs/gitlab å’Œ drone æ­å»ºçš„ CI/CD å¹³å° åŸºäºdroneæ„å»ºCI/CDç³»ç»Ÿ,å¯¹æ¥k8s ä½¿ç”¨Droneæ„å»ºé™æ€åšå®¢
Hugo + Gogs + Drone æ­å»ºåšå®¢ How to build a Hugo static site automatically using Drone CI and Codeberg.org Static Website Generation on Steriods with Docker A HUGO PLUGIN FOR YOUR DRONE CI PIPELINE droneæŒç»­é›†æˆ-å‘å¸ƒgithub pages è§†é¢‘æ•™å­¦ ä¸€å¤©å­¸æœƒ DevOps è‡ªå‹•åŒ–æ¸¬è©¦åŠéƒ¨ç½² </description>
    </item>
    <item>
      <title>å®‰è£…k3s</title>
      <link>https://blog.chensoul.cc/posts/2024/05/09/install-k3s/</link>
      <pubDate>Thu, 09 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/09/install-k3s/</guid>
      <description>K3s æ˜¯è½»é‡çº§çš„ Kubernetesã€‚K3s æ˜“äºå®‰è£…ï¼Œä»…éœ€è¦ Kubernetes å†…å­˜çš„ä¸€åŠï¼Œæ‰€æœ‰ç»„ä»¶éƒ½åœ¨ä¸€ä¸ªå°äº 100 MB çš„äºŒè¿›åˆ¶æ–‡ä»¶ä¸­ã€‚
k3s æ–‡æ¡£ï¼šhttps://docs.rancher.cn/docs/k3s/_index
K3sä»‹ç» ä»€ä¹ˆæ˜¯ K3sï¼Ÿ K3s æ˜¯ä¸€ä¸ªå®Œå…¨å…¼å®¹çš„ Kubernetes å‘è¡Œç‰ˆï¼Œå…·æœ‰ä»¥ä¸‹å¢å¼ºåŠŸèƒ½ï¼š
æ‰“åŒ…ä¸ºå•ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€‚ ä½¿ç”¨åŸºäº sqlite3 ä½œä¸ºé»˜è®¤å­˜å‚¨æœºåˆ¶çš„è½»é‡çº§å­˜å‚¨åç«¯ã€‚åŒæ—¶æ”¯æŒä½¿ç”¨ etcd3ã€MySQL å’Œ Postgresã€‚ å°è£…åœ¨ç®€å•çš„å¯åŠ¨ç¨‹åºä¸­ï¼Œå¯ä»¥å¤„ç†å¾ˆå¤šå¤æ‚çš„ TLS å’Œé€‰é¡¹ã€‚ é»˜è®¤æƒ…å†µä¸‹æ˜¯å®‰å…¨çš„ï¼Œå¯¹è½»é‡çº§ç¯å¢ƒæœ‰åˆç†çš„é»˜è®¤å€¼ã€‚ æ·»åŠ äº†ç®€å•ä½†å¼ºå¤§çš„ batteries-included åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š æœ¬åœ°å­˜å‚¨æä¾›ç¨‹åº service load balancer Helm controller Traefik ingress controller æ‰€æœ‰ Kubernetes control plane ç»„ä»¶çš„æ“ä½œéƒ½å°è£…åœ¨å•ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å’Œè¿›ç¨‹ä¸­ã€‚å› æ­¤ï¼ŒK3s æ”¯æŒè‡ªåŠ¨åŒ–å’Œç®¡ç†å¤æ‚çš„é›†ç¾¤æ“ä½œï¼ˆä¾‹å¦‚è¯ä¹¦åˆ†å‘ç­‰ï¼‰ã€‚ æœ€å¤§ç¨‹åº¦å‡è½»äº†å¤–éƒ¨ä¾èµ–æ€§ï¼ŒK3s ä»…éœ€è¦ç°ä»£å†…æ ¸å’Œ cgroup æŒ‚è½½ã€‚K3s æ‰“åŒ…äº†æ‰€éœ€çš„ä¾èµ–ï¼ŒåŒ…æ‹¬ï¼š containerd Flannel (CNI) CoreDNS Traefik (Ingress) Klipper-lb (Service LB) åµŒå…¥å¼ç½‘ç»œç­–ç•¥æ§åˆ¶å™¨ åµŒå…¥å¼ local-path-provisioner ä¸»æœºå®ç”¨ç¨‹åºï¼ˆiptablesã€socat ç­‰ï¼‰ ä¸ºä»€ä¹ˆå« K3s? æˆ‘ä»¬å¸Œæœ›å®‰è£…çš„ Kubernetes åªå ç”¨ä¸€åŠçš„å†…å­˜ã€‚Kubernetes æ˜¯ä¸€ä¸ª 10 ä¸ªå­—æ¯çš„å•è¯ï¼Œç®€å†™ä¸º K8sã€‚Kubernetes çš„ä¸€åŠå°±æ˜¯ä¸€ä¸ª 5 ä¸ªå­—æ¯çš„å•è¯ï¼Œå› æ­¤ç®€å†™ä¸º K3sã€‚K3s æ²¡æœ‰å…¨ç§°ï¼Œä¹Ÿæ²¡æœ‰å®˜æ–¹çš„å‘éŸ³ã€‚
é€‚ç”¨åœºæ™¯ K3s é€‚ç”¨äºä»¥ä¸‹åœºæ™¯ï¼š
è¾¹ç¼˜è®¡ç®—-Edge ç‰©è”ç½‘-IoT CI Development ARM åµŒå…¥ K8s ç”±äºè¿è¡Œ K3s æ‰€éœ€çš„èµ„æºç›¸å¯¹è¾ƒå°‘ï¼Œæ‰€ä»¥ K3s ä¹Ÿé€‚ç”¨äºå¼€å‘å’Œæµ‹è¯•åœºæ™¯ã€‚åœ¨è¿™äº›åœºæ™¯ä¸­ï¼Œå¦‚æœå¼€å‘æˆ–æµ‹è¯•äººå‘˜éœ€è¦å¯¹æŸäº›åŠŸèƒ½è¿›è¡ŒéªŒè¯ï¼Œæˆ–å¯¹æŸäº›é—®é¢˜è¿›è¡Œé‡ç°ï¼Œé‚£ä¹ˆä½¿ç”¨ K3s ä¸ä»…èƒ½å¤Ÿç¼©çŸ­å¯åŠ¨é›†ç¾¤çš„æ—¶é—´ï¼Œè¿˜èƒ½å¤Ÿå‡å°‘é›†ç¾¤éœ€è¦æ¶ˆè€—çš„èµ„æºã€‚ä¸æ­¤åŒæ—¶ï¼ŒRancher ä¸­å›½å›¢é˜Ÿæ¨å‡ºäº†ä¸€æ¬¾é’ˆå¯¹ K3s çš„æ•ˆç‡æå‡å·¥å…·ï¼šAutoK3sã€‚åªéœ€è¦è¾“å…¥ä¸€è¡Œå‘½ä»¤ï¼Œå³å¯å¿«é€Ÿåˆ›å»º K3s é›†ç¾¤å¹¶æ·»åŠ æŒ‡å®šæ•°é‡çš„ master èŠ‚ç‚¹å’Œ worker èŠ‚ç‚¹ã€‚å¦‚éœ€è¯¦ç»†äº†è§£ AutoK3sï¼Œè¯·å‚è€ƒAutoK3s åŠŸèƒ½ä»‹ç»ã€‚</description>
    </item>
    <item>
      <title>é€šè¿‡k3då®‰è£…k3s</title>
      <link>https://blog.chensoul.cc/posts/2024/05/09/install-k3s-using-k3d/</link>
      <pubDate>Thu, 09 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/09/install-k3s-using-k3d/</guid>
      <description>k3dæ˜¯ä»€ä¹ˆ k3d æ˜¯ä¸€ä¸ªè½»é‡çº§åŒ…è£…å™¨ï¼Œç”¨äºåœ¨ docker ä¸­è¿è¡Œk3sï¼ˆRancher Lab çš„æœ€å° Kubernetes å‘è¡Œç‰ˆï¼‰ã€‚
k3d ä½¿å¾—åœ¨ docker ä¸­åˆ›å»ºå•èŠ‚ç‚¹å’Œå¤šèŠ‚ç‚¹k3sé›†ç¾¤å˜å¾—éå¸¸å®¹æ˜“ï¼Œä¾‹å¦‚ç”¨äº Kubernetes ä¸Šçš„æœ¬åœ°å¼€å‘ã€‚
æ³¨æ„ï¼š k3d æ˜¯ä¸€ä¸ªç¤¾åŒºé©±åŠ¨çš„é¡¹ç›®ï¼Œä½†å®ƒä¸æ˜¯å®˜æ–¹ Rancher (SUSE) äº§å“ã€‚
k3då®‰è£… é€šè¿‡è„šæœ¬å®‰è£…ï¼š
wget -q -O - https://raw.githubusercontent.com/k3d-io/k3d/main/install.sh | bash macos ä¸Šé€šè¿‡homebrewå®‰è£…ï¼š
brew install k3d æŸ¥çœ‹å¸®åŠ©æ–‡æ¡£ï¼š
$ k3d -h https://k3d.io/ k3d is a wrapper CLI that helps you to easily create k3s clusters inside docker. Nodes of a k3d cluster are docker containers running a k3s image. All Nodes of a k3d cluster are part of the same docker network. Usage: k3d [flags] k3d [command] Available Commands: cluster Manage cluster(s) completion Generate completion scripts for [bash, zsh, fish, powershell | psh] config Work with config file(s) help Help about any command image Handle container images.</description>
    </item>
    <item>
      <title>é€šè¿‡k3supå®‰è£…k3s</title>
      <link>https://blog.chensoul.cc/posts/2024/05/09/install-k3s-using-k3sup/</link>
      <pubDate>Thu, 09 May 2024 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2024/05/09/install-k3s-using-k3sup/</guid>
      <description>k3supæ˜¯ä¸€ä¸ªæ”¯æŒåœ¨PCã€è™šæ‹Ÿæœºã€ARMè®¾å¤‡ä¸Šå®‰è£…k3sçš„å·¥å…·ï¼Œå®˜æ–¹ç½‘ç«™ï¼šhttps://k3sup.dev/
å®‰è£…k3sup åœ¨çº¿å®‰è£…ï¼š
curl -sLS https://get.k3sup.dev | sh sudo install k3sup /usr/local/bin/ ç¦»çº¿å®‰è£…ï¼Œä¸‹è½½åœ°å€ï¼šhttps://github.com/alexellis/k3sup/releases
wget https://github.com/alexellis/k3sup/releases/download/0.13.5/k3sup mv k3sup /usr/local/bin/ chmod +x /usr/local/bin/k3sup æŸ¥çœ‹ç‰ˆæœ¬ï¼š
$ k3sup version _ _____ | | _|___ / ___ _ _ _ __ | |/ / |_ \/ __| | | | &amp;#39;_ \ | &amp;lt; ___) \__ \ |_| | |_) | |_|\_\____/|___/\__,_| .__/ |_| bootstrap K3s over SSH in &amp;lt; 60s ğŸš€ ğŸš€ Speed up GitHub Actions/GitLab CI + reduce costs: https://actuated.dev Version: 0.13.5 Git Commit: d952d6df22b06147806ca1030b8ba3a4bb9e0c0c åˆ›å»ºk3sé›†ç¾¤ åˆ›å»ºä¸€ä¸ªæœ¬åœ°é›†ç¾¤ k3sup install \ --local \ --context localk3s \ --k3s-channel stable \ --k3s-extra-args &amp;#39;--docker&amp;#39; æŸ¥çœ‹é›†ç¾¤çŠ¶æ€ï¼š
$ k3sup ready --context localk3s --kubeconfig .</description>
    </item>
    <item>
      <title>[è¯‘]DevOps å’Œæµ‹è¯•äººå‘˜çš„ Git é¢è¯•é—®é¢˜</title>
      <link>https://blog.chensoul.cc/posts/2023/10/12/git-interview-questions/</link>
      <pubDate>Thu, 12 Oct 2023 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2023/10/12/git-interview-questions/</guid>
      <description>æ¬¢è¿æ¥åˆ° Git é¢è¯•å‡†å¤‡æŒ‡å—ï¼Œæˆ‘ä»¬å°†åœ¨è¿™é‡Œå‘åˆå­¦è€…å’Œç»éªŒä¸°å¯Œçš„ä¸“ä¸šäººå£«è®¨è®ºæœ€å¸¸è§çš„ Git é¢è¯•é—®é¢˜ã€‚æ— è®ºæ‚¨æ˜¯å‡†å¤‡å‚åŠ  DevOps æˆ–æµ‹è¯•é¢è¯•ï¼Œè¿˜æ˜¯å¸Œæœ›æé«˜ Git æŠ€èƒ½ï¼Œæ­¤èµ„æºéƒ½å¯ä»¥é€šè¿‡æ·±å…¥ç ”ç©¶ä¸€äº›ä¸ Git åŸºæœ¬æ¦‚å¿µå’Œå®è·µç›¸å…³çš„æœ€å¸¸è§é¢è¯•é—®é¢˜æ¥å¸®åŠ©æ‚¨ã€‚
æˆ‘ä»¬å°†æ¶µç›–æ‰€æœ‰é‡è¦ä¸»é¢˜ï¼Œä¾‹å¦‚åˆ†æ”¯ã€å­˜å‚¨åº“ç®¡ç†ã€å¤„ç†åˆå¹¶å†²çªå’Œåä½œå·¥ä½œæµç¨‹ã€‚é€šè¿‡æ¢ç´¢è¿™äº›é—®é¢˜ï¼Œæ‚¨å°†æ›´æ·±å…¥åœ°äº†è§£ Git çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå¹¶æ›´å¥½åœ°åº”å¯¹å¼€å‘é¡¹ç›®ä¸­çš„ç°å®æŒ‘æˆ˜ã€‚
1.ä»€ä¹ˆæ˜¯ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Ÿ ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ (VCS) æ˜¯ä¸€ç§å¸®åŠ©è·Ÿè¸ªå’Œç®¡ç†æ–‡ä»¶å’Œä»£ç éšæ—¶é—´å˜åŒ–çš„è½¯ä»¶ã€‚å®ƒå…è®¸å¤šäººåä½œå¤„ç†ä¸€ä¸ªé¡¹ç›®ï¼Œè·Ÿè¸ªä¿®è®¢ï¼Œå¹¶åœ¨éœ€è¦æ—¶è½»æ¾æ¢å¤åˆ°ä»¥å‰çš„ç‰ˆæœ¬ã€‚
ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿä¸»è¦åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š
æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ (LVCS)ï¼šåœ¨ LVCS ä¸­ï¼Œç‰ˆæœ¬æ§åˆ¶æ•°æ®åº“å­˜å‚¨åœ¨æœ¬åœ°è®¡ç®—æœºä¸Šã€‚æ›´æ”¹å’Œä¿®è®¢åœ¨ä½äºç”¨æˆ·è®¡ç®—æœºä¸Šçš„æœ¬åœ°å­˜å‚¨åº“ä¸­è¿›è¡Œè·Ÿè¸ªã€‚ä½†æ­¤ç±»ç³»ç»Ÿç¼ºä¹åä½œåŠŸèƒ½ï¼Œä¸åˆ©äºå›¢é˜Ÿå¼€å‘ã€‚ é›†ä¸­ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ (CVCS)ï¼šåœ¨ CVCS ä¸­ï¼Œç‰ˆæœ¬æ§åˆ¶æ•°æ®åº“å­˜å‚¨åœ¨ä¸­å¤®æœåŠ¡å™¨ä¸Šã€‚ç”¨æˆ·å¯ä»¥ä»æœåŠ¡å™¨æ£€å‡ºæ–‡ä»¶ã€è¿›è¡Œæ›´æ”¹å¹¶å°†å…¶æäº¤å›æœåŠ¡å™¨ã€‚è¿™å…è®¸å¤šä¸ªç”¨æˆ·åœ¨åŒä¸€é¡¹ç›®ä¸Šè¿›è¡Œåä½œï¼Œå¹¶æä¾›å¯¹å­˜å‚¨åº“çš„é›†ä¸­æ§åˆ¶ã€‚ç„¶è€Œï¼ŒCVCS çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯ï¼Œå¦‚æœä¸­å¤®æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œåä½œè€…å°†æ— æ³•æ‰§è¡ŒæŸäº›æ“ä½œï¼Œç›´åˆ°æœåŠ¡å™¨æ¢å¤ä¸ºæ­¢ã€‚ åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ (DVCS)ï¼šåœ¨ DVCS ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªåŒ…å«æ•´ä¸ªç‰ˆæœ¬å†å²è®°å½•çš„æœ¬åœ°å­˜å‚¨åº“ã€‚è¿™æ„å‘³ç€æ¯ä¸ªç”¨æˆ·éƒ½æ‹¥æœ‰é¡¹ç›®å­˜å‚¨åº“çš„å®Œæ•´å‰¯æœ¬ï¼ŒåŒ…æ‹¬æ‰€æœ‰åˆ†æ”¯å’Œä¿®è®¢ã€‚ç”¨æˆ·å¯ä»¥åœ¨æœ¬åœ°å­˜å‚¨åº“ä¸Šç‹¬ç«‹å·¥ä½œï¼Œå¹¶ä¸å…¶ä»–å­˜å‚¨åº“åŒæ­¥æ›´æ”¹ã€‚ DVCS ä¸ºåˆ†å¸ƒå¼å’Œåˆ†æ•£å¼å·¥ä½œæµç¨‹æä¾›æ›´å¥½çš„æ”¯æŒï¼Œå…è®¸ç”¨æˆ·ç¦»çº¿å·¥ä½œå¹¶æ›´æœ‰æ•ˆåœ°åä½œã€‚ 2. Git ä¸­çš„ Origin æ˜¯ä»€ä¹ˆï¼Ÿ åœ¨ Git ä¸­ï¼Œâ€œoriginâ€æ˜¯æŒ‡æˆ‘ä»¬ä»ä¸­å…‹éš†çš„è¿œç¨‹å­˜å‚¨åº“ã€‚å½“æˆ‘ä»¬ä»è¿œç¨‹æœåŠ¡å™¨å…‹éš†å­˜å‚¨åº“æ—¶ï¼ŒGit ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸ºâ€œoriginâ€çš„è¿œç¨‹å¼•ç”¨ï¼Œè¯¥å¼•ç”¨æŒ‡å‘åŸå§‹è¿œç¨‹å­˜å‚¨åº“ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬å…‹éš†å­˜å‚¨åº“æ—¶ï¼ŒGit ä¼šè®¾ç½®â€œæ¥æºâ€å¹¶å°†å…¶ä¸æˆ‘ä»¬å…‹éš†çš„åŸå§‹å­˜å‚¨åº“å…³è”èµ·æ¥ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œå‘½ä»¤â€œgit remote -vâ€æ¥éªŒè¯è¿™ä¸€ç‚¹ã€‚æ­¤å‘½ä»¤æ˜¾ç¤ºä¸æœ¬åœ°å­˜å‚¨åº“å…³è”çš„è¿œç¨‹å­˜å‚¨åº“åˆ—è¡¨åŠå…¶ URLã€‚
git remote -v origin https://github.com/lokeshgupta1981/Spring-Boot3-Demos.git (fetch) origin https://github.com/lokeshgupta1981/Spring-Boot3-Demos.git (push) è¯·æ³¨æ„ï¼Œâ€œoriginâ€åªæ˜¯ä¸€ä¸ªæœªç¡¬ç¼–ç çš„åˆ«åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æç¤ºç¬¦è¿›è¡Œæ›´æ”¹ï¼š
git remote rename origin newName 3.æˆ‘ä»¬å¦‚ä½•åœ¨ Git ä¸­é…ç½®å…¨å±€ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ï¼Ÿ è®¾ç½®å…¨å±€ä¸€è‡´çš„ç”¨æˆ·åå’Œç”µå­é‚®ä»¶åœ°å€éå¸¸é‡è¦ï¼Œå› ä¸º Git ä½¿ç”¨æ­¤ä¿¡æ¯å°†æäº¤ä¸æ­£ç¡®çš„ä½œè€…å…³è”èµ·æ¥ã€‚å®ƒæœ‰åŠ©äºè¯†åˆ«æ¯ä¸ªæäº¤çš„äººå‘˜ï¼Œå¹¶å…è®¸åœ¨é¡¹ç›®å†…è¿›è¡Œé€‚å½“çš„åä½œå’Œå½’å±ã€‚
è¦åœ¨ Git ä¸­é…ç½®å…¨å±€ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š
git config --global user.name &amp;#34;MyName&amp;#34; git config --global user.email &amp;#34;myname@gmail.com&amp;#34; è¿™äº›å‘½ä»¤å°†å…¨å±€è®¾ç½®ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ï¼Œè¿™æ„å‘³ç€å®ƒä»¬å°†ç”¨äºæ‚¨è®¡ç®—æœºä¸Šçš„æ‰€æœ‰ Git å­˜å‚¨åº“ï¼Œé™¤éåœ¨å­˜å‚¨åº“çº§åˆ«è¦†ç›–ã€‚
æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥éªŒè¯æ›´æ”¹ã€‚è¿™äº›å‘½ä»¤å°†åˆ†åˆ«æ˜¾ç¤ºé…ç½®çš„ç”¨æˆ·åå’Œç”µå­é‚®ä»¶ã€‚
git config --global user.name # Prints &amp;#39;lokeshgupta1981&amp;#39; git config --global user.email # Prints &amp;#39;howtodoinjava@gmail.com&amp;#39; 4.</description>
    </item>
    <item>
      <title>[è¯‘]å…³äº HTTP æ‚¨éœ€è¦äº†è§£çš„ä¸€åˆ‡</title>
      <link>https://blog.chensoul.cc/posts/2023/10/12/http-in-depth/</link>
      <pubDate>Thu, 12 Oct 2023 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2023/10/12/http-in-depth/</guid>
      <description>HTTP æ˜¯æ¯ä¸ª Web å¼€å‘äººå‘˜éƒ½åº”è¯¥äº†è§£çš„åè®®ï¼Œå› ä¸ºå®ƒä¸ºæ•´ä¸ª Web æä¾›åŠ¨åŠ›ã€‚äº†è§£ HTTP å½“ç„¶å¯ä»¥å¸®åŠ©æ‚¨å¼€å‘æ›´å¥½çš„åº”ç”¨ç¨‹åºã€‚
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†è®¨è®º HTTP æ˜¯ä»€ä¹ˆã€å®ƒæ˜¯å¦‚ä½•äº§ç”Ÿçš„ã€å®ƒä»Šå¤©çš„çŠ¶å†µä»¥åŠæˆ‘ä»¬æ˜¯å¦‚ä½•èµ°åˆ°è¿™ä¸€æ­¥çš„
ä»€ä¹ˆæ˜¯ HTTPï¼Ÿ é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯ HTTPï¼Ÿ HTTP æ˜¯åŸºäº TCP/IP çš„åº”ç”¨å±‚é€šä¿¡åè®®ï¼Œå®ƒæ ‡å‡†åŒ–äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡æ–¹å¼ã€‚å®ƒå®šä¹‰äº†å¦‚ä½•é€šè¿‡äº’è”ç½‘è¯·æ±‚å’Œä¼ è¾“å†…å®¹ã€‚é€šè¿‡åº”ç”¨å±‚åè®®ï¼Œæˆ‘çš„æ„æ€æ˜¯å®ƒåªæ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–ä¸»æœºï¼ˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼‰é€šä¿¡æ–¹å¼çš„æŠ½è±¡å±‚ã€‚ HTTP æœ¬èº«ä¾èµ–äº TCP/IP æ¥è·å–å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´çš„è¯·æ±‚å’Œå“åº”ã€‚
é»˜è®¤æƒ…å†µä¸‹ï¼Œä½¿ç”¨ TCP ç«¯å£ 80ï¼Œä½†ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç«¯å£ã€‚ç„¶è€Œï¼ŒHTTPS ä½¿ç”¨ç«¯å£ 443ã€‚
HTTP/0.9 - One Liner (1991) HTTP çš„ç¬¬ä¸€ä¸ªæœ‰è®°å½•çš„ç‰ˆæœ¬æ˜¯ 1991 å¹´æå‡ºçš„ HTTP/0.9ã€‚å®ƒæ˜¯æœ‰å²ä»¥æ¥æœ€ç®€å•çš„åè®®ï¼›æœ‰ä¸€ä¸ªåä¸º GET çš„æ–¹æ³•ã€‚å¦‚æœå®¢æˆ·ç«¯å¿…é¡»è®¿é—®æœåŠ¡å™¨ä¸Šçš„æŸä¸ªç½‘é¡µï¼Œå®ƒä¼šå‘å‡ºå¦‚ä¸‹æ‰€ç¤ºçš„ç®€å•è¯·æ±‚
GET /index.html æœåŠ¡å™¨çš„å“åº”å¦‚ä¸‹æ‰€ç¤º
(response body) (connection closed) ä¹Ÿå°±æ˜¯è¯´ï¼ŒæœåŠ¡å™¨å°†æ”¶åˆ°è¯·æ±‚ï¼Œå›å¤ HTML ä½œä¸ºå“åº”ï¼Œä¸€æ—¦å†…å®¹ä¼ è¾“å®Œæ¯•ï¼Œè¿æ¥å°±ä¼šå…³é—­ã€‚æœ‰
æ— æ ‡é¢˜ GET æ˜¯å”¯ä¸€å…è®¸çš„æ–¹æ³• å“åº”å¿…é¡»æ˜¯ HTML æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œè¯¥åè®®å®é™…ä¸Šåªä¸è¿‡æ˜¯æœªæ¥çš„è¸è„šçŸ³ã€‚
HTTP/1.0 - 1996 1996 å¹´ï¼ŒHTTP çš„ä¸‹ä¸€ä¸ªç‰ˆæœ¬ï¼ˆå³ HTTP/1.0ï¼‰å¾—åˆ°äº†å‘å±•ï¼Œæ¯”åŸå§‹ç‰ˆæœ¬æœ‰äº†å¾ˆå¤§çš„æ”¹è¿›ã€‚ä¸ä»…é’ˆå¯¹ HTML å“åº”è®¾è®¡çš„ HTTP/0.9 ä¸åŒï¼ŒHTTP/1.0 ç°åœ¨ä¹Ÿå¯ä»¥å¤„ç†å…¶ä»–å“åº”æ ¼å¼ï¼Œå³å›¾åƒã€è§†é¢‘æ–‡ä»¶ã€çº¯æ–‡æœ¬æˆ–ä»»ä½•å…¶ä»–å†…å®¹ç±»å‹ã€‚å®ƒæ·»åŠ äº†æ›´å¤šæ–¹æ³•ï¼ˆå³ POST å’Œ HEADï¼‰ã€æ›´æ”¹äº†è¯·æ±‚/å“åº”æ ¼å¼ã€å°† HTTP æ ‡å¤´æ·»åŠ åˆ°è¯·æ±‚å’Œå“åº”ä¸­ã€æ·»åŠ äº†çŠ¶æ€ä»£ç æ¥æ ‡è¯†å“åº”ã€å¼•å…¥äº†å­—ç¬¦é›†æ”¯æŒã€å¤šéƒ¨åˆ†ç±»å‹ã€æˆæƒã€ç¼“å­˜ã€å†…å®¹ç¼–ç ç­‰éƒ½åŒ…æ‹¬åœ¨å†…ã€‚
ä»¥ä¸‹æ˜¯ç¤ºä¾‹ HTTP/1.0 è¯·æ±‚å’Œå“åº”çš„æ ·å­ï¼š
GET / HTTP/1.0 Host: cs.fyi User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_5) Accept: */* æ­£å¦‚æ‚¨æ‰€çœ‹åˆ°çš„ï¼Œé™¤äº†è¯·æ±‚ä¹‹å¤–ï¼Œå®¢æˆ·ç«¯è¿˜å‘é€äº†å®ƒçš„ä¸ªäººä¿¡æ¯ã€æ‰€éœ€çš„å“åº”ç±»å‹ç­‰ã€‚è€Œåœ¨ HTTP/0.9 ä¸­ï¼Œå®¢æˆ·ç«¯æ°¸è¿œæ— æ³•å‘é€æ­¤ç±»ä¿¡æ¯ï¼Œå› ä¸ºæ²¡æœ‰æ ‡å¤´ã€‚
å¯¹ä¸Šè¿°è¯·æ±‚çš„å“åº”ç¤ºä¾‹å¯èƒ½å¦‚ä¸‹æ‰€ç¤º
HTTP/1.0 200 OK Content-Type: text/plain Content-Length: 137582 Expires: Thu, 05 Dec 1997 16:00:00 GMT Last-Modified: Wed, 5 August 1996 15:55:28 GMT Server: Apache 0.</description>
    </item>
    <item>
      <title>Git Flowåˆ†æ”¯æ¨¡å‹å’Œä½¿ç”¨</title>
      <link>https://blog.chensoul.cc/posts/2023/05/11/git-flow-model-and-usage/</link>
      <pubDate>Thu, 11 May 2023 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2023/05/11/git-flow-model-and-usage/</guid>
      <description>ä»‹ç» Git Flow æ˜¯ç”± Vincent Driessen åœ¨ 2010 å¹´æå‡ºçš„ä¸€ç§ Git å·¥ä½œæµã€‚åœ¨è¿™ä¹‹å‰ï¼ŒGit æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„æ ‡å‡†å·¥ä½œæµï¼Œå¯¼è‡´å›¢é˜Ÿåœ¨ä½¿ç”¨ Git æ—¶å¾€å¾€ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ï¼Œå¦‚åˆ†æ”¯ç®¡ç†ã€ç‰ˆæœ¬æ§åˆ¶ç­‰ã€‚ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼ŒVincent Driessen æå‡ºäº† Git Flow åˆ†æ”¯æ¨¡å‹ï¼Œæˆä¸ºäº† Git åœ¨å®é™…åº”ç”¨ä¸­çš„ä¸€ç§æ ‡å‡†å·¥ä½œæµã€‚
éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒGit Flow ä¹Ÿåœ¨ä¸æ–­å‘å±•å’Œå®Œå–„ã€‚åœ¨ 2011 å¹´ï¼ŒAtlassian å‘å¸ƒäº† SourceTreeï¼Œè¿™æ˜¯ä¸€æ¬¾å›¾å½¢åŒ–çš„ Git å®¢æˆ·ç«¯ï¼Œæ”¯æŒ Git Flow åˆ†æ”¯æ¨¡å‹ã€‚åœ¨ 2013 å¹´ï¼ŒGit Flow çš„ä¸€äº›å¼€å‘è€…å‘å¸ƒäº† Git Flow AVH Editionï¼Œè¿™æ˜¯ Git Flow çš„ä¸€ä¸ªå¢å¼ºç‰ˆæœ¬ï¼Œæä¾›äº†æ›´å¤šçš„åŠŸèƒ½å’Œé€‰é¡¹ã€‚æ­¤å¤–ï¼ŒGit Flow è¿˜å¾—åˆ°äº†å…¶ä»–å¼€æºå·¥å…·å’Œå¹³å°çš„æ”¯æŒï¼Œå¦‚ GitHubã€GitLab ç­‰ã€‚
Git Flow åˆ†æ”¯æ¨¡å‹ Git Flow åˆ†æ”¯æ¨¡å‹å®šä¹‰äº†ä¸€ç§æ ‡å‡†çš„ Git åˆ†æ”¯æ¨¡å‹ï¼Œå®ƒå°†ä»£ç åˆ†ä¸ºä¸¤ä¸ªé•¿æœŸåˆ†æ”¯ï¼ˆmaster å’Œ developï¼‰å’Œä¸‰ä¸ªçŸ­æœŸåˆ†æ”¯ï¼ˆfeatureã€release å’Œ hotfixï¼‰ï¼Œä½¿å¾—å›¢é˜Ÿå¯ä»¥æ›´å¥½åœ°ç®¡ç†ä»£ç çš„ç‰ˆæœ¬å’Œå‘å¸ƒã€‚
ä»¥ä¸‹æ˜¯ Git Flow åˆ†æ”¯æ¨¡å‹çš„è¯¦ç»†ä»‹ç»ï¼š
master åˆ†æ”¯ master åˆ†æ”¯æ˜¯ä»£ç åº“çš„ä¸»åˆ†æ”¯ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰å·²å‘å¸ƒçš„ä»£ç å’Œç‰ˆæœ¬ã€‚æ‰€æœ‰ä»£ç éƒ½åº”è¯¥åœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œæµ‹è¯•å’ŒéªŒè¯ï¼Œä»¥ç¡®ä¿ä»£ç çš„è´¨é‡å’Œç¨³å®šæ€§ã€‚masteråˆ†æ”¯åªèƒ½é€šè¿‡åˆå¹¶releaseæˆ–hotfixåˆ†æ”¯æ¥æ›´æ–°ã€‚ develop åˆ†æ”¯ develop åˆ†æ”¯æ˜¯ä»£ç åº“çš„å¼€å‘åˆ†æ”¯ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰å¼€å‘ä¸­çš„ä»£ç å’ŒåŠŸèƒ½ã€‚æ‰€æœ‰æ–°çš„ä»£ç éƒ½åº”è¯¥åœ¨è¯¥åˆ†æ”¯ä¸Šè¿›è¡Œå¼€å‘å’Œæµ‹è¯•ï¼Œä»¥ç¡®ä¿ä»£ç çš„å¯é æ€§å’Œç¨³å®šæ€§ã€‚developåˆ†æ”¯åªèƒ½é€šè¿‡åˆå¹¶featureåˆ†æ”¯æ¥æ›´æ–°ã€‚ feature åˆ†æ”¯ feature åˆ†æ”¯æ˜¯ä¸ºå¼€å‘æ–°çš„åŠŸèƒ½æˆ–ä¿®å¤ bug è€Œåˆ›å»ºçš„ä¸´æ—¶åˆ†æ”¯ã€‚æ¯ä¸ªfeatureåˆ†æ”¯éƒ½æ˜¯ä»developåˆ†æ”¯åˆ†ç¦»å‡ºæ¥çš„ï¼Œå¼€å‘å®Œæˆåä¼šåˆå¹¶å›developåˆ†æ”¯ã€‚feature åˆ†æ”¯çš„å‘½ååº”è¯¥æ¸…æ™°æ˜ç¡®ï¼Œä»¥åæ˜ è¯¥åˆ†æ”¯æ‰€æ¶‰åŠçš„åŠŸèƒ½æˆ–é—®é¢˜ã€‚ release åˆ†æ”¯ release åˆ†æ”¯æ˜¯ä¸ºå‘å¸ƒæ–°ç‰ˆæœ¬è€Œåˆ›å»ºçš„ä¸´æ—¶åˆ†æ”¯ã€‚æ¯ä¸ªreleaseåˆ†æ”¯éƒ½æ˜¯ä»developåˆ†æ”¯åˆ†ç¦»å‡ºæ¥çš„ï¼Œå‘å¸ƒå®Œæˆåä¼šåˆå¹¶å›developåˆ†æ”¯å’Œmasteråˆ†æ”¯ã€‚åœ¨ release åˆ†æ”¯ä¸Šå¯ä»¥è¿›è¡Œä¸€äº›å°çš„ä¿®å¤å’Œè°ƒæ•´ï¼Œä»¥ç¡®ä¿å‘å¸ƒçš„ä»£ç çš„è´¨é‡å’Œç¨³å®šæ€§ã€‚ hotfix åˆ†æ”¯ hotfix åˆ†æ”¯æ˜¯ä¸ºå¿«é€Ÿä¿®å¤ç”Ÿäº§ç¯å¢ƒä¸­çš„é—®é¢˜è€Œåˆ›å»ºçš„ä¸´æ—¶åˆ†æ”¯ã€‚æ¯ä¸ª hotfix åˆ†æ”¯éƒ½æ˜¯ä» master åˆ†æ”¯åˆ†ç¦»å‡ºæ¥çš„ï¼Œä¿®å¤å®Œæˆåä¼šåˆå¹¶å› develop åˆ†æ”¯å’Œ master åˆ†æ”¯ã€‚hotfixåˆ†æ”¯çš„ä¼˜å…ˆçº§æ¯”å…¶ä»–åˆ†æ”¯æ›´é«˜ï¼Œå› ä¸ºå®ƒä»¬éœ€è¦å°½å¿«ä¿®å¤ç”Ÿäº§ç¯å¢ƒä¸­çš„é—®é¢˜ã€‚ æ ¹æ®ä¸Šé¢çš„ç†è®ºï¼Œæˆ‘ä»¬æ¥å®é™…æ“ä½œä¸€éã€‚é¦–å…ˆï¼Œæ˜¯ develop åˆ†æ”¯åˆ›å»ºä¸€ä¸ª feature åˆ†æ”¯ã€‚</description>
    </item>
    <item>
      <title>æˆ‘çš„VPSæœåŠ¡éƒ¨ç½²è®°å½•</title>
      <link>https://blog.chensoul.cc/posts/2023/01/25/notes-about-deploy-services-in-vps/</link>
      <pubDate>Wed, 25 Jan 2023 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2023/01/25/notes-about-deploy-services-in-vps/</guid>
      <description>æˆ‘çš„ VPS ä½¿ç”¨çš„æ˜¯ centos æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä»¥ä¸‹æ“ä½œéƒ½æ˜¯åŸºäº centos ç³»ç»Ÿã€‚
æœåŠ¡å™¨è®¾ç½® æ›´æ–° yum æºï¼š
yum update å®‰è£…å¸¸ç”¨è½¯ä»¶ï¼š
yum install wget curl git vim -y è®¾ç½®æ—¶åŒºä¸º
[å¯é€‰] è®¾ç½®ç³»ç»Ÿ Swap äº¤æ¢åˆ†åŒº
å› ä¸º vps æœåŠ¡å™¨çš„è¿è¡Œå†…å­˜å¾ˆå°ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆè®¾ç½®ä¸‹ Swap
# 1GB RAM with 2GB Swap sudo fallocate -l 2G /swapfile &amp;amp;&amp;amp; \ sudo dd if=/dev/zero of=/swapfile bs=1024 count=2097152 &amp;amp;&amp;amp; \ sudo chmod 600 /swapfile &amp;amp;&amp;amp; \ sudo mkswap /swapfile &amp;amp;&amp;amp; \ sudo swapon /swapfile &amp;amp;&amp;amp; \ echo &amp;#34;/swapfile swap swap defaults 0 0&amp;#34; | sudo tee -a /etc/fstab &amp;amp;&amp;amp; \ sudo swapon --show &amp;amp;&amp;amp; \ sudo free -h å®‰è£… Nginx å‚è€ƒ CentOS 7 ä¸‹ yum å®‰è£…å’Œé…ç½® Nginx ï¼Œä½¿ç”¨ yum å®‰è£…ï¼š</description>
    </item>
    <item>
      <title>Macå¼€å‘ç¯å¢ƒé…ç½®</title>
      <link>https://blog.chensoul.cc/posts/2021/09/09/mac-development-environment-setup/</link>
      <pubDate>Thu, 09 Sep 2021 00:00:00 +0000</pubDate>
      <guid>https://blog.chensoul.cc/posts/2021/09/09/mac-development-environment-setup/</guid>
      <description>è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œé¦–å…ˆè¦åšå¾—ç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯é…ç½®å¥½å¼€å‘ç¯å¢ƒï¼Œå› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯ Mac å¼€å‘ç¯å¢ƒï¼Œæ‰€ä»¥ï¼Œè¿™ç¯‡æ–‡ç« ä¸»è¦æ˜¯åŸºäº Mac æ“ä½œç³»ç»Ÿï¼Œè®°å½•å¼€å‘ç¯å¢ƒæ­å»ºè¿‡ç¨‹ã€‚
ç³»ç»Ÿè®¾ç½® dotfile é…ç½® ä¸‹è½½ dotfile æ–‡ä»¶ï¼š
git clone git@github.com:chensoul/snippets.git æ‹·è´åˆ°ç”¨æˆ·ç›®å½•ï¼š
cd dotfiles sh bootstrap.sh macos ç³»ç»Ÿè®¾ç½®ï¼š
. .macos å®‰è£…è½¯ä»¶ å®‰è£… brewã€nvs sh install.sh å®‰è£… MySQL å®‰è£… MySQLï¼š
# æœç´¢å¯ä»¥å®‰è£…çš„ç‰ˆæœ¬ âœ brew search mysql # å®‰è£…å¯¹åº”çš„ç‰ˆæœ¬ âœ brew install mysql@5.7 # å†™å…¥ç¯å¢ƒå˜é‡ echo &amp;#39;export PATH=&amp;#34;/opt/homebrew/opt/mysql@5.7/bin:$PATH&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.zshrc # ä¸ºäº†è®©ç¼–è¯‘å™¨æ‰¾åˆ° mysql@5.7 è¿˜éœ€è¦å†™å…¥ echo &amp;#39;export LDFLAGS=&amp;#34;-L/opt/homebrew/opt/mysql@5.7/lib&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.zshrc echo &amp;#39;export CPPFLAGS=&amp;#34;-I/opt/homebrew/opt/mysql@5.7/include&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.zshrc # ä¸ºäº†è®© pkg-config æ‰¾åˆ° mysql@5.7 è¿˜éœ€è¦å†™å…¥ echo &amp;#39;PKG_CONFIG_PATH=&amp;#34;/opt/homebrew/opt/mysql@5.7/lib/pkgconfig&amp;#34;&amp;#39; &amp;gt;&amp;gt; ~/.zshrc MySQL æœåŠ¡ç›¸å…³ï¼š
# æŸ¥çœ‹ MySQL æœåŠ¡çŠ¶æ€ âœ brew services info mysql@5.7 âœ mysql.server status # å¯åŠ¨ MySQL æœåŠ¡ âœ brew services start mysql@5.7 âœ mysql.server start # é‡å¯ MySQL æœåŠ¡ âœ brew services restart mysql@5.</description>
    </item>
  </channel>
</rss>
