---
title: "周报-7｜博客优化"
date: 2023-02-20T00:00:00+08:00
draft: true
slug: weekly_review_7
categories: [Ideas]
tags: [review]
authors:
- chensoul   

---

## 前言

本篇是对 `2023-02-13` 到 `2023-02-19` 这周生活的记录与思考。首发在我的个人 [博客](https://blog.chensoul.com/)，你可以移步了解更多或者给我留言。


## 博客优化

这周重新对博客进行了优化，主要包括以下几个方面：

### 1、优化页面加载速度

每次打开博客首页，感觉页面加载有点慢，故想加快博客打开速度，第一个想到的是减少博客加载资源的次数，也就是去掉一些飞必须的 css 和 javascript 引用；其次，是对 css 进行压缩。

- 去掉对 font-awesome css 的引用。这个对博客来说可有可无，所以直接去掉。
- 去掉对 jquery、bootstrap js 的引用。同样也不是必须的，自定义的 javascript 直接使用原生的操作就行。
- 移除未使用的 css。想参考这篇文章 [CleanCSS - 移除未使用的 CSS 代码](https://dujun.io/cleancss-remove-unused-css.html)，对 css 进行瘦身，无奈文章中的服务器出现故障，无法访问服务。故，暂时搁浅。

### 2、修改网站字体

参考这篇文章 [字体漫谈-网站字体最佳实践](https://www.albertaz.com/blog/web-font-best-practice) 引入 open-sans 字体：

```html
<link rel="preload" as="font" type="font/woff2" href="/css/font/open-sans.css" >
<link rel="stylesheet"  type="text/css" href="/css/font/open-sans.css"  media="print" onload="this.media='all'" />
```

并修改网站 font-family 如下：

```css
body {
    font-family: Open Sans,system-ui,-apple-system,Arial,sans-serif;
    word-break: break-word;
}
```



### 3、修改关于页面内容 

参考这篇文章 [GitHub Profile README Generator](https://rahuldkjain.github.io/gh-profile-readme-generator/)，对 GitHub [首页](https://github.com/chensoul/chensoul) 进行改造，并通过 GitHub Action 同步到博客的 [关于](https://blog.chensoul.com/about/) 页面。



### 4、dns 解析迁移到 cloudflare

将 dns 解析从 AWS 迁移到 cloudflare，并开启 CDN 缓存。



### 5、博客测速

以上优化完成之后，在 [PageSpeed Insights](https://pagespeed.web.dev/) 网站上对博客首页加载速度进行了测速。移动端测试结果为 93 分，如下图：

![weekly-review-01](http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-01.png)

影响评分的原因在于：

- First Contentful Paint (3G) 
- 加载的 [bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css) 文件过大，包括了一些未使用的 CSS



桌面端测试结果评分为 99 分：

![weekly-review-02](http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-02.png)


## n8n 调整

![weekly-review-03](http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-03.png)

新增了 3 个 workflow：

- 定时获取 BTC 价格，并发送到电报群组

  ![weekly-review-04](http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-04.png)

- 定时获取 spotify 喜欢列表，并发送到电报和 memos

- 每天早上 7 点，发送天气预报给微信



修改了以下 workflow：

- 将豆瓣最近动态同步到电报以及 memos
- 将 GitHub 最近动态同步到电报以及 memos
- 将博客 RSS 同步到电报以及 memos


此外，在苹果手机上添加了两个捷径：

- [捷径一](https://sharecuts.cn/shortcut/12640)：调用 memos API 创建 memos
- [捷径二](https://www.icloud.com/shortcuts/d990253f43e148469af5e85c296961cf)：对网站通过 RSSBud 获取 RSS 订阅地址并发送到电报的 flowerrss 机器人进行订阅  



## 好物分享

一些文章：

- [我的个人 IT 基础设施（英文）](https://writings.stephenwolfram.com/2019/02/seeking-the-productive-life-some-details-of-my-personal-infrastructure/)
- [打造我的家庭办公环境（英文）](https://arun.is/blog/desk-setup/)
- [科技爱好者周刊（第 191 期）：一个程序员的财务独立之路](https://www.ruanyifeng.com/blog/2022/01/weekly-issue-191.html)



一些工具：

- [亲戚关系计算器](https://passer-by.com/relationship/vue/#/)
- [ImageOptim](https://imageoptim.com/mac) - 开源图片压缩软件：一款 Mac 小工具，可以方便的进行图片压缩，支持多格式、批量处理。值得注意的是，它压缩之后的图片会覆盖之前的图片。使用了这个工具之后，我就把  TinyPNG4Mac 卸载了。
