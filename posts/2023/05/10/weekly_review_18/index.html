<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>周报-18｜导出豆瓣数据、Effective Java 3第二章总结 | ChenSoul</title>
<meta name=keywords content="review,java,python"><meta name=description content="前言 本篇是对 2023-05-01 到 2023-05-07 这周生活的记录与思考。首发在我的个人 博客，你可以移步了解更多或者给我留言。 继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现"><meta name=author content="chensoul"><link rel=canonical href=https://blog.chensoul.cc/posts/2023/05/10/weekly_review_18/><meta name=google-site-verification content="nBXwg45SBRjTX78SA-mH0asrAbsdu9c1nk0ObSry7aQ"><link crossorigin=anonymous href=/assets/css/stylesheet.899d9a536396b9b03c9eae0c99cc6ec954a90da94036f5390d131eb8071bb417.css integrity="sha256-iZ2aU2OWubA8nq4MmcxuyVSpDalANvU5DRMeuAcbtBc=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chensoul.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chensoul.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chensoul.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chensoul.cc/apple-touch-icon.png><link rel=mask-icon href=https://blog.chensoul.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.chensoul.cc/posts/2023/05/10/weekly_review_18/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-FYpQY8JdLU"><meta property="og:title" content="周报-18｜导出豆瓣数据、Effective Java 3第二章总结"><meta property="og:description" content="前言 本篇是对 2023-05-01 到 2023-05-07 这周生活的记录与思考。首发在我的个人 博客，你可以移步了解更多或者给我留言。 继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.cc/posts/2023/05/10/weekly_review_18/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-05-10T00:00:00+08:00"><meta property="article:modified_time" content="2023-05-10T00:00:00+08:00"><meta property="og:site_name" content="ChenSoul"><meta name=twitter:card content="summary"><meta name=twitter:title content="周报-18｜导出豆瓣数据、Effective Java 3第二章总结"><meta name=twitter:description content="前言 本篇是对 2023-05-01 到 2023-05-07 这周生活的记录与思考。首发在我的个人 博客，你可以移步了解更多或者给我留言。 继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chensoul.cc/posts/"},{"@type":"ListItem","position":2,"name":"周报-18｜导出豆瓣数据、Effective Java 3第二章总结","item":"https://blog.chensoul.cc/posts/2023/05/10/weekly_review_18/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"周报-18｜导出豆瓣数据、Effective Java 3第二章总结","name":"周报-18｜导出豆瓣数据、Effective Java 3第二章总结","description":"前言 本篇是对 2023-05-01 到 2023-05-07 这周生活的记录与思考。首发在我的个人 博客，你可以移步了解更多或者给我留言。 继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现","keywords":["review","java","python"],"articleBody":"前言 本篇是对 2023-05-01 到 2023-05-07 这周生活的记录与思考。首发在我的个人 博客，你可以移步了解更多或者给我留言。\n继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现在阅读 app 都需要收费，只能暂且搁置这个想法。\n最近在学习 Python，于是将学习中做的笔记发布到了博客，这周发布了两篇文章，希望通过输出来倒逼输入，以此来快速掌握 python 编程并能开发一些项目。另外，计划在学完之后，继续学习 Rust 和 Go，甚至开始学习前端开发。\n最近又一次更换了博客主题，主要出发点是想找一个简洁的主题，减少不必要的信息干扰，也不想花时间在修改主题上面。减少了菜单链接。\n导出豆瓣数据 最近阅读了一篇文章 很认真的在考虑不再使用豆瓣这件事 ，于是使用 lizheming/doumark-action 导出豆瓣数据。\n在我的 github 主页 https://github.com/chensoul/chensoul 创建一个 workflow douban.yml ，每隔一个小时同步一次豆瓣数据（读书、电影、音乐）到 csv 文件。拿到这些文件之后，就可以通过 html + css 渲染出来，类似这个页面 书影音。等豆瓣数据增多之后，再考虑实现这个。\n除此之外，之前还实现了通过 n8n 实时同步豆瓣数据到 memos 和 telegram：\n通过 python 脚本 获取最近 10 条记录，显示到 我的 github 主页。\n理财 这周总计支出 816 元，明细如下：\n5 月 1 日：55 元 5 月 2 日：79 元 5 月 3 日：370 元，其中 270 元加油 5 月 4 日：136 元，其中捐款 50 元 5 月 5 日：12 元 5 月 6 日：100 元，手机话费充值 5 月 7 日：64 元 最近一直想统计一下工作和生活中的固定支出费用，于是今天花了点时间做了统计。没想到每年工作和生活中固定支出费用竟然达到了 1529+6180=7709 元。其中大块头是手机话费和停车位费用，手机话费是因为办理一个电信套餐送宽带和一部手机；停车位费用是因为今年买了车。\n年费，总计：1529 元\nTypora：89 元 百度硬盘：178 元，2024-01-28 到期 快连 VPN：374 元，2024-01-16 到期 搬瓦工 VPS：640 元，2024-01-14 到期 1Password：248 元，2023-08-17 到期 月费，总计：515*12=6180 元\n手机话费：189 元\n停车位：320 元\niCloud：6 元\n健身 本周 跑步 记录如下，总计跑步 34.37 公里，其中周六第一次跑了 12 公里，比之前有所进步。遗憾的是，有两天没有跑步，导致连续跑步天数有中断。\n从 3 月份开始跑步到 5 月，目前总共跑步距离达到了 230 公里。\n工作 Effective Java 3 笔记 本周写了两篇《Effective Java 3》的学习笔记，分别是：\n《Effective Java 3》笔记 8：避免使用终结器和清除器 《Effective Java 3》笔记 9：使用 try-with-resources 优于 try-finally 至此，《Effective Java 3》第二章学习完了，现在总结如下：\n1、静态工厂方法代替构造函数\n静态工厂方法是一种创建对象的方式，它们与构造器不同，具有明确的名称，并且可以返回任意类型的对象。静态工厂方法的优点包括：\n名称可以描述对象的含义，使得代码更加清晰易读；\n静态工厂方法可以控制创建对象的方式，提高灵活性；\n静态工厂方法可以缓存已创建的对象，避免创建重复对象，提高性能；\n静态工厂方法可以返回任意类型的对象，而不仅仅是该类或者其子类的实例。\n2、使用构造器代替构造方法\n当一个类需要多个参数时，可以使用构建器，将参数逐个设置，最后调用 build 方法构建对象。构建器的优点包括：\n可以避免长参数列表，使得代码更加清晰易读；\n构建器可以强制要求必需的参数，提高代码的安全性；\n构建器可以返回不可变对象，提高代码的线程安全性。\n3、使用私有构造函数或枚举类型创建单例\n通过私有构造器或者枚举类型来实现 Singleton，它们的优点包括：\n可以确保只有一个实例存在，提高代码的安全性；\n可以缩小类的可访问性，提高代码的封装性；\n可以让代码更加自然，避免使用静态方法和静态变量的限制。\n4、用私有构造函数使类不可实例化\n使用私有构造函数强制实现不可实例化的主要原因是防止类被意外地实例化，以使代码更加健壮和可靠。在某些情况下，我们只需要使用类中的静态方法和静态字段，而不需要创建该类的实例。\n5、依赖注入优于硬编码资源\n使用依赖注入比硬编码资源的优点：\n可测试性：使用依赖注入，很容易创建和注入模拟对象进行测试。这样，我们可以将正在测试的组件隔离开来，并专注于测试其行为，而不必担心其依赖项的行为。 灵活性：使用依赖注入，我们可以轻松地用不同实现替换依赖项。这在需要更改组件的行为而不更改其代码时非常有用。 解耦：依赖注入有助于将组件与其依赖项解耦，使代码更加模块化并易于维护。 关注点分离：依赖注入将依赖项的创建和管理与组件本身分离，允许更清晰地分离关注点。 6、避免创建不必要的对象\n7、排除过时的对象引用\n在代码中及时清理不再使用的对象引用，以避免内存泄漏和性能问题。当一个对象不再需要时，应该尽快将其引用设置为 null，这样 JVM 可以及时回收它所占用的内存。\n8、避免使用终结器和清除器\n终结方法和清除方法是一种释放资源的方式，但是它们并不可靠，不应该依赖于它们来释放资源。应该使用 try-with-resources 结构或者显式的调用 close 方法来释放资源。\n9、使用 try-with-resources 优于 try-finally\ntry-with-resources 语句是 Java 7 中引入的一种新语法，主要目的是为了简化资源管理的代码，并确保资源被正确地关闭，避免了资源泄漏和异常处理的问题。\nPython Python 安装、构建、发布、下载和运行 Python 包和环境管理 本周分享 大部分有意思的内容会分享在 『ChenSoul Share』Telegram 频道或者我的 memos 中。我写了一个 python 脚本从 memos 读取最近一周的 memos 记录。\n2023-05-06 git flow 模型的提出：查看链接 gitflow-avh 是一个增强工具：查看链接 #git #tool #memos 2023-05-06 又有哪家阅读管理网站可取代豆瓣读书 查看链接 #douban #memos 2023-05-05 分享一些阅人经验： 1. 嘴巴太快的人，往往没什么城府。嘴巴太甜的人，不可以深交。 2. 话少的人往往是两个极端，要么真的简单，要么深不可测。 3. 性格写在脸上的人，人品不会太差。能够控制情绪的人，往往不是一般人。 4. 开口就说“我有一个朋友怎样怎样”的人，往往单纯没啥真本事。 5. 不喜欢麻烦别人的人，通常也不喜欢被别人麻烦。一个不懂拒绝的人，也是一个不懂应酬的人。 6. 如果一个人可以做到潇洒而不合群，这人多半是个老江湖。如果一个人因不合群特别不自在，这人多半是社会小白。 7. 看地位高的大佬推荐什么人、用什么人，那这个大佬就是什么样的人。 8. 越是做事小心翼翼的人，越容易得罪人。反而霸气点的人，往往都会有三分薄面。 9. 善于巴结讨好别人的人，最好不要与之深交，否则必受其累。 10. 看起来一本正经、不苟言笑、斯斯文文的人，往往都比较闷骚。 11. 能在一定位置上的人，无论你多么讨厌他，一定有他某些过人之处。 12. 能够在一段感情失败后，很快走出来的人，要么没有真心付出，要么理性得可怕。 13. 想知道一个人品行如何，可以观察一下他培养出来的孩子。 14. 高度自律的人，往往对别人的要求也很高。 15. 年少得志，太容易获得成功的人，往往容易栽跟头。如果能扛过去并吸取教训，将来的成就会更大，否则容易掉入深渊。 16. 面对恭维或羞辱都不动声色的人，肯定是城府极深的狠角色。这种人千万别乱得罪，否则受到的反击会很突然很猛烈，下场会很惨。 #摘录 #memos 2023-05-05 WoodpeckerCI 是一个由社区维护的 DroneCI 分支，使用 Apache License 2.0 许可证发布。社区版进一步扩展了 pipeline 的功能特性、支持对文件路径设置 pipeline 执行条件，并且可以与 Gitea 实现紧密集成。不同的是，DroneCI 的配置文件是 .drone.yml，WoodpeckerCI 重命名为了 .woodpecker.yml。好在 WoodpeckerCI 也兼容 DroneCI 的配置文件，迁移起来并不会太麻烦。 查看链接 #memos #tool 2023-05-04 git-flow[实战系列] 查看链接 #memos #git #tool 2023-05-04 在 Node.js 生态系统中查找积极维护和流行的库 查看链接 #web #nodejs #memos 2023-05-04 可以用来取代 UUID, 效率更高, 支持自定义字符集 查看链接 #memos #tool 2023-05-04 unDraw: 一个可以免费使用的插图库, 优势: 可免费商用/支持直接改色 查看链接 #memos #tool 2023-05-04 临时文件上传服务 文件传输工具，上传的文件只保留 48 小时，过期自动删除 查看链接 Pixeldrain 免费文件分享，免费每个文件最大 20 GB per file，无广告。 查看链接 TEMPORARY FILE HOSTING All uploaded files are automatically deleted after 60 minutes. 查看链接 Super simple file sharing! Upload as many files as you like up to 2 GB and get a link to share.（一次下载后，链接即过期） 查看链接 Upload And Share (MP4, WEBM) Temporary Videos 查看链接 #memos #tool 2023-05-04 适合编程时听的音乐 查看链接 查看链接 #memos #music 以上。\n","wordCount":"3244","inLanguage":"en","datePublished":"2023-05-10T00:00:00+08:00","dateModified":"2023-05-10T00:00:00+08:00","author":{"@type":"Person","name":"chensoul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chensoul.cc/posts/2023/05/10/weekly_review_18/"},"publisher":{"@type":"Organization","name":"ChenSoul","logo":{"@type":"ImageObject","url":"https://blog.chensoul.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chensoul.cc/ accesskey=h title="ChenSoul (Alt + H)">ChenSoul</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.chensoul.cc/categories title=分类><span>分类</span></a></li><li><a href=https://blog.chensoul.cc/tags title=标签><span>标签</span></a></li><li><a href=https://blog.chensoul.cc/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.chensoul.cc/index.xml title=订阅><span>订阅</span></a></li><li><a href=https://github.com/chensoul title=关于><span>关于</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">周报-18｜导出豆瓣数据、Effective Java 3第二章总结</h1><div class=post-meta><span title='2023-05-10 00:00:00 +0800 CST'>2023-05-10</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;3244 words&nbsp;·&nbsp;chensoul</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#%e5%89%8d%e8%a8%80 aria-label=前言>前言</a></li><li><a href=#%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae aria-label=导出豆瓣数据>导出豆瓣数据</a></li><li><a href=#%e7%90%86%e8%b4%a2 aria-label=理财>理财</a></li><li><a href=#%e5%81%a5%e8%ba%ab aria-label=健身>健身</a></li><li><a href=#%e5%b7%a5%e4%bd%9c aria-label=工作>工作</a><ul><li><a href=#effective-java-3-%e7%ac%94%e8%ae%b0 aria-label="Effective Java 3 笔记">Effective Java 3 笔记</a></li><li><a href=#python aria-label=Python>Python</a></li></ul></li><li><a href=#%e6%9c%ac%e5%91%a8%e5%88%86%e4%ba%ab aria-label=本周分享>本周分享</a></li></ul></div></details></div><div class=post-content><h2 id=前言>前言<a hidden class=anchor aria-hidden=true href=#前言>#</a></h2><p>本篇是对 <code>2023-05-01</code> 到 <code>2023-05-07</code> 这周生活的记录与思考。首发在我的个人 <a href=https://blog.chensoul.cc/>博客</a>，你可以移步了解更多或者给我留言。</p><p>继上周实现导出苹果接口数据之后，这周又实现了自动导出豆瓣数据。此外，还萌生了导出每天阅读的数据的想法。奈何现在阅读 app 都需要收费，只能暂且搁置这个想法。</p><p>最近在学习 Python，于是将学习中做的笔记发布到了博客，这周发布了两篇文章，希望通过输出来倒逼输入，以此来快速掌握 python 编程并能开发一些项目。另外，计划在学完之后，继续学习 Rust 和 Go，甚至开始学习前端开发。</p><p>最近又一次更换了博客主题，主要出发点是想找一个简洁的主题，减少不必要的信息干扰，也不想花时间在修改主题上面。减少了菜单链接。</p><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-01.png alt=weekly-review-18-01></p><h2 id=导出豆瓣数据>导出豆瓣数据<a hidden class=anchor aria-hidden=true href=#导出豆瓣数据>#</a></h2><p>最近阅读了一篇文章 <a href=https://conge.livingwithfcs.org/2023/05/05/leaving-douban/>很认真的在考虑不再使用豆瓣这件事</a> ，于是使用<a href=https://github.com/lizheming/doumark-action> lizheming/doumark-action</a> 导出豆瓣数据。</p><p>在我的 github 主页 <a href=https://github.com/chensoul/chensoul>https://github.com/chensoul/chensoul</a> 创建一个 workflow <a href=https://github.com/chensoul/chensoul/blob/main/.github/workflows/douban.yml>douban.yml</a> ，每隔一个小时同步一次豆瓣数据（读书、电影、音乐）到 <a href=https://github.com/chensoul/chensoul/tree/main/data>csv 文件</a>。拿到这些文件之后，就可以通过 html + css 渲染出来，类似这个页面 <a href=https://conge.livingwithfcs.org/books/>书影音</a>。等豆瓣数据增多之后，再考虑实现这个。</p><p>除此之外，之前还实现了通过 n8n 实时同步豆瓣数据到 memos 和 telegram：</p><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-05.png alt=weekly-review-18-05></p><p>通过 <a href=https://github.com/chensoul/chensoul/blob/main/build_readme.py>python 脚本 </a>获取最近 10 条记录，显示到 <a href=https://github.com/chensoul>我的 github 主页</a>。</p><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-06.png alt=weekly-review-18-06></p><h2 id=理财>理财<a hidden class=anchor aria-hidden=true href=#理财>#</a></h2><p>这周总计支出 816 元，明细如下：</p><ul><li>5 月 1 日：55 元</li><li>5 月 2 日：79 元</li><li>5 月 3 日：370 元，其中 270 元加油</li><li>5 月 4 日：136 元，其中捐款 50 元</li><li>5 月 5 日：12 元</li><li>5 月 6 日：100 元，手机话费充值</li><li>5 月 7 日：64 元</li></ul><p>最近一直想统计一下工作和生活中的固定支出费用，于是今天花了点时间做了统计。没想到每年工作和生活中固定支出费用竟然达到了 1529+6180=7709 元。其中大块头是手机话费和停车位费用，手机话费是因为办理一个电信套餐送宽带和一部手机；停车位费用是因为今年买了车。</p><p>年费，总计：1529 元</p><ul><li>Typora：89 元</li><li>百度硬盘：178 元，2024-01-28 到期</li><li>快连 VPN：374 元，2024-01-16 到期</li><li>搬瓦工 VPS：640 元，2024-01-14 到期</li><li>1Password：248 元，2023-08-17 到期</li></ul><p>月费，总计：515*12=6180 元</p><ul><li><p>手机话费：189 元</p></li><li><p>停车位：320 元</p></li><li><p>iCloud：6 元</p></li></ul><h2 id=健身>健身<a hidden class=anchor aria-hidden=true href=#健身>#</a></h2><p>本周 <a href=https://run.chensoul.cc/>跑步</a> 记录如下，总计跑步 34.37 公里，其中周六第一次跑了 12 公里，比之前有所进步。遗憾的是，有两天没有跑步，导致连续跑步天数有中断。</p><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-04.png alt=weekly-review-18-04></p><p>从 3 月份开始跑步到 5 月，目前总共跑步距离达到了 230 公里。</p><img src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-03.png alt=weekly-review-18-03 style=width:50%><h2 id=工作>工作<a hidden class=anchor aria-hidden=true href=#工作>#</a></h2><h3 id=effective-java-3-笔记>Effective Java 3 笔记<a hidden class=anchor aria-hidden=true href=#effective-java-3-笔记>#</a></h3><p>本周写了两篇《Effective Java 3》的学习笔记，分别是：</p><ul><li><a href=/posts/2023/05/08/avoid-finalizers-and-cleaners/>《Effective Java 3》笔记 8：避免使用终结器和清除器</a></li><li><a href=/posts/2023/05/08/prefer-try-with-resources-to-try-finally/>《Effective Java 3》笔记 9：使用 try-with-resources 优于 try-finally</a></li></ul><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-18-02.png alt=weekly-review-18-02></p><p>至此，《Effective Java 3》第二章学习完了，现在总结如下：</p><p>1、静态工厂方法代替构造函数</p><p>静态工厂方法是一种创建对象的方式，它们与构造器不同，具有明确的名称，并且可以返回任意类型的对象。静态工厂方法的优点包括：</p><ul><li><p>名称可以描述对象的含义，使得代码更加清晰易读；</p></li><li><p>静态工厂方法可以控制创建对象的方式，提高灵活性；</p></li><li><p>静态工厂方法可以缓存已创建的对象，避免创建重复对象，提高性能；</p></li><li><p>静态工厂方法可以返回任意类型的对象，而不仅仅是该类或者其子类的实例。</p></li></ul><p>2、使用构造器代替构造方法</p><p>当一个类需要多个参数时，可以使用构建器，将参数逐个设置，最后调用 build 方法构建对象。构建器的优点包括：</p><ul><li><p>可以避免长参数列表，使得代码更加清晰易读；</p></li><li><p>构建器可以强制要求必需的参数，提高代码的安全性；</p></li><li><p>构建器可以返回不可变对象，提高代码的线程安全性。</p></li></ul><p>3、使用私有构造函数或枚举类型创建单例</p><p>通过私有构造器或者枚举类型来实现 Singleton，它们的优点包括：</p><ul><li><p>可以确保只有一个实例存在，提高代码的安全性；</p></li><li><p>可以缩小类的可访问性，提高代码的封装性；</p></li><li><p>可以让代码更加自然，避免使用静态方法和静态变量的限制。</p></li></ul><p>4、用私有构造函数使类不可实例化</p><p>使用私有构造函数强制实现不可实例化的主要原因是防止类被意外地实例化，以使代码更加健壮和可靠。在某些情况下，我们只需要使用类中的静态方法和静态字段，而不需要创建该类的实例。</p><p>5、依赖注入优于硬编码资源</p><p>使用依赖注入比硬编码资源的优点：</p><ol><li>可测试性：使用依赖注入，很容易创建和注入模拟对象进行测试。这样，我们可以将正在测试的组件隔离开来，并专注于测试其行为，而不必担心其依赖项的行为。</li><li>灵活性：使用依赖注入，我们可以轻松地用不同实现替换依赖项。这在需要更改组件的行为而不更改其代码时非常有用。</li><li>解耦：依赖注入有助于将组件与其依赖项解耦，使代码更加模块化并易于维护。</li><li>关注点分离：依赖注入将依赖项的创建和管理与组件本身分离，允许更清晰地分离关注点。</li></ol><p>6、避免创建不必要的对象</p><p>7、排除过时的对象引用</p><p>在代码中及时清理不再使用的对象引用，以避免内存泄漏和性能问题。当一个对象不再需要时，应该尽快将其引用设置为 null，这样 JVM 可以及时回收它所占用的内存。</p><p>8、避免使用终结器和清除器</p><p>终结方法和清除方法是一种释放资源的方式，但是它们并不可靠，不应该依赖于它们来释放资源。应该使用 try-with-resources 结构或者显式的调用 close 方法来释放资源。</p><p>9、使用 try-with-resources 优于 try-finally</p><p><code>try-with-resources</code> 语句是 Java 7 中引入的一种新语法，主要目的是为了简化资源管理的代码，并确保资源被正确地关闭，避免了资源泄漏和异常处理的问题。</p><h3 id=python>Python<a hidden class=anchor aria-hidden=true href=#python>#</a></h3><ul><li><a href=/posts/2023/05/09/python-install-build-publish-run/>Python 安装、构建、发布、下载和运行</a></li><li><a href=/posts/2023/05/09/python-package-and-env-management/>Python 包和环境管理</a></li></ul><h2 id=本周分享>本周分享<a hidden class=anchor aria-hidden=true href=#本周分享>#</a></h2><p>大部分有意思的内容会分享在 『<a href=https://t.me/chensouls>ChenSoul Share</a>』Telegram 频道或者我的 <a href=https://memos.chensoul.cc/>memos</a> 中。我写了一个 python 脚本从 memos 读取最近一周的 memos 记录。</p><ul><li><strong>2023-05-06</strong> git flow 模型的提出：<a href=https://nvie.com/posts/a-successful-git-branching-model/>查看链接</a> gitflow-avh 是一个增强工具：<a href=https://github.com/petervanderdoes/gitflow-avh>查看链接</a> <code>#git</code> <code>#tool</code> <code>#memos</code></li><li><strong>2023-05-06</strong> 又有哪家阅读管理网站可取代豆瓣读书 <a href=https://glennwoo.com/2022/07/29/about-reading-tracker-websites/>查看链接</a> <code>#douban</code> <code>#memos</code></li><li><strong>2023-05-05</strong> 分享一些阅人经验： 1. 嘴巴太快的人，往往没什么城府。嘴巴太甜的人，不可以深交。 2. 话少的人往往是两个极端，要么真的简单，要么深不可测。 3. 性格写在脸上的人，人品不会太差。能够控制情绪的人，往往不是一般人。 4. 开口就说“我有一个朋友怎样怎样”的人，往往单纯没啥真本事。 5. 不喜欢麻烦别人的人，通常也不喜欢被别人麻烦。一个不懂拒绝的人，也是一个不懂应酬的人。 6. 如果一个人可以做到潇洒而不合群，这人多半是个老江湖。如果一个人因不合群特别不自在，这人多半是社会小白。 7. 看地位高的大佬推荐什么人、用什么人，那这个大佬就是什么样的人。 8. 越是做事小心翼翼的人，越容易得罪人。反而霸气点的人，往往都会有三分薄面。 9. 善于巴结讨好别人的人，最好不要与之深交，否则必受其累。 10. 看起来一本正经、不苟言笑、斯斯文文的人，往往都比较闷骚。 11. 能在一定位置上的人，无论你多么讨厌他，一定有他某些过人之处。 12. 能够在一段感情失败后，很快走出来的人，要么没有真心付出，要么理性得可怕。 13. 想知道一个人品行如何，可以观察一下他培养出来的孩子。 14. 高度自律的人，往往对别人的要求也很高。 15. 年少得志，太容易获得成功的人，往往容易栽跟头。如果能扛过去并吸取教训，将来的成就会更大，否则容易掉入深渊。 16. 面对恭维或羞辱都不动声色的人，肯定是城府极深的狠角色。这种人千万别乱得罪，否则受到的反击会很突然很猛烈，下场会很惨。 <code>#摘录</code> <code>#memos</code></li><li><strong>2023-05-05</strong> WoodpeckerCI 是一个由社区维护的 DroneCI 分支，使用 Apache License 2.0 许可证发布。社区版进一步扩展了 pipeline 的功能特性、支持对文件路径设置 pipeline 执行条件，并且可以与 Gitea 实现紧密集成。不同的是，DroneCI 的配置文件是 .drone.yml，WoodpeckerCI 重命名为了 .woodpecker.yml。好在 WoodpeckerCI 也兼容 DroneCI 的配置文件，迁移起来并不会太麻烦。 <a href=https://github.com/woodpecker-ci/woodpecker>查看链接</a> <code>#memos</code> <code>#tool</code></li><li><strong>2023-05-04</strong> git-flow[实战系列] <a href=https://blog.p2hp.com/archives/10929>查看链接</a> <code>#memos</code> <code>#git</code> <code>#tool</code></li><li><strong>2023-05-04</strong> 在 Node.js 生态系统中查找积极维护和流行的库 <a href=https://nodejstoolbox.com/>查看链接</a> <code>#web</code> <code>#nodejs</code> <code>#memos</code></li><li><strong>2023-05-04</strong> 可以用来取代 UUID, 效率更高, 支持自定义字符集 <a href=https://github.com/ai/nanoid>查看链接</a> <code>#memos</code> <code>#tool</code></li><li><strong>2023-05-04</strong> unDraw: 一个可以免费使用的插图库, 优势: 可免费商用/支持直接改色 <a href=https://undraw.co/illustrations>查看链接</a> <code>#memos</code> <code>#tool</code></li><li><strong>2023-05-04</strong> 临时文件上传服务 文件传输工具，上传的文件只保留 48 小时，过期自动删除 <a href=https://sendfiles.online/>查看链接</a> Pixeldrain 免费文件分享，免费每个文件最大 20 GB per file，无广告。 <a href=https://pixeldrain.com/>查看链接</a> TEMPORARY FILE HOSTING All uploaded files are automatically deleted after 60 minutes. <a href=https://tmpfiles.org/>查看链接</a> Super simple file sharing! Upload as many files as you like up to 2 GB and get a link to share.（一次下载后，链接即过期） <a href=https://www.file.io/>查看链接</a> Upload And Share (MP4, WEBM) Temporary Videos <a href=https://tempclip.com/>查看链接</a> <code>#memos</code> <code>#tool</code></li><li><strong>2023-05-04</strong> 适合编程时听的音乐 <a href=https://coderadio.freecodecamp.org/>查看链接</a> <a href=https://www.programmersmusic.com/>查看链接</a> <code>#memos</code> <code>#music</code></li></ul><p>以上。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.chensoul.cc/tags/review/>Review</a></li><li><a href=https://blog.chensoul.cc/tags/java/>Java</a></li><li><a href=https://blog.chensoul.cc/tags/python/>Python</a></li></ul><nav class=paginav><a class=prev href=https://blog.chensoul.cc/posts/2023/05/11/git-flow-model-and-usage/><span class=title>« Prev</span><br><span>Git Flow分支模型和使用</span>
</a><a class=next href=https://blog.chensoul.cc/posts/2023/05/09/python-package-and-env-management/><span class=title>Next »</span><br><span>Python包和环境管理</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on x" href="https://x.com/intent/tweet/?text=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f&amp;hashtags=review%2cjava%2cpython"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f&amp;title=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93&amp;summary=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93&amp;source=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f&title=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on whatsapp" href="https://api.whatsapp.com/send?text=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93%20-%20https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on telegram" href="https://telegram.me/share/url?text=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 周报-18｜导出豆瓣数据、Effective Java 3第二章总结 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%e5%91%a8%e6%8a%a5-18%ef%bd%9c%e5%af%bc%e5%87%ba%e8%b1%86%e7%93%a3%e6%95%b0%e6%8d%ae%e3%80%81Effective%20Java%203%e7%ac%ac%e4%ba%8c%e7%ab%a0%e6%80%bb%e7%bb%93&u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f05%2f10%2fweekly_review_18%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.chensoul.cc/>ChenSoul</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script async src=https://umami.chensoul.cc/random-string.js data-website-id=821c25f8-a31a-4607-92d7-91ee76843d00></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>