<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[译]Spring Boot3和Spring6中的新特性 | ChenSoul</title><meta name=keywords content="java,spring boot,spring"><meta name=description content="Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开"><meta name=author content="chensoul"><link rel=canonical href=https://blog.chensoul.com/posts/2023/10/13/new-features-in-spring-boot-3-and-spring-6/><meta name=google-site-verification content="nBXwg45SBRjTX78SA-mH0asrAbsdu9c1nk0ObSry7aQ"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="8E787EFCDB0CE747FE1A4DA0ABEC66E4"><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.js onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.chensoul.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chensoul.com/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.chensoul.com/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.chensoul.com/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.chensoul.com/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-FYpQY8JdLU"><meta property="og:title" content="[译]Spring Boot3和Spring6中的新特性"><meta property="og:description" content="Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.com/posts/2023/10/13/new-features-in-spring-boot-3-and-spring-6/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-10-13T07:00:00+08:00"><meta property="article:modified_time" content="2023-10-13T07:00:00+08:00"><meta property="og:site_name" content="ChenSoul"><meta name=twitter:card content="summary"><meta name=twitter:title content="[译]Spring Boot3和Spring6中的新特性"><meta name=twitter:description content="Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chensoul.com/posts/"},{"@type":"ListItem","position":2,"name":"[译]Spring Boot3和Spring6中的新特性","item":"https://blog.chensoul.com/posts/2023/10/13/new-features-in-spring-boot-3-and-spring-6/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[译]Spring Boot3和Spring6中的新特性","name":"[译]Spring Boot3和Spring6中的新特性","description":"Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开","keywords":["java","spring boot","spring"],"articleBody":"Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开发人员，我们需要了解这些更新，才能顺利使用 Spring Boot。毫无疑问，新版本中最大的转变之一是放弃了对旧版本 Java 的支持。\n在本文中，我们将讨论“Spring Boot 3 和 Spring 6 中的新功能”。\nSpring 3.0版本有哪些主要亮点？ Spring 3.0 版本的亮点包括：\nJava 17 基线 支持 Jakarta EE 10 和 EE 9 基线 支持使用 GraalVM 生成本机映像，取代实验性 Spring Native 项目 通过测微计和测微计追踪提高了可观测性 谁可以真正使用 Spring Boot 3？ 如前所述，Spring Boot 3.0 最大的转变是忽略了对旧版本 Java 的支持。是的，我们至少需要 Java 17 才能使用 Spring Boot 3.0。因此，在使用 Spring Boot 3.0 之前必须具备 JDK 17 环境。\nSpring Boot 3 和 Spring 6 有哪些新功能？ 这里需要注意的重要一点是 Spring Boot 3.0 构建于 Spring Framework 6 之上并需要 Spring Framework 6。因此，如果您的 pom.xml 指向 Spring Boot 版本 3.0.0，它将自动下载 Spring Framework 6 所需的依赖项。因此，默认情况下，您在使用 Spring Boot 3.0 时将使用 Spring Framework 6。请访问单独的文章了解 Spring Framework 6.0 中的新功能。这里只讨论 Spring Boot 3 中的新功能。\nJava 17 基线和 Java 19 支持 我们需要 Java 17 作为最低版本才能与 Spring 3.0 配合使用。如果您当前使用的是 Java 8、Java 11 或 Java 14 等较低版本，则需要先将 JDK 升级到 JDK 17，然后再开始使用 Spring Boot 3.0 开发应用程序。目前Java的最新版本是JDK 19。不过，Spring Boot 3.0也运行良好，并且已经在JDK 19上进行了测试。\n您还可以阅读：Java 17 特性。\n第三方库升级 由于Java EE已更改为Jakarta EE，Spring Boot 3.0也将所有依赖项的API从Java EE迁移到Jakarta EE API。因此，以“javax”开头的包名称需要相应地更改为“jakarta”。 例如，一些常用的包将被更改如下：\njavax.persistence.* -\u003e jakarta.persistence.* javax.validation.* -\u003e jakarta.validation.* javax.servlet.* -\u003e jakarta.servlet.* javax.annotation.* -\u003e jakarta.annotation.* javax.transaction.* -\u003e jakarta.transaction.* 注意：请注意，javax.sql.* 和 javax.crypto.* 等包不会更改为“jakarta.*”，因为它们是 Java 17 JDK 的一部分，而不是 Java EE 的一部分。只有属于 Java EE 的那些包才会更改为 Jakarta EE。\n只要有可能，我们都会选择 Jakarta EE 10 兼容的依赖项，包括：\nJakarta Activation 2.1 Jakarta JMS 3.1 Jakarta JSON 2.1 Jakarta JSON Bind 3.0 Jakarta Mail 2.1 Jakarta Persistence 3.1 Jakarta Servlet 6.0 Jakarta Servlet JSP JSTL 3.0 Jakarta Transaction 2.0 Jakarta Validation 3.0 Jakarta WebSocket 2.1 Jakarta WS RS 3.1 Jakarta XML SOAP 3.0 Jakarta XML WS 4.0 随着Spring框架升级到版本6，其他Spring项目也在这个版本中升级，它们是： Spring AMQP 3.0. Spring Batch 5.0. Spring Data 2022.0. Spring GraphQL 1.1. Spring HATEOAS 2.0. Spring Integration 6.0. Spring Kafka 3.0. Spring LDAP 3.0. Spring REST Docs 3.0. Spring Retry 2.0. Spring Security 6.0 (see also what’s new). Spring Session 3.0 Spring WS 4.0. 第三方jar的最新稳定版本也会尽可能升级。一些常用的依赖项升级包括： Couchbase Client 3.4 Ehcache 3.10 Elasticsearch Client 8.5 Flyway 9 Groovy 4.0 Hibernate 6.1 Hibernate Validator 8.0 Jackson 2.14 Jersey 3.1 Jetty 11 jOOQ 3.16 Kotlin 1.7.20 Liquibase 4.13 Lettuce 6.2 Log4j 2.18 Logback 1.4 Micrometer 1.10 Micrometer Tracing 1.0 Neo4j Java Driver 5.2 Netty 4.1.77.Final OkHttp 4.10 R2DBC 1.0 Reactor 2022.0 SLF4J 2.0 SnakeYAML 1.32 Tomcat 10 Thymeleaf 3.1.0.M2 Undertow 2.2.20.Final GraalVM 本机映像支持 GraalVM Native Images 提供了一种部署和运行 Java 应用程序的新方法。与 Java 虚拟机相比，本机映像可以以更小的内存占用和更快的启动时间运行。\nGraalVM 是一种高性能 JDK，旨在加快用 Java 和其他 JVM 语言编写的应用程序的执行速度，同时还为 JavaScript、Python 和许多其他流行语言提供运行时。 GraalVM 提供了两种运行 Java 应用程序的方法：在带有 Graal 即时 (JIT) 编译器的 HotSpot JVM 上或作为提前 (AOT) 编译的本机可执行文件。\nGraalVM 本机映像是独立的可执行文件，可以通过提前处理已编译的 Java 应用程序来生成。原生映像通常比 JVM 映像具有更小的内存占用并且启动速度更快。它们非常适合使用容器映像部署的应用程序。 GraalVM Native Image 是一个完整的、特定于平台的可执行文件。我们不需要提供 Java 虚拟机来运行本机映像。\n如果您想了解更多信息并尝试使用 GraalVM，您可以继续阅读有关“GraalVM Native Image Support”的官方文档。\n通过测微计和测微计追踪提高可观测性 可观察性是从外部观察正在运行的系统的内部状态的能力。换句话说，“通过检查系统的输出，您可以在多大程度上了解系统的内部结构”。它由日志记录、指标和跟踪三大支柱组成。对于指标和跟踪，Spring Boot 使用 Micrometer Observation。要创建您自己的观察（这将产生指标和跟踪），您可以注入 ObservationRegistry。\nSpring Boot 3.0支持Micrometer 1.10中引入的新观察API。新的 ObservationRegistry 界面可用于创建观察结果，为指标和跟踪提供单一 API。 Spring Boot 现在会自动为您配置 ObservationRegistry 实例。下面的代码片段演示了 ObervationRegistry 的概念。 @Component public class MyCustomObservation { private final ObservationRegistry observationRegistry; public MyCustomObservation(ObservationRegistry observationRegistry) { this.observationRegistry = observationRegistry; } public void doSomething() { Observation.createNotStarted(\"doSomething\", this.observationRegistry) .lowCardinalityKeyValue(\"locale\", \"en-US\") .highCardinalityKeyValue(\"userId\", \"42\") .observe(() -\u003e { // Execute business logic here }); } } Spring Boot 现在会自动为您配置 Micrometer Tracing。这包括对 Brave、OpenTelemetry、Zipkin 和 Wavefront 的支持。 Spring Cloud Sleuth 在新版本中被 Micrometer Tracing Framework 取代。 使用 Spring Boot 3.0 的 Spring Security UserDetailsService 示例 此外，我们还有一篇单独的文章作为 Spring Security UserDetailsS​​ervice 使用 Spring Boot 3 的示例，该文章完全使用 Spring Boot 3.0 并遵循 Spring 官方文档提供的分步指南进行开发。此外，您可以阅读《Spring Boot 3.0 迁移指南》来彻底了解迁移过程。\n这是目前的功能列表。显然，还有更多。我们将不时更新文章。\n有关 Spring Boot 的其他教程，您可以访问 Spring Boot 教程页面。\nSpring Boot 3 和 Spring 6 版本如何互连？ 如上所述，Spring Boot 3.0 构建在 Spring Framework 6.0 之上。两者的发布之间有一周的间隔。 Spring Framework 6.0.0 比 Spring Boot 3.0 发布早一周发布。换句话说，Spring Framework 6.0.0 是 Spring Boot 3.0 的基础。此外，如果您的 pom.xml 指向 Spring Boot 版本 3.0.0，它将自动下载 Spring Framework 6 所需的依赖项。因此，默认情况下，您在使用 Spring Boot 3.0 时将使用 Spring Framework 6。\n虽然提前（AOT）和 GraalVM 是 Spring Framework 6.0 的新功能，但如果没有完整的 Spring Boot 堆栈，它们就没有用。它们在基于 Spring 的独立应用程序中还不够好。\n下一个版本 Spring Framework 6.1 GA 将于明年即 2023 年 11 月发布。另一方面，到 2023 年 11 月，Spring Boot 将有两个版本，即 Spring Boot 3.0 和 3.1。这意味着 Spring Framework 将有每年发布一个版本，而 Spring boot 每年发布两个版本，并支持最新的 JDK 版本。按照 JDK 的常规发布，JDK 21(LTS) 将于 2023 年 9 月发布，即 Spring Framework 6.1 GA 发布之前。\nFAQ Spring Boot 3 可以与 Java 11 一起使用吗？ 一点也不。 Spring Boot 3.0.0 需要 JDK 17 作为最低版本才能使用。 Spring Boot 3.0发布文档中明确提到了这一点。如果您想使用低于 Java 17 的 Java 版本，则必须使用 Spring Boot 2.0。\nSpring Boot 3 支持 Java 8 吗？ 根本不需要。为了使用 Spring Boot 3，您的系统中必须至少安装 Java 17。不仅安装了，您的代码还必须使用 JDK 17 进行编译。使用 JDK 17 或更高版本编译的代码将仅被 Spring Boot 3 接受。\n原文链接：https://javatechonline.com/new-features-in-spring-boot-3-and-spring-6/\n","wordCount":"2563","inLanguage":"en","datePublished":"2023-10-13T07:00:00+08:00","dateModified":"2023-10-13T07:00:00+08:00","author":{"@type":"Person","name":"chensoul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chensoul.com/posts/2023/10/13/new-features-in-spring-boot-3-and-spring-6/"},"publisher":{"@type":"Organization","name":"ChenSoul","logo":{"@type":"ImageObject","url":"https://blog.chensoul.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chensoul.com/ accesskey=h title="ChenSoul (Alt + H)">ChenSoul</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.chensoul.com/categories/ideas title=周报><span>周报</span></a></li><li><a href=https://blog.chensoul.com/categories/notes title=编程><span>编程</span></a></li><li><a href=https://blog.chensoul.com/tags title=标签><span>标签</span></a></li><li><a href=https://blog.chensoul.com/about title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>[译]Spring Boot3和Spring6中的新特性</h1><div class=post-meta><span title='2023-10-13 07:00:00 +0800 +0800'>2023-10-13</span>&nbsp;·&nbsp;chensoul</div></header><div class=post-content><p>Spring Boot 3.0 于 2022 年 11 月正式发布，包含一些新功能和改进。这是继大约 4.5 年前发布 Spring Boot 2.0 后 Spring Boot 的第一个主要版本。它也是第一个支持 Spring Framework 6.0 的 Spring Boot GA 版本。作为开发人员，我们需要了解这些更新，才能顺利使用 Spring Boot。毫无疑问，新版本中最大的转变之一是放弃了对旧版本 Java 的支持。</p><p>在本文中，我们将讨论“Spring Boot 3 和 Spring 6 中的新功能”。</p><h2 id=spring-30版本有哪些主要亮点>Spring 3.0版本有哪些主要亮点？<a hidden class=anchor aria-hidden=true href=#spring-30版本有哪些主要亮点>#</a></h2><p>Spring 3.0 版本的亮点包括：</p><ul><li>Java 17 基线</li><li>支持 Jakarta EE 10 和 EE 9 基线</li><li>支持使用 GraalVM 生成本机映像，取代实验性 Spring Native 项目</li><li>通过测微计和测微计追踪提高了可观测性</li></ul><h2 id=谁可以真正使用-spring-boot-3>谁可以真正使用 Spring Boot 3？<a hidden class=anchor aria-hidden=true href=#谁可以真正使用-spring-boot-3>#</a></h2><p>如前所述，Spring Boot 3.0 最大的转变是忽略了对旧版本 Java 的支持。是的，我们至少需要 Java 17 才能使用 Spring Boot 3.0。因此，在使用 Spring Boot 3.0 之前必须具备 JDK 17 环境。</p><h2 id=spring-boot-3-和-spring-6-有哪些新功能>Spring Boot 3 和 Spring 6 有哪些新功能？<a hidden class=anchor aria-hidden=true href=#spring-boot-3-和-spring-6-有哪些新功能>#</a></h2><p>这里需要注意的重要一点是 Spring Boot 3.0 构建于 Spring Framework 6 之上并需要 Spring Framework 6。因此，如果您的 pom.xml 指向 Spring Boot 版本 3.0.0，它将自动下载 Spring Framework 6 所需的依赖项。因此，默认情况下，您在使用 Spring Boot 3.0 时将使用 Spring Framework 6。请访问单独的文章了解 Spring Framework 6.0 中的新功能。这里只讨论 Spring Boot 3 中的新功能。</p><h3 id=java-17-基线和-java-19-支持>Java 17 基线和 Java 19 支持<a hidden class=anchor aria-hidden=true href=#java-17-基线和-java-19-支持>#</a></h3><p>我们需要 Java 17 作为最低版本才能与 Spring 3.0 配合使用。如果您当前使用的是 Java 8、Java 11 或 Java 14 等较低版本，则需要先将 JDK 升级到 JDK 17，然后再开始使用 Spring Boot 3.0 开发应用程序。目前Java的最新版本是JDK 19。不过，Spring Boot 3.0也运行良好，并且已经在JDK 19上进行了测试。</p><p>您还可以阅读：<a href=https://javatechonline.com/java-17-features/>Java 17 特性</a>。</p><h3 id=第三方库升级>第三方库升级<a hidden class=anchor aria-hidden=true href=#第三方库升级>#</a></h3><ol><li>由于Java EE已更改为Jakarta EE，Spring Boot 3.0也将所有依赖项的API从Java EE迁移到Jakarta EE API。因此，以“javax”开头的包名称需要相应地更改为“jakarta”。</li></ol><p>例如，一些常用的包将被更改如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>javax.persistence.*   -&gt; jakarta.persistence.*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>javax.validation.*    -&gt; jakarta.validation.*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>javax.servlet.*       -&gt; jakarta.servlet.*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>javax.annotation.*    -&gt; jakarta.annotation.*
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>javax.transaction.*   -&gt; jakarta.transaction.*
</span></span></code></pre></div><p>注意：请注意，javax.sql.* 和 javax.crypto.* 等包不会更改为“jakarta.*”，因为它们是 Java 17 JDK 的一部分，而不是 Java EE 的一部分。只有属于 Java EE 的那些包才会更改为 Jakarta EE。</p><p>只要有可能，我们都会选择 Jakarta EE 10 兼容的依赖项，包括：</p><ul><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Activation 2.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta JMS 3.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta JSON 2.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta JSON Bind 3.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Mail 2.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Persistence 3.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Servlet 6.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Servlet JSP JSTL 3.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Transaction 2.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta Validation 3.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta WebSocket 2.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta WS RS 3.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta XML SOAP 3.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jakarta XML WS 4.0
</span></span></code></pre></div></li></ul><ol start=2><li>随着Spring框架升级到版本6，其他Spring项目也在这个版本中升级，它们是：</li></ol><ul><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring AMQP 3.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Batch 5.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Data 2022.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring GraphQL 1.1.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring HATEOAS 2.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Integration 6.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Kafka 3.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring LDAP 3.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring REST Docs 3.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Retry 2.0.
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Security 6.0 (see also what’s new).
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring Session 3.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Spring WS 4.0.
</span></span></code></pre></div></li></ul><ol start=3><li>第三方jar的最新稳定版本也会尽可能升级。一些常用的依赖项升级包括：</li></ol><ul><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Couchbase Client 3.4
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Ehcache 3.10
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Elasticsearch Client 8.5
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Flyway 9
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Groovy 4.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hibernate 6.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Hibernate Validator 8.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jackson 2.14
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jersey 3.1
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Jetty 11
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>jOOQ 3.16
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Kotlin 1.7.20
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Liquibase 4.13
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Lettuce 6.2
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Log4j 2.18
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Logback 1.4
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Micrometer 1.10
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Micrometer Tracing 1.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Neo4j Java Driver 5.2
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Netty 4.1.77.Final
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>OkHttp 4.10
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>R2DBC 1.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Reactor 2022.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SLF4J 2.0
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SnakeYAML 1.32
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Tomcat 10
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Thymeleaf 3.1.0.M2
</span></span></code></pre></div></li><li><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Undertow 2.2.20.Final
</span></span></code></pre></div></li></ul><h3 id=graalvm-本机映像支持>GraalVM 本机映像支持<a hidden class=anchor aria-hidden=true href=#graalvm-本机映像支持>#</a></h3><p>GraalVM Native Images 提供了一种部署和运行 Java 应用程序的新方法。与 Java 虚拟机相比，本机映像可以以更小的内存占用和更快的启动时间运行。</p><p>GraalVM 是一种高性能 JDK，旨在加快用 Java 和其他 JVM 语言编写的应用程序的执行速度，同时还为 JavaScript、Python 和许多其他流行语言提供运行时。 GraalVM 提供了两种运行 Java 应用程序的方法：在带有 Graal 即时 (JIT) 编译器的 HotSpot JVM 上或作为提前 (AOT) 编译的本机可执行文件。</p><p>GraalVM 本机映像是独立的可执行文件，可以通过提前处理已编译的 Java 应用程序来生成。原生映像通常比 JVM 映像具有更小的内存占用并且启动速度更快。它们非常适合使用容器映像部署的应用程序。 GraalVM Native Image 是一个完整的、特定于平台的可执行文件。我们不需要提供 Java 虚拟机来运行本机映像。</p><p>如果您想了解更多信息并尝试使用 GraalVM，您可以继续阅读有关“<a href=https://docs.spring.io/spring-boot/docs/3.0.0/reference/html/native-image.html#native-image>GraalVM Native Image Support</a>”的官方文档。</p><h3 id=通过测微计和测微计追踪提高可观测性>通过测微计和测微计追踪提高可观测性<a hidden class=anchor aria-hidden=true href=#通过测微计和测微计追踪提高可观测性>#</a></h3><p>可观察性是从外部观察正在运行的系统的内部状态的能力。换句话说，“通过检查系统的输出，您可以在多大程度上了解系统的内部结构”。它由日志记录、指标和跟踪三大支柱组成。对于指标和跟踪，Spring Boot 使用 Micrometer Observation。要创建您自己的观察（这将产生指标和跟踪），您可以注入 ObservationRegistry。</p><ol><li>Spring Boot 3.0支持Micrometer 1.10中引入的新观察API。新的 ObservationRegistry 界面可用于创建观察结果，为指标和跟踪提供单一 API。 Spring Boot 现在会自动为您配置 ObservationRegistry 实例。下面的代码片段演示了 ObervationRegistry 的概念。</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Component</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MyCustomObservation</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>private</span> <span class=kd>final</span> <span class=n>ObservationRegistry</span> <span class=n>observationRegistry</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>public</span> <span class=nf>MyCustomObservation</span><span class=o>(</span><span class=n>ObservationRegistry</span> <span class=n>observationRegistry</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>this</span><span class=o>.</span><span class=na>observationRegistry</span> <span class=o>=</span> <span class=n>observationRegistry</span><span class=o>;</span>
</span></span><span class=line><span class=cl>   <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doSomething</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Observation</span><span class=o>.</span><span class=na>createNotStarted</span><span class=o>(</span><span class=s>&#34;doSomething&#34;</span><span class=o>,</span> <span class=k>this</span><span class=o>.</span><span class=na>observationRegistry</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=na>lowCardinalityKeyValue</span><span class=o>(</span><span class=s>&#34;locale&#34;</span><span class=o>,</span> <span class=s>&#34;en-US&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=na>highCardinalityKeyValue</span><span class=o>(</span><span class=s>&#34;userId&#34;</span><span class=o>,</span> <span class=s>&#34;42&#34;</span><span class=o>)</span>
</span></span><span class=line><span class=cl>                 <span class=o>.</span><span class=na>observe</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                       <span class=c1>// Execute business logic here
</span></span></span><span class=line><span class=cl><span class=c1></span>                 <span class=o>});</span>
</span></span><span class=line><span class=cl>   <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><ol start=2><li>Spring Boot 现在会自动为您配置 Micrometer Tracing。这包括对 Brave、OpenTelemetry、Zipkin 和 Wavefront 的支持。 Spring Cloud Sleuth 在新版本中被 Micrometer Tracing Framework 取代。</li></ol><h2 id=使用-spring-boot-30-的-spring-security-userdetailsservice-示例>使用 Spring Boot 3.0 的 Spring Security UserDetailsService 示例<a hidden class=anchor aria-hidden=true href=#使用-spring-boot-30-的-spring-security-userdetailsservice-示例>#</a></h2><p>此外，我们还有一篇单独的文章作为 <a href=https://javatechonline.com/spring-security-userdetailsservice-using-spring-boot-3/>Spring Security UserDetailsS​​ervice 使用 Spring Boot 3</a> 的示例，该文章完全使用 Spring Boot 3.0 并遵循 Spring 官方文档提供的分步指南进行开发。此外，您可以阅读《<a href=https://javatechonline.com/how-to-migrate-spring-boot-2-to-spring-boot-3/>Spring Boot 3.0 迁移指南</a>》来彻底了解迁移过程。</p><p>这是目前的功能列表。显然，还有更多。我们将不时更新文章。</p><p>有关 Spring Boot 的其他教程，您可以访问 <a href=https://javatechonline.com/spring-boot-tutorial/>Spring Boot 教程</a>页面。</p><h2 id=spring-boot-3-和-spring-6-版本如何互连>Spring Boot 3 和 Spring 6 版本如何互连？<a hidden class=anchor aria-hidden=true href=#spring-boot-3-和-spring-6-版本如何互连>#</a></h2><p>如上所述，Spring Boot 3.0 构建在 Spring Framework 6.0 之上。两者的发布之间有一周的间隔。 Spring Framework 6.0.0 比 Spring Boot 3.0 发布早一周发布。换句话说，Spring Framework 6.0.0 是 Spring Boot 3.0 的基础。此外，如果您的 pom.xml 指向 Spring Boot 版本 3.0.0，它将自动下载 Spring Framework 6 所需的依赖项。因此，默认情况下，您在使用 Spring Boot 3.0 时将使用 Spring Framework 6。</p><p>虽然提前（AOT）和 GraalVM 是 Spring Framework 6.0 的新功能，但如果没有完整的 Spring Boot 堆栈，它们就没有用。它们在基于 Spring 的独立应用程序中还不够好。</p><p>下一个版本 Spring Framework 6.1 GA 将于明年即 2023 年 11 月发布。另一方面，到 2023 年 11 月，Spring Boot 将有两个版本，即 Spring Boot 3.0 和 3.1。这意味着 Spring Framework 将有每年发布一个版本，而 Spring boot 每年发布两个版本，并支持最新的 JDK 版本。按照 JDK 的常规发布，JDK 21(LTS) 将于 2023 年 9 月发布，即 Spring Framework 6.1 GA 发布之前。</p><h2 id=faq>FAQ<a hidden class=anchor aria-hidden=true href=#faq>#</a></h2><h3 id=spring-boot-3-可以与-java-11-一起使用吗>Spring Boot 3 可以与 Java 11 一起使用吗？<a hidden class=anchor aria-hidden=true href=#spring-boot-3-可以与-java-11-一起使用吗>#</a></h3><p>一点也不。 Spring Boot 3.0.0 需要 JDK 17 作为最低版本才能使用。 Spring Boot 3.0发布文档中明确提到了这一点。如果您想使用低于 Java 17 的 Java 版本，则必须使用 Spring Boot 2.0。</p><h3 id=spring-boot-3-支持-java-8-吗>Spring Boot 3 支持 Java 8 吗？<a hidden class=anchor aria-hidden=true href=#spring-boot-3-支持-java-8-吗>#</a></h3><p>根本不需要。为了使用 Spring Boot 3，您的系统中必须至少安装 Java 17。不仅安装了，您的代码还必须使用 JDK 17 进行编译。使用 JDK 17 或更高版本编译的代码将仅被 Spring Boot 3 接受。</p><p>原文链接：<a href=https://javatechonline.com/new-features-in-spring-boot-3-and-spring-6/>https://javatechonline.com/new-features-in-spring-boot-3-and-spring-6/</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.chensoul.com/tags/java/>java</a></li><li><a href=https://blog.chensoul.com/tags/spring-boot/>spring boot</a></li><li><a href=https://blog.chensoul.com/tags/spring/>spring</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://blog.chensoul.com/>ChenSoul</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script async src=https://umami.chensoul.com/script.js data-website-id=821c25f8-a31a-4607-92d7-91ee76843d00></script>
<script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>