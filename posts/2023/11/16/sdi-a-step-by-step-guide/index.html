<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>[译]《Grokking the System Design Interview》系统设计访谈：分步指南 | ChenSoul</title>
<meta name=keywords content="architecture"><meta name=description content="这是一篇双语翻译的文章，原文出自 grok_system_design_interview.pdf 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。 A lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons: 许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以"><meta name=author content="chensoul"><link rel=canonical href=https://blog.chensoul.cc/posts/2023/11/16/sdi-a-step-by-step-guide/><meta name=google-site-verification content="nBXwg45SBRjTX78SA-mH0asrAbsdu9c1nk0ObSry7aQ"><link crossorigin=anonymous href=/assets/css/stylesheet.899d9a536396b9b03c9eae0c99cc6ec954a90da94036f5390d131eb8071bb417.css integrity="sha256-iZ2aU2OWubA8nq4MmcxuyVSpDalANvU5DRMeuAcbtBc=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chensoul.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chensoul.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chensoul.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chensoul.cc/apple-touch-icon.png><link rel=mask-icon href=https://blog.chensoul.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.chensoul.cc/posts/2023/11/16/sdi-a-step-by-step-guide/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-FYpQY8JdLU"><meta property="og:title" content="[译]《Grokking the System Design Interview》系统设计访谈：分步指南"><meta property="og:description" content="这是一篇双语翻译的文章，原文出自 grok_system_design_interview.pdf 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。 A lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons: 许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.cc/posts/2023/11/16/sdi-a-step-by-step-guide/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-11-16T00:00:00+08:00"><meta property="article:modified_time" content="2023-11-16T00:00:00+08:00"><meta property="og:site_name" content="ChenSoul"><meta name=twitter:card content="summary"><meta name=twitter:title content="[译]《Grokking the System Design Interview》系统设计访谈：分步指南"><meta name=twitter:description content="这是一篇双语翻译的文章，原文出自 grok_system_design_interview.pdf 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。 A lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons: 许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chensoul.cc/posts/"},{"@type":"ListItem","position":2,"name":"[译]《Grokking the System Design Interview》系统设计访谈：分步指南","item":"https://blog.chensoul.cc/posts/2023/11/16/sdi-a-step-by-step-guide/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"[译]《Grokking the System Design Interview》系统设计访谈：分步指南","name":"[译]《Grokking the System Design Interview》系统设计访谈：分步指南","description":"这是一篇双语翻译的文章，原文出自 grok_system_design_interview.pdf 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。 A lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons: 许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以","keywords":["architecture"],"articleBody":"这是一篇双语翻译的文章，原文出自 grok_system_design_interview.pdf 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。\nA lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons:\n许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以下三个原因：\nThe unstructured nature of SDIs, where they are asked to work on an open-ended design problem that doesn’t have a standard answer.\nSDI 的非结构化性质，要求他们解决没有标准答案的开放式设计问题。\nTheir lack of experience in developing large scale systems.\n他们缺乏开发大型系统的经验。\nThey did not prepare for SDIs.\n他们没有为 SDI 做好准备。\nLike coding interviews, candidates who haven’t put a conscious effort to prepare for SDIs, mostly perform poorly especially at top companies like Google, Facebook, Amazon, Microsoft, etc. In these companies, candidates who don’t perform above average, have a limited chance to get an offer. On the other hand, a good performance always results in a better offer (higher position and salary), since it shows the candidate’s ability to handle a complex system.\n与编码面试一样，没有刻意准备 SDI 的候选人大多表现不佳，尤其是在 Google、Facebook、亚马逊、微软等顶级公司。在这些公司中，表现不高于平均水平的候选人获得报价的机会有限。另一方面，良好的表现总是会带来更好的工作机会（更高的职位和薪水），因为它显示了候选人处理复杂系统的能力。\nIn this course, we’ll follow a step by step approach to solve multiple design problems. First, let’s go through these steps:\n在本课程中，我们将遵循逐步的方法来解决多个设计问题。首先，让我们完成以下步骤：\nStep 1: Requirements clarifications 步骤 1：需求澄清\nIt is always a good idea to ask questions about the exact scope of the problem we are solving. Design questions are mostly open-ended, and they don’t have ONE correct answer, that’s why clarifying ambiguities early in the interview becomes critical. Candidates who spend enough time to define the end goals of the system always have a better chance to be successful in the interview. Also, since we only have 35-40 minutes to design a (supposedly) large system, we should clarify what parts of the system we will be focusing on.\n询问我们正在解决的问题的确切范围总是一个好主意。设计问题大多是开放式的，并且没有一个正确的答案，这就是为什么在面试初期澄清歧义变得至关重要。花足够时间来定义系统最终目标的候选人总是有更好的机会在面试中取得成功。另外，由于我们只有 35-40 分钟的时间来设计一个（据称）大型系统，因此我们应该明确我们将重点关注系统的哪些部分。\nLet’s expand this with an actual example of designing a Twitter-like service. Here are some questions for designing Twitter that should be answered before moving on to the next steps:\n让我们通过设计类似 Twitter 的服务的实际示例来扩展这一点。以下是设计 Twitter 时应回答的一些问题，然后再继续下一步：\nWill users of our service be able to post tweets and follow other people?\n我们服务的用户能够发布推文并关注其他人吗？\nShould we also design to create and display the user’s timeline?\n我们还应该设计创建和显示用户的时间线吗？\nWill tweets contain photos and videos?\n推文会包含照片和视频吗？\nAre we focusing on the backend only or are we developing the front-end too?\n我们只关注后端还是也开发前端？\nWill users be able to search tweets?\n用户能够搜索推文吗？\nDo we need to display hot trending topics?\n我们需要展示热门话题吗？\nWill there be any push notification for new (or important) tweets?\n新的（或重要的）推文会有推送通知吗？\nAll such question will determine how our end design will look like.\n所有这些问题将决定我们的最终设计会是什么样子。\nStep 2: System interface definition 步骤2 ：系统接口定义\nDefine what APIs are expected from the system. This will not only establish the exact contract expected from the system, but will also ensure if we haven’t gotten any requirements wrong. Some examples for our Twitter-like service will be:\n定义系统期望提供哪些 API。这不仅可以建立系统所期望的准确合同，而且还可以确保我们没有错误地提出任何要求。我们类似 Twitter 的服务的一些示例如下：\n1 2 3 postTweet(user_id, tweet_data, tweet_location, user_location, timestamp, ...) generateTimeline(user_id, current_time, user_location, ...) markTweetFavorite(user_id, tweet_id, timestamp, ...) Step 3: Back-of-the-envelope estimation 步骤 3：粗略估计\nIt is always a good idea to estimate the scale of the system we’re going to design. This will also help later when we will be focusing on scaling, partitioning, load balancing and caching.\n估计我们要设计的系统的规模总是一个好主意。当我们稍后关注扩展、分区、负载平衡和缓存时，这也会有所帮助。\nWhat scale is expected from the system (e.g., number of new tweets, number of tweet views, number of timeline generations per sec., etc.)?\n系统的预期规模是多少（例如，新推文数量、推文浏览量、每秒生成的时间线数量等）？\nHow much storage will we need? We will have different numbers if users can have photos and videos in their tweets.\n我们需要多少存储空间？如果用户的推文中可以包含照片和视频，我们将得到不同的数字。\nWhat network bandwidth usage are we expecting? This will be crucial in deciding how we will manage traffic and balance load between servers.\n我们期望使用多少网络带宽？这对于决定我们如何管理流量和平衡服务器之间的负载至关重要。\nStep 4: Defining data model 步骤 4：定义数据模型\nDefining the data model early will clarify how data will flow among different components of the system. Later, it will guide towards data partitioning and management. The candidate should be able to identify various entities of the system, how they will interact with each other, and different aspect of data management like storage, transportation, encryption, etc. Here are some entities for our Twitter- like service:\n尽早定义数据模型将阐明数据如何在系统的不同组件之间流动。稍后，它将指导数据分区和管理。考生应该能够识别系统的各种实体，它们如何相互交互，以及数据管理的不同方面，如存储、传输、加密等。以下是我们类似 Twitter 服务的一些实体：\nUser: UserID, Name, Email, DoB, CreationDate, LastLogin, etc.\nTweet: TweetID, Content, TweetLocation, NumberOfLikes, TimeStamp, etc.\nUserFollow: UserID1, UserID2\nFavoriteTweets: UserID, TweetID, TimeStamp\nWhich database system should we use? Will NoSQL like Cassandra best fit our needs, or should we use a MySQL-like solution? What kind of block storage should we use to store photos and videos?\n我们应该使用哪种数据库系统？像 Cassandra 这样的 NoSQL 是否最适合我们的需求，或者我们应该使用类似 MySQL 的解决方案？我们应该使用什么样的块存储来存储照片和视频？\nStep 5: High-level design 步骤 5：高层设计\nDraw a block diagram with 5-6 boxes representing the core components of our system. We should identify enough components that are needed to solve the actual problem from end-to-end.\n绘制一个框图，其中 5-6 个方框代表我们系统的核心组件。我们应该确定端到端解决实际问题所需的足够组件。\nFor Twitter, at a high-level, we will need multiple application servers to serve all the read/write requests with load balancers in front of them for traffic distributions. If we’re assuming that we will have a lot more read traffic (as compared to write), we can decide to have separate servers for handling these scenarios. On the backend, we need an efficient database that can store all the tweets and can support a huge number of reads. We will also need a distributed file storage system for storing photos and videos.\n对于 Twitter，在较高层面上，我们需要多个应用程序服务器来服务所有读/写请求，并在它们前面提供负载均衡器以进行流量分配。如果我们假设我们将有更多的读取流量（与写入相比），我们可以决定使用单独的服务器来处理这些场景。在后端，我们需要一个高效的数据库来存储所有的推文，并且可以支持海量读取。我们还需要一个分布式文件存储系统来存储照片和视频。\nStep 6: Detailed design 步骤 6：详细设计\nDig deeper into two or three components; interviewer’s feedback should always guide us what parts of the system need further discussion. We should be able to present different approaches, their pros and cons, and explain why we will prefer one approach on the other. Remember there is no single answer, the only important thing is to consider tradeoffs between different options while keeping system constraints in mind.\n深入挖掘两个或三个组件；面试官的反馈应该始终指导我们系统的哪些部分需要进一步讨论。我们应该能够展示不同的方法及其优缺点，并解释为什么我们更喜欢一种方法而不是另一种方法。请记住，没有单一的答案，唯一重要的是考虑不同选项之间的权衡，同时牢记系统约束。\nSince we will be storing a massive amount of data, how should we partition our data to distribute it to multiple databases? Should we try to store all the data of a user on the same database? What issue could it cause?\n由于我们将存储大量数据，我们应该如何对数据进行分区以将其分布到多个数据库？我们是否应该尝试将用户的所有数据存储在同一个数据库中？它可能会导致什么问题？\nHow will we handle hot users who tweet a lot or follow lots of people?\n我们将如何处理经常发推文或关注很多人的热门用户？\nSince users’ timeline will contain the most recent (and relevant) tweets, should we try to store our data in such a way that is optimized for scanning the latest tweets?\n由于用户的时间线将包含最新的（和相关的）推文，我们是否应该尝试存储我们的数据是否以针对扫描最新推文进行优化的方式？\nHow much and at which layer should we introduce cache to speed things up?\n我们应该在多大程度上以及在哪一层引入缓存来加快速度？\nWhat components need better load balancing?\n哪些组件需要更好的负载平衡？\nStep 7: Identifying and resolving bottlenecks 步骤 7：识别并解决瓶颈\nTry to discuss as many bottlenecks as possible and different approaches to mitigate them.\n尝试讨论尽可能多的瓶颈以及缓解瓶颈的不同方法。\nIs there any single point of failure in our system? What are we doing to mitigate it?\n我们的系统中是否存在单点故障？我们正在采取什么措施来缓解这种情况？\nDo we have enough replicas of the data so that if we lose a few servers we can still serve our users?\n我们是否有足够的数据副本，以便在失去一些服务器时我们仍然可以为我们的服务提供服务用户？\nSimilarly, do we have enough copies of different services running such that a few failures will not cause total system shutdown?\n同样，我们是否有足够的运行不同服务的副本，以便少数故障会发生不会导致整个系统关闭吗？\nHow are we monitoring the performance of our service? Do we get alerts whenever critical components fail or their performance degrades?\n我们如何监控我们的服务表现？我们是否会在关键时刻收到警报组件出现故障或性能下降？\nSummary 概括\nIn short, preparation and being organized during the interview are the keys to be successful in system design interviews. The above-mentioned steps should guide you to remain on track and cover all the different aspects while designing a system.\n简而言之，面试过程中的准备和组织是系统设计面试成功的关键。上述步骤应指导您在设计系统时保持正轨并涵盖所有不同方面。\nLet’s apply the above guidelines to design a few systems that are asked in SDIs.\n让我们应用上述指南来设计 SDI 中要求的一些系统。\n参考文章：\nhttps://www.designgurus.io/course-play/grokking-the-system-design-interview/doc/638c0b5aac93e7ae59a1af63 ","wordCount":"3138","inLanguage":"en","datePublished":"2023-11-16T00:00:00+08:00","dateModified":"2023-11-16T00:00:00+08:00","author":{"@type":"Person","name":"chensoul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chensoul.cc/posts/2023/11/16/sdi-a-step-by-step-guide/"},"publisher":{"@type":"Organization","name":"ChenSoul","logo":{"@type":"ImageObject","url":"https://blog.chensoul.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chensoul.cc/ accesskey=h title="ChenSoul (Alt + H)">ChenSoul</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.chensoul.cc/categories title=分类><span>分类</span></a></li><li><a href=https://blog.chensoul.cc/tags title=标签><span>标签</span></a></li><li><a href=https://blog.chensoul.cc/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.chensoul.cc/index.xml title=订阅><span>订阅</span></a></li><li><a href=https://github.com/chensoul title=关于><span>关于</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">[译]《Grokking the System Design Interview》系统设计访谈：分步指南</h1><div class=post-meta><span title='2023-11-16 00:00:00 +0800 CST'>2023-11-16</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;3138 words&nbsp;·&nbsp;chensoul</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#step-1-requirements-clarifications aria-label="Step 1: Requirements clarifications">Step 1: Requirements clarifications</a></li><li><a href=#step-2-system-interface-definition aria-label="Step 2: System interface definition">Step 2: System interface definition</a></li><li><a href=#step-3-back-of-the-envelope-estimation aria-label="Step 3: Back-of-the-envelope estimation">Step 3: Back-of-the-envelope estimation</a></li><li><a href=#step-4-defining-data-model aria-label="Step 4: Defining data model">Step 4: Defining data model</a></li><li><a href=#step-5-high-level-design aria-label="Step 5: High-level design">Step 5: High-level design</a></li><li><a href=#step-6-detailed-design aria-label="Step 6: Detailed design">Step 6: Detailed design</a></li><li><a href=#step-7-identifying-and-resolving-bottlenecks aria-label="Step 7: Identifying and resolving bottlenecks">Step 7: Identifying and resolving bottlenecks</a></li><li><a href=#summary aria-label=Summary>Summary</a></li></ul></div></details></div><div class=post-content><p>这是一篇双语翻译的文章，原文出自 <a href=https://github.com/sharanyaa/grok_sdi_educative/blob/master/grok_system_design_interview.pdf>grok_system_design_interview.pdf</a> 的一篇文章《System Design Interviews: A step by step guide》系统设计访谈：分步指南。</p><hr><p>A lot of software engineers struggle with system design interviews (SDIs) primarily because of three reasons:</p><blockquote><p>许多软件工程师在系统设计面试（SDI）中遇到困难，主要是因为以下三个原因：</p></blockquote><ul><li><p>The unstructured nature of SDIs, where they are asked to work on an open-ended design problem that doesn’t have a standard answer.</p><blockquote><p>SDI 的非结构化性质，要求他们解决没有标准答案的开放式设计问题。</p></blockquote></li><li><p>Their lack of experience in developing large scale systems.</p><blockquote><p>他们缺乏开发大型系统的经验。</p></blockquote></li><li><p>They did not prepare for SDIs.</p><blockquote><p>他们没有为 SDI 做好准备。</p></blockquote></li></ul><p>Like coding interviews, candidates who haven’t put a conscious effort to prepare for SDIs, mostly perform poorly especially at top companies like Google, Facebook, Amazon, Microsoft, etc. In these companies, candidates who don’t perform above average, have a limited chance to get an offer. On the other hand, a good performance always results in a better offer (higher position and salary), since it shows the candidate’s ability to handle a complex system.</p><blockquote><p>与编码面试一样，没有刻意准备 SDI 的候选人大多表现不佳，尤其是在 Google、Facebook、亚马逊、微软等顶级公司。在这些公司中，表现不高于平均水平的候选人获得报价的机会有限。另一方面，良好的表现总是会带来更好的工作机会（更高的职位和薪水），因为它显示了候选人处理复杂系统的能力。</p></blockquote><p>In this course, we’ll follow a step by step approach to solve multiple design problems. First, let’s go through these steps:</p><blockquote><p>在本课程中，我们将遵循逐步的方法来解决多个设计问题。首先，让我们完成以下步骤：</p></blockquote><h2 id=step-1-requirements-clarifications>Step 1: Requirements clarifications<a hidden class=anchor aria-hidden=true href=#step-1-requirements-clarifications>#</a></h2><blockquote><p><strong>步骤 1：需求澄清</strong></p></blockquote><p>It is always a good idea to ask questions about the exact scope of the problem we are solving. Design questions are mostly open-ended, and they don’t have ONE correct answer, that’s why clarifying ambiguities early in the interview becomes critical. Candidates who spend enough time to define the end goals of the system always have a better chance to be successful in the interview. Also, since we only have 35-40 minutes to design a (supposedly) large system, we should clarify what parts of the system we will be focusing on.</p><blockquote><p>询问我们正在解决的问题的确切范围总是一个好主意。设计问题大多是开放式的，并且没有一个正确的答案，这就是为什么在面试初期澄清歧义变得至关重要。花足够时间来定义系统最终目标的候选人总是有更好的机会在面试中取得成功。另外，由于我们只有 35-40 分钟的时间来设计一个（据称）大型系统，因此我们应该明确我们将重点关注系统的哪些部分。</p></blockquote><p>Let’s expand this with an actual example of designing a Twitter-like service. Here are some questions for designing Twitter that should be answered before moving on to the next steps:</p><blockquote><p>让我们通过设计类似 Twitter 的服务的实际示例来扩展这一点。以下是设计 Twitter 时应回答的一些问题，然后再继续下一步：</p></blockquote><ul><li><p>Will users of our service be able to post tweets and follow other people?</p><blockquote><p>我们服务的用户能够发布推文并关注其他人吗？</p></blockquote></li><li><p>Should we also design to create and display the user’s timeline?</p><blockquote><p>我们还应该设计创建和显示用户的时间线吗？</p></blockquote></li><li><p>Will tweets contain photos and videos?</p><blockquote><p>推文会包含照片和视频吗？</p></blockquote></li><li><p>Are we focusing on the backend only or are we developing the front-end too?</p><blockquote><p>我们只关注后端还是也开发前端？</p></blockquote></li><li><p>Will users be able to search tweets?</p><blockquote><p>用户能够搜索推文吗？</p></blockquote></li><li><p>Do we need to display hot trending topics?</p><blockquote><p>我们需要展示热门话题吗？</p></blockquote></li><li><p>Will there be any push notification for new (or important) tweets?</p><blockquote><p>新的（或重要的）推文会有推送通知吗？</p></blockquote></li></ul><p>All such question will determine how our end design will look like.</p><blockquote><p>所有这些问题将决定我们的最终设计会是什么样子。</p></blockquote><h2 id=step-2-system-interface-definition>Step 2: System interface definition<a hidden class=anchor aria-hidden=true href=#step-2-system-interface-definition>#</a></h2><blockquote><p><strong>步骤2 ：系统接口定义</strong></p></blockquote><p>Define what APIs are expected from the system. This will not only establish the exact contract expected from the system, but will also ensure if we haven’t gotten any requirements wrong. Some examples for our Twitter-like service will be:</p><blockquote><p>定义系统期望提供哪些 API。这不仅可以建立系统所期望的准确合同，而且还可以确保我们没有错误地提出任何要求。我们类似 Twitter 的服务的一些示例如下：</p></blockquote><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>postTweet(user_id, tweet_data, tweet_location, user_location, timestamp, ...)
</span></span><span class=line><span class=cl>generateTimeline(user_id, current_time, user_location, ...)
</span></span><span class=line><span class=cl>markTweetFavorite(user_id, tweet_id, timestamp, ...)
</span></span></code></pre></td></tr></table></div></div><h2 id=step-3-back-of-the-envelope-estimation>Step 3: Back-of-the-envelope estimation<a hidden class=anchor aria-hidden=true href=#step-3-back-of-the-envelope-estimation>#</a></h2><blockquote><p><strong>步骤 3：粗略估计</strong></p></blockquote><p>It is always a good idea to estimate the scale of the system we’re going to design. This will also help later when we will be focusing on scaling, partitioning, load balancing and caching.</p><blockquote><p>估计我们要设计的系统的规模总是一个好主意。当我们稍后关注扩展、分区、负载平衡和缓存时，这也会有所帮助。</p></blockquote><ul><li><p>What scale is expected from the system (e.g., number of new tweets, number of tweet views, number of timeline generations per sec., etc.)?</p><blockquote><p>系统的预期规模是多少（例如，新推文数量、推文浏览量、每秒生成的时间线数量等）？</p></blockquote></li><li><p>How much storage will we need? We will have different numbers if users can have photos and videos in their tweets.</p><blockquote><p>我们需要多少存储空间？如果用户的推文中可以包含照片和视频，我们将得到不同的数字。</p></blockquote></li><li><p>What network bandwidth usage are we expecting? This will be crucial in deciding how we will manage traffic and balance load between servers.</p><blockquote><p>我们期望使用多少网络带宽？这对于决定我们如何管理流量和平衡服务器之间的负载至关重要。</p></blockquote></li></ul><h2 id=step-4-defining-data-model>Step 4: Defining data model<a hidden class=anchor aria-hidden=true href=#step-4-defining-data-model>#</a></h2><blockquote><p><strong>步骤 4：定义数据模型</strong></p></blockquote><p>Defining the data model early will clarify how data will flow among different components of the system. Later, it will guide towards data partitioning and management. The candidate should be able to identify various entities of the system, how they will interact with each other, and different aspect of data management like storage, transportation, encryption, etc. Here are some entities for our Twitter- like service:</p><blockquote><p>尽早定义数据模型将阐明数据如何在系统的不同组件之间流动。稍后，它将指导数据分区和管理。考生应该能够识别系统的各种实体，它们如何相互交互，以及数据管理的不同方面，如存储、传输、加密等。以下是我们类似 Twitter 服务的一些实体：</p></blockquote><p><strong>User:</strong> UserID, Name, Email, DoB, CreationDate, LastLogin, etc.</p><p><strong>Tweet:</strong> TweetID, Content, TweetLocation, NumberOfLikes, TimeStamp, etc.</p><p><strong>UserFollow:</strong> UserID1, UserID2</p><p><strong>FavoriteTweets:</strong> UserID, TweetID, TimeStamp</p><p>Which database system should we use? Will NoSQL like <a href=https://en.wikipedia.org/wiki/Apache_Cassandra>Cassandra</a> best fit our needs, or should we use a MySQL-like solution? What kind of block storage should we use to store photos and videos?</p><blockquote><p>我们应该使用哪种数据库系统？像 Cassandra 这样的 NoSQL 是否最适合我们的需求，或者我们应该使用类似 MySQL 的解决方案？我们应该使用什么样的块存储来存储照片和视频？</p></blockquote><h2 id=step-5-high-level-design>Step 5: High-level design<a hidden class=anchor aria-hidden=true href=#step-5-high-level-design>#</a></h2><blockquote><p><strong>步骤 5：高层设计</strong></p></blockquote><p>Draw a block diagram with 5-6 boxes representing the core components of our system. We should identify enough components that are needed to solve the actual problem from end-to-end.</p><blockquote><p>绘制一个框图，其中 5-6 个方框代表我们系统的核心组件。我们应该确定端到端解决实际问题所需的足够组件。</p></blockquote><p>For Twitter, at a high-level, we will need multiple application servers to serve all the read/write requests with load balancers in front of them for traffic distributions. If we’re assuming that we will have a lot more read traffic (as compared to write), we can decide to have separate servers for handling these scenarios. On the backend, we need an efficient database that can store all the tweets and can support a huge number of reads. We will also need a distributed file storage system for storing photos and videos.</p><blockquote><p>对于 Twitter，在较高层面上，我们需要多个应用程序服务器来服务所有读/写请求，并在它们前面提供负载均衡器以进行流量分配。如果我们假设我们将有更多的读取流量（与写入相比），我们可以决定使用单独的服务器来处理这些场景。在后端，我们需要一个高效的数据库来存储所有的推文，并且可以支持海量读取。我们还需要一个分布式文件存储系统来存储照片和视频。</p></blockquote><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/20231116_image-20231116072253280.png alt=20231116_image-20231116072253280></p><h2 id=step-6-detailed-design>Step 6: Detailed design<a hidden class=anchor aria-hidden=true href=#step-6-detailed-design>#</a></h2><blockquote><p><strong>步骤 6：详细设计</strong></p></blockquote><p>Dig deeper into two or three components; interviewer’s feedback should always guide us what parts of the system need further discussion. We should be able to present different approaches, their pros and cons, and explain why we will prefer one approach on the other. Remember there is no single answer, the only important thing is to consider tradeoffs between different options while keeping system constraints in mind.</p><blockquote><p>深入挖掘两个或三个组件；面试官的反馈应该始终指导我们系统的哪些部分需要进一步讨论。我们应该能够展示不同的方法及其优缺点，并解释为什么我们更喜欢一种方法而不是另一种方法。请记住，没有单一的答案，唯一重要的是考虑不同选项之间的权衡，同时牢记系统约束。</p></blockquote><ul><li><p>Since we will be storing a massive amount of data, how should we partition our data to distribute it to multiple databases? Should we try to store all the data of a user on the same database? What issue could it cause?</p><blockquote><p>由于我们将存储大量数据，我们应该如何对数据进行分区以将其分布到多个数据库？我们是否应该尝试将用户的所有数据存储在同一个数据库中？它可能会导致什么问题？</p></blockquote></li><li><p>How will we handle hot users who tweet a lot or follow lots of people?</p><blockquote><p>我们将如何处理经常发推文或关注很多人的热门用户？</p></blockquote></li><li><p>Since users’ timeline will contain the most recent (and relevant) tweets, should we try to store our data in such a way that is optimized for scanning the latest tweets?</p><blockquote><p>由于用户的时间线将包含最新的（和相关的）推文，我们是否应该尝试存储我们的数据是否以针对扫描最新推文进行优化的方式？</p></blockquote></li><li><p>How much and at which layer should we introduce cache to speed things up?</p><blockquote><p>我们应该在多大程度上以及在哪一层引入缓存来加快速度？</p></blockquote></li><li><p>What components need better load balancing?</p><blockquote><p>哪些组件需要更好的负载平衡？</p></blockquote></li></ul><h2 id=step-7-identifying-and-resolving-bottlenecks>Step 7: Identifying and resolving bottlenecks<a hidden class=anchor aria-hidden=true href=#step-7-identifying-and-resolving-bottlenecks>#</a></h2><blockquote><p><strong>步骤 7：识别并解决瓶颈</strong></p></blockquote><p>Try to discuss as many bottlenecks as possible and different approaches to mitigate them.</p><blockquote><p>尝试讨论尽可能多的瓶颈以及缓解瓶颈的不同方法。</p></blockquote><ul><li><p>Is there any single point of failure in our system? What are we doing to mitigate it?</p><blockquote><p>我们的系统中是否存在单点故障？我们正在采取什么措施来缓解这种情况？</p></blockquote></li><li><p>Do we have enough replicas of the data so that if we lose a few servers we can still serve our users?</p><blockquote><p>我们是否有足够的数据副本，以便在失去一些服务器时我们仍然可以为我们的服务提供服务用户？</p></blockquote></li><li><p>Similarly, do we have enough copies of different services running such that a few failures will not cause total system shutdown?</p><blockquote><p>同样，我们是否有足够的运行不同服务的副本，以便少数故障会发生不会导致整个系统关闭吗？</p></blockquote></li><li><p>How are we monitoring the performance of our service? Do we get alerts whenever critical components fail or their performance degrades?</p><blockquote><p>我们如何监控我们的服务表现？我们是否会在关键时刻收到警报组件出现故障或性能下降？</p></blockquote></li></ul><h2 id=summary>Summary<a hidden class=anchor aria-hidden=true href=#summary>#</a></h2><blockquote><p><strong>概括</strong></p></blockquote><p>In short, preparation and being organized during the interview are the keys to be successful in system design interviews. The above-mentioned steps should guide you to remain on track and cover all the different aspects while designing a system.</p><blockquote><p>简而言之，面试过程中的准备和组织是系统设计面试成功的关键。上述步骤应指导您在设计系统时保持正轨并涵盖所有不同方面。</p></blockquote><p>Let’s apply the above guidelines to design a few systems that are asked in SDIs.</p><blockquote><p>让我们应用上述指南来设计 SDI 中要求的一些系统。</p></blockquote><hr><p>参考文章：</p><ul><li><a href=https://www.designgurus.io/course-play/grokking-the-system-design-interview/doc/638c0b5aac93e7ae59a1af63>https://www.designgurus.io/course-play/grokking-the-system-design-interview/doc/638c0b5aac93e7ae59a1af63</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.chensoul.cc/tags/architecture/>Architecture</a></li></ul><nav class=paginav><a class=prev href=https://blog.chensoul.cc/posts/2023/11/16/system-design-master-template/><span class=title>« Prev</span><br><span>[译]《Grokking the System Design Interview》系统设计主模板</span>
</a><a class=next href=https://blog.chensoul.cc/posts/2023/11/16/designing-a-url-shortening-service/><span class=title>Next »</span><br><span>[译]《Grokking the System Design Interview》设计类似 TinyURL 的 URL 缩短服务</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on x" href="https://x.com/intent/tweet/?text=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f&amp;hashtags=architecture"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f&amp;title=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97&amp;summary=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97&amp;source=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f&title=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on whatsapp" href="https://api.whatsapp.com/send?text=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97%20-%20https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on telegram" href="https://telegram.me/share/url?text=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share [译]《Grokking the System Design Interview》系统设计访谈：分步指南 on ycombinator" href="https://news.ycombinator.com/submitlink?t=%5b%e8%af%91%5d%e3%80%8aGrokking%20the%20System%20Design%20Interview%e3%80%8b%e7%b3%bb%e7%bb%9f%e8%ae%be%e8%ae%a1%e8%ae%bf%e8%b0%88%ef%bc%9a%e5%88%86%e6%ad%a5%e6%8c%87%e5%8d%97&u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f11%2f16%2fsdi-a-step-by-step-guide%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.chensoul.cc/>ChenSoul</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script async src=https://umami.chensoul.cc/random-string.js data-website-id=821c25f8-a31a-4607-92d7-91ee76843d00></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>