<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>All things about MicroProfile | ChenSoul</title>
<meta name=keywords content="java,microprofile"><meta name=description content="最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。 MicroProfile MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。"><meta name=author content="chensoul"><link rel=canonical href=https://blog.chensoul.cc/posts/2023/12/14/all-things-about-microprofile/><meta name=google-site-verification content="nBXwg45SBRjTX78SA-mH0asrAbsdu9c1nk0ObSry7aQ"><link crossorigin=anonymous href=/assets/css/stylesheet.899d9a536396b9b03c9eae0c99cc6ec954a90da94036f5390d131eb8071bb417.css integrity="sha256-iZ2aU2OWubA8nq4MmcxuyVSpDalANvU5DRMeuAcbtBc=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chensoul.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chensoul.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chensoul.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chensoul.cc/apple-touch-icon.png><link rel=mask-icon href=https://blog.chensoul.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.chensoul.cc/posts/2023/12/14/all-things-about-microprofile/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-FYpQY8JdLU"><meta property="og:title" content="All things about MicroProfile"><meta property="og:description" content="最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。 MicroProfile MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.cc/posts/2023/12/14/all-things-about-microprofile/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-14T00:00:00+08:00"><meta property="article:modified_time" content="2023-12-14T00:00:00+08:00"><meta property="og:site_name" content="ChenSoul"><meta name=twitter:card content="summary"><meta name=twitter:title content="All things about MicroProfile"><meta name=twitter:description content="最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。 MicroProfile MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chensoul.cc/posts/"},{"@type":"ListItem","position":2,"name":"All things about MicroProfile","item":"https://blog.chensoul.cc/posts/2023/12/14/all-things-about-microprofile/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"All things about MicroProfile","name":"All things about MicroProfile","description":"最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。 MicroProfile MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。","keywords":["java","microprofile"],"articleBody":"最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。\nMicroProfile MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。它是由Eclipse Foundation主导的一个开源项目，致力于提供轻量级、可移植和可互操作的Java微服务规范和实现。\nMicroProfile的目标是为Java开发人员提供一个规范集合，使他们能够更轻松地构建和部署云原生应用程序。它结合了Java EE、Jakarta EE和其他相关规范，为开发人员提供了一组核心功能和扩展，以支持构建可伸缩、弹性和高性能的微服务应用程序。\nMicroProfile提供了一系列的规范，包括：\nMicroProfile Config MicroProfile JWT RBAC MicroProfile Health MicroProfile Fault Tolerance MicroProfile Metrics MicroProfile OpenAPI MicroProfile OpenTracing MicroProfile REST Client MicroProfile Context Propagation MicroProfile Reactive Streams Operators MicroProfile Reactive Messaging MicroProfile GraphQL MicroProfile Long Running Actions MicroProfile Telemetry MicroProfile 实现：\nPayara Micro：是一个用于容器化Jakarta EE应用部署的轻量级中间件平台，不需要安装、配置或重写代码，可以快速部署 WildFly by Redhat：是一个轻量级、模块化的微服务框架，集中、简单、以用户为中心，实现了Jakarta EE和Eclipse MicroProfile的最新企业Java标准。 Quarkus by RedHat：为GraalVM和OpenJDK HotSpot构建的Kubernetes Native Java堆栈，由最佳的Java库和标准精心打造。 Apache TomEE：这是Apache Tomcat Java企业版，它结合了几个Java企业项目，包括Apache OpenEJB、Apache OpenJPA、Apache OpenWebBeans、Apache MyFaces和其他许多项目。 Hammock：这是一个基于CDI的bootstrapping Java企业微服务框架，由于其灵活性和简单性，用于构建应用程序 Openliberty：是一个开源的轻量级Java EE微服务框架，用于构建快速高效的云原生Java微服务应用，只运行所需的服务，同时考虑最新的Eclipse MicroProfile标准 Helidon by Oracle：这是一个Java库的集合，用于编写在快速的Helidon Reactive WebServer上运行的Java微服务，这是一个由Netty驱动的Web核心，同时支持MicroProfile及其标准规范。 KumuluzEE：是一个轻量级框架，用于使用标准的Java/JavaEE/JakartaEE/EE4J技术和API开发微服务，可选择扩展，如使用Node.js、Go和其他语言，并将现有应用程序迁移到云原生架构和微服务，以便更容易地进行云原生微服务开发。 Launcher by Fujitsu：它由富士通公司开发，是一个支持某些MicroProfile规范的Java EE微服务框架，可以将应用捆绑到über-jar/fat文件（JAR文件，包含其所有需要的依赖项） ThornTail (过时的)：是一个Java企业级微服务框架，它只将需要的和指定的包捆绑到一个JAR文件中，并有足够的运行时间来运行它们 MicroProfile发展历史 Infoq 上有一段介绍：\n2016 年年中，作为对 Oracle 在发布 Java EE 8 方面停滞不前的直接回应，社区发起了两个新的倡议，也就是MicroProfile和 Java EE Guardians（现在被称为Jakarta EE Ambassadors）。Java 社区认为，随着用于构建微服务应用的 web 服务技术的出现，企业级 Java 已经落后于时代了。\nMicroProfile 倡议是在2016年6月27日Red Hat的DevNation会议上发起的，它是由 IBM、Red Hat、Tomitribe、Payara 等厂商协作创建的，旨在为企业级 Java 提供微服务。MicroProfile 1.0的发布是在 JavaOne 2016 上宣布的，它包含了三个基于 JSR 的 API，这些 API 被视为创建微服务的最低限度要求，即JSR-346：上下文和依赖注入（CDI）、JSR-353：JSON 处理的 Java API（JSON-P）以及JSR-339：RESTful Web 服务的 Java API（JAX-RS）。\n到 2018 年 2 月MicroProfile 1.3发布的时候，已经创建了八个基于社区的 API，以补充最初的三个基于 JSR 的 API，用来构建更加健壮的基于微服务的应用。随着MicroProfile 2.0的发布，增加了第四个基于 JSR 的 API，即JSR-367：JSON 绑定的 Java API（JSON-B）。\n原定于 2020 年 6 月发布的 MicroProfile 4.0被推迟了，以便于按照 Eclipse 基金会的授权成立MicroProfile工作组。该工作组定义了MicroProfile规范流程和正式的指导委员会，该委员会由各组织和 Java 用户组（Java User Group，JUG）组成，即亚特兰大JUG、IBM, Jelastic、Red Hat和Tomitribe。预计其他的组织和 JUG 会在 2021 年加入。MicroProfile 工作组在 2020 年 12 月 23 日发布了 MicroProfile 4.0，其特性是对12个核心API进行更新并与Jakarta EE 8保持一致。\nMicroProfile 的创始厂商提供了自己的微服务框架，分别是Open Liberty（IBM）、WildFly Swarm/Thorntail（Red Hat）、TomEE（Tomitribe 和Payara Micro（Payara），它们最终都支持了 MicroProfile 倡议。\n在 2018 年的年中，Red Hat 将 WildFly Swarm（这是 Red Hat 的核心应用服务器WildFly的扩展）重命名为Thorntail，从而为它的微服务框架提供自己的标识。但是，不到一年之后，Red Hat 发布了Quarkus，这是一个“为 OpenJDK HotSpot 和 GraalVM 量身定做的 Kubernetes 原生 Java 栈，基于最优秀的 Java 库和标准精心打造”。Quarkus 被称为“超音速亚原子的 Java”，在 Java 社区迅速流行了起来，以至于 Red Hat宣布Thorntail在2020年7月寿终正寝。Quarkus 加入了相对较新的框架Micronaut和Helidon的行列，这两个框架都是在此之前不到一年前引入 Java 社区的。除了 Micronaut 之外，所有这些基于微服务的框架都支持 MicroProfile 倡议。\nMicroProfile的发展历史可以追溯到2016年。以下是MicroProfile的关键里程碑和发展阶段：\n2016年6月 - 由Red Hat、IBM、Tomitribe、Payara和LJC（London Java Community）等公司和组织共同发起了MicroProfile项目。旨在创建一个开放的、供应商中立的Java微服务规范。 2016年9月 - MicroProfile 1.0发布，包括Java API for RESTful Web Services（JAX-RS）、Java API for JSON Processing（JSON-P）、Java API for WebSocket（WebSocket）等规范。 2017年5月 - MicroProfile 1.1发布，引入Config API规范，用于外部配置的管理。 2017年9月 - MicroProfile 1.2发布，添加了Health Check API规范，用于检查应用程序的健康状态。 2018年2月 - MicroProfile 1.3发布，引入了OpenAPI规范（以前称为Swagger），用于API文档和可视化。 2018年5月 - MicroProfile 2.0发布，升级了基础规范版本，并添加了Fault Tolerance API规范，用于容错和弹性。 2018年11月 - MicroProfile 2.1发布，增加了Metrics API规范，用于应用程序的性能监控和指标收集。 2019年3月 - MicroProfile 2.2发布，引入了JWT RBAC（Role-Based Access Control）规范，用于身份验证和授权。 2019年11月 - MicroProfile 3.0发布，升级了基础规范版本，支持Java EE 8和Jakarta EE规范。 2020年2月 - MicroProfile 3.1发布，升级了基础规范版本，并增加了其他改进和修复。 2021年5月 - MicroProfile 4.0发布，升级了基础规范版本，并引入了重大改进和新功能，如Context Propagation、Reactive Messaging等。 MicroProfile Config MicroProfile Config是MicroProfile的一个重要特性，它提供了一种解决方案，可以将配置从微服务中外部化。这使得应用和微服务可以在多个环境中运行，无需修改或重新打包。配置数据可以动态变化，应用需要能够在不重新启动服务器的情况下访问最新的配置信息。\nMicroProfile Config允许从不同的位置和不同的格式获取配置数据，如系统属性、系统环境变量、.properties、.xml和数据源等，这些配置位置被称为ConfigSources。\n它提供了一种方式，可以从许多不同的ConfigSources聚合配置，并呈现这些配置的单一、统一的视图。MicroProfile Config提供了两种获取配置属性的方式：编程方式和通过上下文和依赖注入（CDI）。\n在编程方式中，你首先获取包含所有可以访问的属性的Config对象，然后通过getValue(String propertyName, Class\u003c?\u003e propertyValueType)查找单个属性。使用CDI，可以直接将配置属性值注入到应用中，无需应用代码来检索它们。\n此外，还可以根据MicroProfile Config的规定创建自定义的ConfigSource。通过自定义ConfigSource，可以读取额外的配置值，并将它们以定义的顺序添加到Config实例中。这允许覆盖来自其他源的值或回退到其他值。\n参考文章 https://microprofile.io/\nMicroProfile 6.1\nMicroProfile 是什么？\nEclipse MicroProfile 简介\n什么是Eclipse MicroProfile？\nSpring Boot与Eclipse MicroProfile比较\nMicroProfile 对微服务框架的影响 | InfoQ 圆桌\nMicroProfile 编程模型支持\n学习如何使用MicroProfile\n使用 Quarkus 和 MicroProfile 实现微服务特性\nMicroProfile 云原生微服务开发编程模型\n使用 MicroProfile、ConfigMaps、Secrets 实现外部化应用配置\nEclipse MicroProfile 企业级微服务实用指南\n亚信Web应用中间件（FlyingServer）通过Eclipse MicroProfile功能测评\n微服务框架：如果不用 Spring Boot，还可以选择谁？\n“Azure 上的 Eclipse MicroProfile”文档\nJBoss 4.2. MicroProfile 配置开发\nQUARKUS - MICROPROFILE 健康检查\n","wordCount":"3945","inLanguage":"en","datePublished":"2023-12-14T00:00:00+08:00","dateModified":"2023-12-14T00:00:00+08:00","author":{"@type":"Person","name":"chensoul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chensoul.cc/posts/2023/12/14/all-things-about-microprofile/"},"publisher":{"@type":"Organization","name":"ChenSoul","logo":{"@type":"ImageObject","url":"https://blog.chensoul.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chensoul.cc/ accesskey=h title="ChenSoul (Alt + H)">ChenSoul</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.chensoul.cc/categories title=分类><span>分类</span></a></li><li><a href=https://blog.chensoul.cc/tags title=标签><span>标签</span></a></li><li><a href=https://blog.chensoul.cc/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.chensoul.cc/index.xml title=订阅><span>订阅</span></a></li><li><a href=https://github.com/chensoul title=关于><span>关于</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">All things about MicroProfile</h1><div class=post-meta><span title='2023-12-14 00:00:00 +0800 CST'>2023-12-14</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;3945 words&nbsp;·&nbsp;chensoul</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#microprofile aria-label=MicroProfile>MicroProfile</a></li><li><a href=#microprofile%e5%8f%91%e5%b1%95%e5%8e%86%e5%8f%b2 aria-label=MicroProfile发展历史>MicroProfile发展历史</a></li><li><a href=#microprofile-config aria-label="MicroProfile Config">MicroProfile Config</a></li><li><a href=#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0 aria-label=参考文章>参考文章</a></li></ul></div></details></div><div class=post-content><p>最近在一些开源项目中看到了 MicroProfile ，于是在网上查阅了相关资料加深对 MicroProfile 的理解，并做了笔记形成此文。</p><h2 id=microprofile>MicroProfile<a hidden class=anchor aria-hidden=true href=#microprofile>#</a></h2><p>MicroProfile是一个开放的企业级Java微服务框架，旨在简化和标准化基于微服务架构的应用程序开发。它是由Eclipse Foundation主导的一个开源项目，致力于提供轻量级、可移植和可互操作的Java微服务规范和实现。</p><p>MicroProfile的目标是为Java开发人员提供一个规范集合，使他们能够更轻松地构建和部署云原生应用程序。它结合了Java EE、Jakarta EE和其他相关规范，为开发人员提供了一组核心功能和扩展，以支持构建可伸缩、弹性和高性能的微服务应用程序。</p><p>MicroProfile提供了一系列的规范，包括：</p><ul><li><a href=https://github.com/eclipse/microprofile-config target=_blank>MicroProfile Config</a></li><li><a href=https://github.com/eclipse/microprofile-jwt-auth target=_blank>MicroProfile JWT RBAC</a></li><li><a href=https://github.com/eclipse/microprofile-health target=_blank>MicroProfile Health</a></li><li><a href=https://github.com/eclipse/microprofile-fault-tolerance target=_blank>MicroProfile Fault Tolerance</a></li><li><a href=https://github.com/eclipse/microprofile-metrics target=_blank>MicroProfile Metrics</a></li><li><a href=https://github.com/eclipse/microprofile-open-api target=_blank>MicroProfile OpenAPI</a></li><li><a href=https://github.com/eclipse/microprofile-opentracing target=_blank>MicroProfile OpenTracing</a></li><li><a href=https://github.com/eclipse/microprofile-rest-client target=_blank>MicroProfile REST Client</a></li><li><a href=https://github.com/eclipse/microprofile-context-propagation target=_blank>MicroProfile Context Propagation</a></li><li><a href=https://github.com/eclipse/microprofile-reactive-streams-operators target=_blank>MicroProfile Reactive Streams Operators</a></li><li><a href=https://github.com/eclipse/microprofile-reactive-messaging target=_blank>MicroProfile Reactive Messaging</a></li><li><a href=https://github.com/eclipse/microprofile-graphql target=_blank>MicroProfile GraphQL</a></li><li><a href=https://github.com/eclipse/microprofile-lra target=_blank>MicroProfile Long Running Actions</a></li><li><a href=https://github.com/eclipse/microprofile-telemetry target=_blank>MicroProfile Telemetry</a></li></ul><p><strong>MicroProfile</strong> 实现：</p><ul><li><a href=https://www.payara.fish target=_blank>Payara Micro</a>：是一个用于容器化Jakarta EE应用部署的轻量级中间件平台，不需要安装、配置或重写代码，可以快速部署</li><li><a href=https://www.wildfly.org target=_blank>WildFly by Redhat</a>：是一个轻量级、模块化的微服务框架，集中、简单、以用户为中心，实现了Jakarta EE和Eclipse MicroProfile的最新企业Java标准。</li><li><a href=https://quarkus.io/ target=_blank>Quarkus by RedHat</a>：为GraalVM和OpenJDK HotSpot构建的Kubernetes Native Java堆栈，由最佳的Java库和标准精心打造。</li><li><a href=https://tomee.apache.org/ target=_blank>Apache TomEE</a>：这是Apache Tomcat Java企业版，它结合了几个Java企业项目，包括Apache OpenEJB、Apache OpenJPA、Apache OpenWebBeans、Apache MyFaces和其他许多项目。</li><li><a href=https://hammock-project.github.io/ target=_blank>Hammock</a>：这是一个基于CDI的bootstrapping Java企业微服务框架，由于其灵活性和简单性，用于构建应用程序</li><li><a href=https://openliberty.io/ target=_blank>Openliberty</a>：是一个开源的轻量级Java EE微服务框架，用于构建快速高效的云原生Java微服务应用，只运行所需的服务，同时考虑最新的Eclipse MicroProfile标准</li><li><a href=https://helidon.io/%23/ target=_blank>Helidon by Oracle</a>：这是一个Java库的集合，用于编写在快速的Helidon Reactive WebServer上运行的Java微服务，这是一个由Netty驱动的Web核心，同时支持MicroProfile及其标准规范。</li><li><a href=https://ee.kumuluz.com/ target=_blank>KumuluzEE</a>：是一个轻量级框架，用于使用标准的Java/JavaEE/JakartaEE/EE4J技术和API开发微服务，可选择扩展，如使用Node.js、Go和其他语言，并将现有应用程序迁移到云原生架构和微服务，以便更容易地进行云原生微服务开发。</li><li><a href=https://github.com/fujitsu/launcher target=_blank>Launcher by Fujitsu</a>：它由富士通公司开发，是一个支持某些MicroProfile规范的Java EE微服务框架，可以将应用捆绑到über-jar/fat文件（JAR文件，包含其所有需要的依赖项）</li><li><a href=https://thorntail.io/ target=_blank>ThornTail (过时的)</a>：是一个Java企业级微服务框架，它只将需要的和指定的包捆绑到一个JAR文件中，并有足够的运行时间来运行它们</li></ul><h2 id=microprofile发展历史>MicroProfile发展历史<a hidden class=anchor aria-hidden=true href=#microprofile发展历史>#</a></h2><p><a href=https://www.infoq.cn/article/6wstmskpbbip6wqoqsmv target=_blank>Infoq</a> 上有一段介绍：</p><blockquote><p>2016 年年中，作为对 Oracle 在发布 Java EE 8 方面<a href=https://www.infoq.com/news/2016/07/Java-EE-8-Stagnating/ target=_blank>停滞不前</a>的直接回应，社区发起了两个新的倡议，也就是<a href=https://microprofile.io/ target=_blank>MicroProfile</a>和 Java EE Guardians（现在被称为<a href=https://jakartaee-ambassadors.io/ target=_blank>Jakarta EE Ambassadors</a>）。Java 社区认为，随着用于构建微服务应用的 web 服务技术的出现，企业级 Java 已经落后于时代了。</p><p>MicroProfile 倡议是在<a href=https://developers.redhat.com/blog/2016/06/27/microprofile-collaborating-to-bring-microservices-to-enterprise-java/ target=_blank>2016年6月27日Red Hat的DevNation会议上</a>发起的，它是由 IBM、Red Hat、Tomitribe、Payara 等厂商协作创建的，旨在为企业级 Java 提供微服务。<a href=https://developer.jboss.org/blogs/mark.little/2016/09/17/to-microprofile-10-and-beyond target=_blank>MicroProfile 1.0的发布</a>是在 JavaOne 2016 上宣布的，它包含了三个基于 JSR 的 API，这些 API 被视为创建微服务的最低限度要求，即<a href="https://jcp.org/en/jsr/detail?id=346" target=_blank>JSR-346</a>：上下文和依赖注入（CDI）、<a href="https://jcp.org/en/jsr/detail?id=353" target=_blank>JSR-353</a>：JSON 处理的 Java API（JSON-P）以及<a href="https://jcp.org/en/jsr/detail?id=339" target=_blank>JSR-339</a>：RESTful Web 服务的 Java API（JAX-RS）。</p><p>到 2018 年 2 月<a href=https://www.infoq.com/news/2018/02/microprofile-13/ target=_blank>MicroProfile 1.3发布的时候</a>，已经创建了八个基于社区的 API，以补充最初的三个基于 JSR 的 API，用来构建更加健壮的基于微服务的应用。随着<a href=https://www.infoq.com/news/2018/08/microprofile-1.4-and-2.0 target=_blank>MicroProfile 2.0</a>的发布，增加了第四个基于 JSR 的 API，即<a href="https://jcp.org/en/jsr/detail?id=367" target=_blank>JSR-367</a>：JSON 绑定的 Java API（JSON-B）。</p><p>原定于 2020 年 6 月发布的 MicroProfile 4.0<a href=https://microprofile.io/2020/05/29/towards-microprofile-4-0/ target=_blank>被推迟了</a>，以便于按照 Eclipse 基金会的授权成立<a href=https://microprofile.io/workinggroup/ target=_blank>MicroProfile工作组</a>。该工作组定义了<a href=https://docs.google.com/document/d/1anTlBMyqMbEnRvC8Pz1pAo17Cejy4qUK9ZPbP7NDk8s/edit target=_blank>MicroProfile规范流程</a>和正式的指导委员会，该委员会由各组织和 Java 用户组（Java User Group，JUG）组成，即<a href=https://ajug.org/ target=_blank>亚特兰大JUG</a>、<a href=https://www.ibm.com/ target=_blank>IBM</a>, <a href=https://jelastic.com/ target=_blank>Jelastic</a>、<a href=https://www.redhat.com/ target=_blank>Red Hat</a>和<a href=https://www.tomitribe.com/ target=_blank>Tomitribe</a>。预计其他的组织和 JUG 会在 2021 年加入。MicroProfile 工作组在 2020 年 12 月 23 日发布了 MicroProfile 4.0，其特性是对<a href=https://www.infoq.com/news/2020/12/whats-new-in-microprofile-4/ target=_blank>12个核心API进行更新并与Jakarta EE 8保持一致</a>。</p><p>MicroProfile 的创始厂商提供了自己的微服务框架，分别是<a href=https://openliberty.io/ target=_blank>Open Liberty</a>（IBM）、WildFly Swarm/<a href=https://thorntail.io/ target=_blank>Thorntail</a>（Red Hat）、<a href=https://tomee.apache.org/ target=_blank>TomEE</a>（Tomitribe 和<a href=https://www.payara.fish/products/payara-micro/ target=_blank>Payara Micro</a>（Payara），它们最终都支持了 MicroProfile 倡议。</p><p>在 2018 年的年中，Red Hat 将 WildFly Swarm（这是 Red Hat 的核心应用服务器<a href=https://www.wildfly.org/ target=_blank>WildFly</a>的扩展）重命名为<a href=https://thorntail.io/ target=_blank>Thorntail</a>，从而为它的微服务框架提供自己的标识。但是，不到一年之后，Red Hat 发布了<a href=https://quarkus.io/ target=_blank>Quarkus</a>，这是一个“为 OpenJDK HotSpot 和 GraalVM 量身定做的 Kubernetes 原生 Java 栈，基于最优秀的 Java 库和标准精心打造”。Quarkus 被称为“超音速亚原子的 Java”，在 Java 社区迅速流行了起来，以至于 Red Hat<a href=https://thorntail.io/posts/the-end-of-an-era/ target=_blank>宣布Thorntail在2020年7月寿终正寝</a>。Quarkus 加入了相对较新的框架<a href=https://micronaut.io/ target=_blank>Micronaut</a>和<a href=https://helidon.io/ target=_blank>Helidon</a>的行列，这两个框架都是在此之前不到一年前引入 Java 社区的。除了 Micronaut 之外，所有这些基于微服务的框架都支持 MicroProfile 倡议。</p></blockquote><p>MicroProfile的发展历史可以追溯到2016年。以下是MicroProfile的关键里程碑和发展阶段：</p><ol><li>2016年6月 - 由Red Hat、IBM、Tomitribe、Payara和LJC（London Java Community）等公司和组织共同发起了MicroProfile项目。旨在创建一个开放的、供应商中立的Java微服务规范。</li><li>2016年9月 - MicroProfile 1.0发布，包括Java API for RESTful Web Services（JAX-RS）、Java API for JSON Processing（JSON-P）、Java API for WebSocket（WebSocket）等规范。</li><li>2017年5月 - MicroProfile 1.1发布，引入Config API规范，用于外部配置的管理。</li><li>2017年9月 - MicroProfile 1.2发布，添加了Health Check API规范，用于检查应用程序的健康状态。</li><li>2018年2月 - MicroProfile 1.3发布，引入了OpenAPI规范（以前称为Swagger），用于API文档和可视化。</li><li>2018年5月 - MicroProfile 2.0发布，升级了基础规范版本，并添加了Fault Tolerance API规范，用于容错和弹性。</li><li>2018年11月 - MicroProfile 2.1发布，增加了Metrics API规范，用于应用程序的性能监控和指标收集。</li><li>2019年3月 - MicroProfile 2.2发布，引入了JWT RBAC（Role-Based Access Control）规范，用于身份验证和授权。</li><li>2019年11月 - MicroProfile 3.0发布，升级了基础规范版本，支持Java EE 8和Jakarta EE规范。</li><li>2020年2月 - MicroProfile 3.1发布，升级了基础规范版本，并增加了其他改进和修复。</li><li>2021年5月 - MicroProfile 4.0发布，升级了基础规范版本，并引入了重大改进和新功能，如Context Propagation、Reactive Messaging等。</li></ol><h2 id=microprofile-config>MicroProfile Config<a hidden class=anchor aria-hidden=true href=#microprofile-config>#</a></h2><p>MicroProfile Config是MicroProfile的一个重要特性，它提供了一种解决方案，可以将配置从微服务中外部化。这使得应用和微服务可以在多个环境中运行，无需修改或重新打包。配置数据可以动态变化，应用需要能够在不重新启动服务器的情况下访问最新的配置信息。</p><p>MicroProfile Config允许从不同的位置和不同的格式获取配置数据，如系统属性、系统环境变量、.properties、.xml和数据源等，这些配置位置被称为ConfigSources。</p><p><img loading=lazy src=https://chensoul.oss-cn-hangzhou.aliyuncs.com/images/ordinalPriorities.svg alt="Separating configuration from code in microservices"></p><p>它提供了一种方式，可以从许多不同的ConfigSources聚合配置，并呈现这些配置的单一、统一的视图。MicroProfile Config提供了两种获取配置属性的方式：编程方式和通过上下文和依赖注入（CDI）。</p><p>在编程方式中，你首先获取包含所有可以访问的属性的Config对象，然后通过<code>getValue(String propertyName, Class&lt;?> propertyValueType)</code>查找单个属性。使用CDI，可以直接将配置属性值注入到应用中，无需应用代码来检索它们。</p><p>此外，还可以根据MicroProfile Config的规定创建自定义的ConfigSource。通过自定义ConfigSource，可以读取额外的配置值，并将它们以定义的顺序添加到Config实例中。这允许覆盖来自其他源的值或回退到其他值。</p><h2 id=参考文章>参考文章<a hidden class=anchor aria-hidden=true href=#参考文章>#</a></h2><ul><li><p><a href=https://microprofile.io/ target=_blank>https://microprofile.io/</a></p></li><li><p><a href="https://docs.google.com/presentation/d/1A3Hbr-O7QFepUP5M0X2hKfqFiO1PZgnBWWhMyovu9JU/edit#slide=id.p1" target=_blank>MicroProfile 6.1</a></p></li><li><p><a href=https://zhuanlan.zhihu.com/p/646155513 target=_blank>MicroProfile 是什么？</a></p></li><li><p><a href=https://juejin.cn/post/7071617040947085348 target=_blank>Eclipse MicroProfile 简介</a></p></li><li><p><a href=https://www.tomitribe.com/blog/what-is-eclipse-microprofile/ target=_blank>什么是Eclipse MicroProfile？</a></p></li><li><p><a href=https://developers.redhat.com/blog/2018/11/21/eclipse-microprofile-for-spring-boot-developers/ target=_blank>Spring Boot与Eclipse MicroProfile比较</a></p></li><li><p><a href=https://www.infoq.cn/article/6wstmskpbbip6wqoqsmv target=_blank>MicroProfile 对微服务框架的影响 | InfoQ 圆桌</a></p></li><li><p><a href="https://www.ibm.com/docs/zh/was-liberty/base?topic=architecture-microprofile-programming-model-support" target=_blank>MicroProfile 编程模型支持</a></p></li><li><p><a href=https://juejin.cn/post/7171656920414519332 target=_blank>学习如何使用MicroProfile</a></p></li><li><p><a href=https://atbug.com/microservicilities-quarkus/ target=_blank>使用 Quarkus 和 MicroProfile 实现微服务特性</a></p></li><li><p><a href=https://www.oschina.net/p/microprofile target=_blank>MicroProfile 云原生微服务开发编程模型</a></p></li><li><p><a href=https://kubernetes.io/zh-cn/docs/tutorials/configuration/configure-java-microservice/configure-java-microservice/ target=_blank>使用 MicroProfile、ConfigMaps、Secrets 实现外部化应用配置</a></p></li><li><p><a href=https://javaweb.apachecn.org/#/docs/handson-enter-java-microsvc-eclipse-microprofile/README target=_blank>Eclipse MicroProfile 企业级微服务实用指南</a></p></li><li><p><a href=https://www.modb.pro/db/1691325241423384576 target=_blank>亚信Web应用中间件（FlyingServer）通过Eclipse MicroProfile功能测评</a></p></li><li><p><a href=https://www.cnblogs.com/javastack/p/16851078.html target=_blank>微服务框架：如果不用 Spring Boot，还可以选择谁？</a></p></li><li><p><a href=https://learn.microsoft.com/zh-cn/azure/developer/java/eclipse-microprofile/ target=_blank>“Azure 上的 Eclipse MicroProfile”文档</a></p></li><li><p><a href=https://access.redhat.com/documentation/zh-cn/red_hat_jboss_enterprise_application_platform/7.4/html/using_jboss_eap_xp_3.0.0/_microprofile_config_development target=_blank>JBoss 4.2. MicroProfile 配置开发</a></p></li><li><p><a href=https://quarkus.pro/guides/microprofile-health.html target=_blank>QUARKUS - MICROPROFILE 健康检查</a></p></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.chensoul.cc/tags/java/>Java</a></li><li><a href=https://blog.chensoul.cc/tags/microprofile/>Microprofile</a></li></ul><nav class=paginav><a class=prev href=https://blog.chensoul.cc/posts/2023/12/14/til/><span class=title>« Prev</span><br><span>2023-12-14｜购买新的VPS服务器、最近在做什么</span>
</a><a class=next href=https://blog.chensoul.cc/posts/2023/12/13/til/><span class=title>Next »</span><br><span>2023-12-13｜发布到Maven中央仓库的第一个项目</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on x" href="https://x.com/intent/tweet/?text=All%20things%20about%20MicroProfile&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f&amp;hashtags=java%2cmicroprofile"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f&amp;title=All%20things%20about%20MicroProfile&amp;summary=All%20things%20about%20MicroProfile&amp;source=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f&title=All%20things%20about%20MicroProfile"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on whatsapp" href="https://api.whatsapp.com/send?text=All%20things%20about%20MicroProfile%20-%20https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on telegram" href="https://telegram.me/share/url?text=All%20things%20about%20MicroProfile&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share All things about MicroProfile on ycombinator" href="https://news.ycombinator.com/submitlink?t=All%20things%20about%20MicroProfile&u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2023%2f12%2f14%2fall-things-about-microprofile%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.chensoul.cc/>ChenSoul</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script async src=https://umami.chensoul.cc/random-string.js data-website-id=821c25f8-a31a-4607-92d7-91ee76843d00></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>