<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>2024-01-16｜Redis安装 | ChenSoul</title>
<meta name=keywords content="redis"><meta name=description content="今天做了什么： 1、spring-cloud-examples 添加分布式锁、rabbitmq、kafka、分库分表等示例代码 2、foodie-cloud 添加登录部分代码 3、整理 Redis 安装文档 Redis 安装 Centos7 通过 yum 安"><meta name=author content="chensoul"><link rel=canonical href=https://blog.chensoul.cc/posts/2024/01/16/til/><meta name=google-site-verification content="nBXwg45SBRjTX78SA-mH0asrAbsdu9c1nk0ObSry7aQ"><link crossorigin=anonymous href=/assets/css/stylesheet.899d9a536396b9b03c9eae0c99cc6ec954a90da94036f5390d131eb8071bb417.css integrity="sha256-iZ2aU2OWubA8nq4MmcxuyVSpDalANvU5DRMeuAcbtBc=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.chensoul.cc/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.chensoul.cc/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.chensoul.cc/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.chensoul.cc/apple-touch-icon.png><link rel=mask-icon href=https://blog.chensoul.cc/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.chensoul.cc/posts/2024/01/16/til/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta name=baidu-site-verification content="codeva-FYpQY8JdLU"><meta property="og:title" content="2024-01-16｜Redis安装"><meta property="og:description" content="今天做了什么： 1、spring-cloud-examples 添加分布式锁、rabbitmq、kafka、分库分表等示例代码 2、foodie-cloud 添加登录部分代码 3、整理 Redis 安装文档 Redis 安装 Centos7 通过 yum 安"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.chensoul.cc/posts/2024/01/16/til/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-16T00:00:00+08:00"><meta property="article:modified_time" content="2024-01-16T00:00:00+08:00"><meta property="og:site_name" content="ChenSoul"><meta name=twitter:card content="summary"><meta name=twitter:title content="2024-01-16｜Redis安装"><meta name=twitter:description content="今天做了什么： 1、spring-cloud-examples 添加分布式锁、rabbitmq、kafka、分库分表等示例代码 2、foodie-cloud 添加登录部分代码 3、整理 Redis 安装文档 Redis 安装 Centos7 通过 yum 安"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.chensoul.cc/posts/"},{"@type":"ListItem","position":2,"name":"2024-01-16｜Redis安装","item":"https://blog.chensoul.cc/posts/2024/01/16/til/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"2024-01-16｜Redis安装","name":"2024-01-16｜Redis安装","description":"今天做了什么： 1、spring-cloud-examples 添加分布式锁、rabbitmq、kafka、分库分表等示例代码 2、foodie-cloud 添加登录部分代码 3、整理 Redis 安装文档 Redis 安装 Centos7 通过 yum 安","keywords":["redis"],"articleBody":"今天做了什么：\n1、spring-cloud-examples 添加分布式锁、rabbitmq、kafka、分库分表等示例代码\n2、foodie-cloud 添加登录部分代码\n3、整理 Redis 安装文档\nRedis 安装 Centos7 通过 yum 安装 在 CentOS 7 上通过 yum 安装 Redis，可以按照以下步骤进行操作：\n更新系统软件包：\n1 sudo yum update 安装 Redis：\n1 sudo yum install redis 可以看到默认安装的 redis 版本是 3.2.12-2.el7\n如果需要安装 redis 7，这需要下载 yum 源：\n1 2 sudo yum install epel-release sudo yum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpm 然后，在指定源进行安装：\n1 yum --enablerepo=remi install redis 启动 Redis 服务：\n1 sudo systemctl start redis 配置 Redis 开机自启动：\n1 sudo systemctl enable redis 修改配置文件 /etc/redis.conf\n修改 bind 和 requirepass\n1 2 3 bind 0.0.0.0 requirepass 123456 然后重启 redis：\n1 sudo systemctl restart redis 运行 redis-cli\n1 2 3 4 redis-cli 127.0.0.1:6379\u003e auth 123456 OK Centos7 通过 snap 安装 安装 redis\n1 sudo snap install redis 查看 snap 安装的包：\n1 snap list 启动 Redis：\n1 sudo snap start redis 运行 redis-cli\nRedis的snap安装没有预配置的文件(redis.conf)。因此，我们需要使用Redis的CLI进入控制台并进行配置。\n1 2 3 4 redis.cli # 打印所有的配置 127.0.0.1:6379\u003e CONFIG GET * 配置外网访问\n要配置Redis以允许外部网络访问，使用以下命令：\n1 2 3 127.0.0.1:6379\u003e CONFIG GET bind 127.0.0.1:6379\u003e config set bind 0.0.0.0 这将绑定Redis服务器到0.0.0.0 IP地址，使其对外可访问。请注意，这可能会带来一些安全风险，因此请谨慎操作。\n设置保护模式\n1 127.0.0.1:6379\u003e CONFIG SET protected-mode no 该模式控制外部网是否可以连接 redis 服务，默认是 yes, 所以默认我们外网是无法访问的，如需外网连接 rendis 服务则需要将此属性改为 no。\n设置访问密码\n1 127.0.0.1:6379\u003e config set requirepass mypass 这将设置一个名为\"mypass\"的密码作为访问Redis的要求。请确保将\"mypass\"替换为您选择的强密码。\n开启防火墙（可选）\n1 2 3 4 5 6 # 添加 redis 端口 firewall-cmd --zone=public --add-port=6379/tcp --permanent firewall-cmd --zone=public --add-port=6379/udp --permanent # 重启防火墙 firewall-cmd --reload 升级\n1 sudo snap refresh redis 卸载\n1 sudo snap remove redis MacOS 上安装 安装 Redis：\n1 brew install redis 启动 Redis 服务器：\n1 brew services start redis 这将启动 Redis 服务器并使其在后台运行。\n查看 Redis 状态\n1 brew services info redis 验证 Redis 安装：\n您可以使用以下命令来验证 Redis 是否成功安装并正在运行：\n1 redis-cli ping 如果 Redis 正常运行，它将返回 “PONG”。\n停止 Redis 服务器：\n1 brew services stop redis 源码安装 下载源代码\n1 wget https://download.redis.io/redis-stable.tar.gz 编译\n1 2 3 tar -xzvf redis-stable.tar.gz cd redis-stable make 启动 Redis 服务器\n1 redis-server Docker 安装 通过 docker 安装：\n1 2 3 4 5 6 7 8 9 10 11 12 REDIS_PASSWORD=123456 docker run \\ -d \\ --restart always \\ --privileged=true \\ --name redis \\ -v /etc/localtime:/etc/localtime \\ -p 6379:6379 \\ redis:7.2.2 \\ --requirepass $REDIS_PASSWORD \\ --appendonly yes 通过 docker-compose 安装：\n1 2 3 4 5 6 7 8 9 10 version: '3' services: redis: image: redis:7.2.2 restart: unless-stopped environment: TZ: Asia/Shanghai command: redis-server --requirepass 123456 ports: - \"6379:6379\" ","wordCount":"958","inLanguage":"en","datePublished":"2024-01-16T00:00:00+08:00","dateModified":"2024-01-16T00:00:00+08:00","author":{"@type":"Person","name":"chensoul"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.chensoul.cc/posts/2024/01/16/til/"},"publisher":{"@type":"Organization","name":"ChenSoul","logo":{"@type":"ImageObject","url":"https://blog.chensoul.cc/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.chensoul.cc/ accesskey=h title="ChenSoul (Alt + H)">ChenSoul</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.chensoul.cc/categories title=分类><span>分类</span></a></li><li><a href=https://blog.chensoul.cc/tags title=标签><span>标签</span></a></li><li><a href=https://blog.chensoul.cc/search title="搜索 (Alt + /)" accesskey=/><span>搜索</span></a></li><li><a href=https://blog.chensoul.cc/index.xml title=订阅><span>订阅</span></a></li><li><a href=https://github.com/chensoul title=关于><span>关于</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">2024-01-16｜Redis安装</h1><div class=post-meta><span title='2024-01-16 00:00:00 +0800 CST'>2024-01-16</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;958 words&nbsp;·&nbsp;chensoul</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#redis-%e5%ae%89%e8%a3%85 aria-label="Redis 安装">Redis 安装</a><ul><li><a href=#centos7-%e9%80%9a%e8%bf%87-yum-%e5%ae%89%e8%a3%85 aria-label="Centos7 通过 yum 安装">Centos7 通过 yum 安装</a></li><li><a href=#centos7-%e9%80%9a%e8%bf%87-snap-%e5%ae%89%e8%a3%85 aria-label="Centos7 通过 snap 安装">Centos7 通过 snap 安装</a></li><li><a href=#macos-%e4%b8%8a%e5%ae%89%e8%a3%85 aria-label="MacOS 上安装">MacOS 上安装</a></li><li><a href=#%e6%ba%90%e7%a0%81%e5%ae%89%e8%a3%85 aria-label=源码安装>源码安装</a></li><li><a href=#docker-%e5%ae%89%e8%a3%85 aria-label="Docker 安装">Docker 安装</a></li></ul></li></ul></div></details></div><div class=post-content><p>今天做了什么：</p><p>1、<a href=https://github.com/chensoul/spring-cloud-examples target=_blank>spring-cloud-examples</a> 添加分布式锁、rabbitmq、kafka、分库分表等示例代码</p><p>2、<a href=https://github.com/chensoul/foodie-cloud target=_blank>foodie-cloud</a> 添加登录部分代码</p><p>3、整理 Redis 安装文档</p><h2 id=redis-安装>Redis 安装<a hidden class=anchor aria-hidden=true href=#redis-安装>#</a></h2><h3 id=centos7-通过-yum-安装>Centos7 通过 yum 安装<a hidden class=anchor aria-hidden=true href=#centos7-通过-yum-安装>#</a></h3><p>在 CentOS 7 上通过 yum 安装 Redis，可以按照以下步骤进行操作：</p><ol><li><p>更新系统软件包：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum update
</span></span></code></pre></td></tr></table></div></div></li><li><p>安装 Redis：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install redis
</span></span></code></pre></td></tr></table></div></div><p>可以看到默认安装的 redis 版本是 3.2.12-2.el7</p><p>如果需要安装 redis 7，这需要下载 yum 源：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo yum install epel-release
</span></span><span class=line><span class=cl>sudo yum -y install http://rpms.remirepo.net/enterprise/remi-release-7.rpm
</span></span></code></pre></td></tr></table></div></div><p>然后，在指定源进行安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>yum --enablerepo<span class=o>=</span>remi install redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>启动 Redis 服务：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo systemctl start redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>配置 Redis 开机自启动：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo systemctl enable redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>修改配置文件 /etc/redis.conf</p><p>修改 bind 和 requirepass</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>bind</span> 0.0.0.0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>requirepass <span class=m>123456</span>
</span></span></code></pre></td></tr></table></div></div><p>然后重启 redis：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>运行 redis-cli</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>redis-cli
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>127.0.0.1:6379&gt; auth <span class=m>123456</span>
</span></span><span class=line><span class=cl>OK
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=centos7-通过-snap-安装>Centos7 通过 snap 安装<a hidden class=anchor aria-hidden=true href=#centos7-通过-snap-安装>#</a></h3><ol><li><p>安装 redis</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo snap install redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>查看 snap 安装的包：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>snap list
</span></span></code></pre></td></tr></table></div></div></li><li><p>启动 Redis：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo snap start redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>运行 redis-cli</p><p>Redis的snap安装没有预配置的文件(<code>redis.conf</code>)。因此，我们需要使用Redis的CLI进入控制台并进行配置。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>redis.cli
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 打印所有的配置</span>
</span></span><span class=line><span class=cl>127.0.0.1:6379&gt; CONFIG GET *
</span></span></code></pre></td></tr></table></div></div></li><li><p>配置外网访问</p><p>要配置Redis以允许外部网络访问，使用以下命令：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>127.0.0.1:6379&gt; CONFIG GET <span class=nb>bind</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>127.0.0.1:6379&gt; config <span class=nb>set</span> <span class=nb>bind</span> 0.0.0.0
</span></span></code></pre></td></tr></table></div></div><p>这将绑定Redis服务器到0.0.0.0 IP地址，使其对外可访问。请注意，这可能会带来一些安全风险，因此请谨慎操作。</p><p>设置保护模式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>127.0.0.1:6379&gt; CONFIG SET protected-mode no
</span></span></code></pre></td></tr></table></div></div><p>该模式控制外部网是否可以连接 redis 服务，默认是 yes, 所以默认我们外网是无法访问的，如需外网连接 rendis 服务则需要将此属性改为 no。</p></li><li><p>设置访问密码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>127.0.0.1:6379&gt; config <span class=nb>set</span> requirepass mypass
</span></span></code></pre></td></tr></table></div></div><p>这将设置一个名为"mypass"的密码作为访问Redis的要求。请确保将"mypass"替换为您选择的强密码。</p></li><li><p>开启防火墙（可选）</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 添加 redis 端口</span>
</span></span><span class=line><span class=cl>firewall-cmd --zone<span class=o>=</span>public --add-port<span class=o>=</span>6379/tcp --permanent
</span></span><span class=line><span class=cl>firewall-cmd --zone<span class=o>=</span>public --add-port<span class=o>=</span>6379/udp --permanent
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 重启防火墙</span>
</span></span><span class=line><span class=cl>firewall-cmd --reload
</span></span></code></pre></td></tr></table></div></div></li><li><p>升级</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo snap refresh redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>卸载</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo snap remove redis
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=macos-上安装>MacOS 上安装<a hidden class=anchor aria-hidden=true href=#macos-上安装>#</a></h3><ol><li><p>安装 Redis：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew install redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>启动 Redis 服务器：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew services start redis
</span></span></code></pre></td></tr></table></div></div><p>这将启动 Redis 服务器并使其在后台运行。</p></li><li><p>查看 Redis 状态</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew services info redis
</span></span></code></pre></td></tr></table></div></div></li><li><p>验证 Redis 安装：</p><p>您可以使用以下命令来验证 Redis 是否成功安装并正在运行：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>redis-cli ping
</span></span></code></pre></td></tr></table></div></div><p>如果 Redis 正常运行，它将返回 &ldquo;PONG&rdquo;。</p></li><li><p>停止 Redis 服务器：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>brew services stop redis
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=源码安装>源码安装<a hidden class=anchor aria-hidden=true href=#源码安装>#</a></h3><ol><li><p>下载源代码</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget https://download.redis.io/redis-stable.tar.gz
</span></span></code></pre></td></tr></table></div></div></li><li><p>编译</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>tar -xzvf redis-stable.tar.gz
</span></span><span class=line><span class=cl><span class=nb>cd</span> redis-stable
</span></span><span class=line><span class=cl>make
</span></span></code></pre></td></tr></table></div></div></li><li><p>启动 Redis 服务器</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>redis-server
</span></span></code></pre></td></tr></table></div></div></li></ol><h3 id=docker-安装>Docker 安装<a hidden class=anchor aria-hidden=true href=#docker-安装>#</a></h3><p>通过 docker 安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>REDIS_PASSWORD</span><span class=o>=</span><span class=m>123456</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker run <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -d <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --restart always <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --privileged<span class=o>=</span><span class=nb>true</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --name redis <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -v /etc/localtime:/etc/localtime <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  -p 6379:6379 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  redis:7.2.2 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --requirepass <span class=nv>$REDIS_PASSWORD</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>  --appendonly yes
</span></span></code></pre></td></tr></table></div></div><p>通过 docker-compose 安装：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;3&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>services</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>redis</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>image</span><span class=p>:</span><span class=w> </span><span class=l>redis:7.2.2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>restart</span><span class=p>:</span><span class=w> </span><span class=l>unless-stopped</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>environment</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>TZ</span><span class=p>:</span><span class=w> </span><span class=l>Asia/Shanghai</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>command</span><span class=p>:</span><span class=w> </span><span class=l>redis-server --requirepass 123456</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>ports</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=s2>&#34;6379:6379&#34;</span><span class=w>
</span></span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.chensoul.cc/tags/redis/>Redis</a></li></ul><nav class=paginav><a class=prev href=https://blog.chensoul.cc/posts/2024/01/17/til/><span class=title>« Prev</span><br><span>2024-01-17｜MySQL 主从复制、ShardingJDBC实现读写分离、集成Springdoc+Javadoc</span>
</a><a class=next href=https://blog.chensoul.cc/posts/2024/01/15/til/><span class=title>Next »</span><br><span>2024-01-15｜Nginx配置结构与指令语法</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on x" href="https://x.com/intent/tweet/?text=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f&amp;hashtags=redis"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f&amp;title=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85&amp;summary=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85&amp;source=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f&title=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on whatsapp" href="https://api.whatsapp.com/send?text=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85%20-%20https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on telegram" href="https://telegram.me/share/url?text=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85&amp;url=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share 2024-01-16｜Redis安装 on ycombinator" href="https://news.ycombinator.com/submitlink?t=2024-01-16%ef%bd%9cRedis%e5%ae%89%e8%a3%85&u=https%3a%2f%2fblog.chensoul.cc%2fposts%2f2024%2f01%2f16%2ftil%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://blog.chensoul.cc/>ChenSoul</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script async src=https://umami.chensoul.cc/random-string.js data-website-id=821c25f8-a31a-4607-92d7-91ee76843d00></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-FCSSTV9VRG"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FCSSTV9VRG")</script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>