<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>css on ChenSoul</title>
    <link>https://blog.chensoul.com/tags/css/</link>
    <description>Recent content in css on ChenSoul</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 21 Jun 2023 09:00:00 +0800</lastBuildDate><atom:link href="https://blog.chensoul.com/tags/css/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>[译]为恐龙解释现代CSS</title>
      <link>https://blog.chensoul.com/posts/2023/06/21/modern-css-explained-for-dinosaurs/</link>
      <pubDate>Wed, 21 Jun 2023 09:00:00 +0800</pubDate>
      
      <guid>https://blog.chensoul.com/posts/2023/06/21/modern-css-explained-for-dinosaurs/</guid>
      <description>奇怪的是，CSS 被认为是作为 Web 开发人员最容易学习和最难学习的语言之一。开始使用它当然很容易 - 您可以定义样式属性和值以应用于特定元素，然后&amp;h</description>
      <content:encoded><![CDATA[<p><img loading="lazy" src="https://peterxjang.com/img/1__kXsiGLMHSS4jUx4W6yBOlw.png" alt="Dinosaur comic panel 1"  />
</p>
<p>奇怪的是，CSS 被认为是作为 Web 开发人员最容易学习和最难学习的语言之一。开始使用它当然很容易 - 您可以定义样式属性和值以应用于特定元素，然后&hellip;&hellip;这几乎就是您开始所需的一切！但是，对于大型项目，以有意义的方式组织 CSS 会变得纠结和复杂。更改任何一行 CSS 以设置一个页面上元素的样式通常会导致其他页面上的元素发生意外更改。</p>
<p>为了处理 CSS 固有的复杂性，已经建立了各种不同的最佳实践。问题在于，对于哪些最佳实践实际上是最好的，没有任何强烈的共识，其中许多似乎完全相互矛盾。如果你是第一次尝试学习 CSS，至少可以说这可能会让人迷失方向。</p>
<p>本文的目的是提供一个历史背景，说明 CSS 方法和工具如何在 2018 年发展到今天的样子。通过了解这段历史，将更容易理解每种方法以及如何使用它们来为您带来好处。让我们开始吧！</p>
<blockquote>
<p>更新：我制作了本文的新视频课程版本，该版本更深入地介绍了材料，请在此处查看：
<a href="https://firstclass.actualize.co/p/modern-css-explained-for-dinosaurs">https://firstclass.actualize.co/p/modern-css-explained-for-dinosaurs</a></p>
</blockquote>
<h3 id="使用-css-进行基本样式设置">使用 CSS 进行基本样式设置</h3>
<p>让我们从一个基本网站开始，仅使用一个简单的 <code>index.html</code> 文件链接到一个单独的 <code>index.css</code> 文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Modern CSS<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;index.css&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>This is the header.<span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This is the main content.<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>This is the navigation section.<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">aside</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>This is an aside section.<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">aside</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>This is the footer.<span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>现在我们在 HTML 中没有使用任何类或 ID，只是 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element#Content_sectioning">语义标签</a>。没有任何 CSS，网站看起来像这样（使用占位符文本）：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__MwOy9E5LacvhGEtIUb9pXQ.png" alt="Example webpage without styling"  />
</p>
<p>功能齐全，但不是很漂亮。我们可以添加 CSS 来改进 <code>index.css</code> 中的基本排版：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* BASIC TYPOGRAPHY                       */</span>  
</span></span><span class="line"><span class="cl"><span class="c">/* from https://github.com/oxalorg/sakura */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">html</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">62.5</span><span class="kt">%</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-family</span><span class="p">:</span> <span class="kc">serif</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.8</span><span class="kt">rem</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">line-height</span><span class="p">:</span> <span class="mf">1.618</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">max-width</span><span class="p">:</span> <span class="mi">38</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">color</span><span class="p">:</span> <span class="mh">#4a4a4a</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background-color</span><span class="p">:</span> <span class="mh">#f9f9f9</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">13</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">684px</span><span class="o">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.53</span><span class="kt">rem</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">@</span><span class="k">media</span> <span class="o">(</span><span class="nt">max-width</span><span class="o">:</span> <span class="nt">382px</span><span class="o">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.35</span><span class="kt">rem</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">line-height</span><span class="p">:</span> <span class="mf">1.1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-family</span><span class="p">:</span> <span class="n">Verdana</span><span class="p">,</span> <span class="n">Geneva</span><span class="p">,</span> <span class="kc">sans-serif</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-weight</span><span class="p">:</span> <span class="mi">700</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">overflow-wrap</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">word-wrap</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-ms-</span><span class="k">word-break</span><span class="p">:</span> <span class="n">break-all</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">word-break</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-ms-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-moz-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-webkit-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h1</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">2.35</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h2</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mi">2</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h3</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.75</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h4</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.5</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h5</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mf">1.25</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">h6</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="mi">1</span><span class="kt">em</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在这里，大多数 CSS 都是样式排版（具有大小，行高等的字体），并带有一些颜色样式和居中布局。你必须研究设计才能知道要为每个属性选择的好值（这些样式来自 <a href="https://github.com/oxalorg/sakura">sakura.css</a>），但这里应用的 CSS 本身并不太复杂。结果如下所示：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1____rykiEopx6MCsnOAAcT8MA.png" alt="Example webpage with basic typography styling"  />
</p>
<p>如此不同！这就是 CSS 的承诺 - 一种向文档添加样式的简单方法，无需编程或复杂的逻辑。不幸的是，当我们使用 CSS 不仅仅是排版和颜色时，事情开始变得更加毛茸茸（我们将在下面解决）。</p>
<h3 id="使用-css-进行布局">使用 CSS 进行布局</h3>
<p>在 1990 年代，在 CSS 被广泛采用之前，在页面上布局内容的选项并不多。HTML 最初被设计为一种创建普通文档的语言，而不是带有侧边栏，列等的动态网站。在早期，布局通常使用 HTML 表格完成——整个网页将位于一个表格中，可用于在行和列中组织内容。这种方法奏效了，但缺点是内容和呈现的紧密耦合——如果你想改变网站的布局，就需要重写大量的 HTML。</p>
<p>一旦 CSS 进入场景，就强烈推动将内容（用 HTML 编写）与演示（用 CSS 编写）分开。因此，人们找到了将所有布局代码从 HTML（不再有表格）移动到 CSS 中的方法。需要注意的是，与 HTML 一样，CSS 也不是真正设计为在页面上布局内容，因此早期尝试这种关注点分离很难优雅地实现。</p>
<p>让我们通过上面的例子来看看这在实践中是如何工作的。在我们定义任何 CSS 布局之前，我们将首先重置任何边距和填充（这会影响布局计算），并为部分提供不同的颜色（不是为了让它漂亮，而是为了让每个部分在测试不同的布局时在视觉上脱颖而出）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* RESET LAYOUT AND ADD COLORS */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">max-width</span><span class="p">:</span> <span class="kc">inherit</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background</span><span class="p">:</span> <span class="mh">#fff</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">color</span><span class="p">:</span> <span class="mh">#4a4a4a</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">header</span><span class="o">,</span> <span class="nt">footer</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">font-size</span><span class="p">:</span> <span class="kc">large</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">text-align</span><span class="p">:</span> <span class="kc">center</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mf">0.3</span><span class="kt">em</span> <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background-color</span><span class="p">:</span> <span class="mh">#4a4a4a</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">color</span><span class="p">:</span> <span class="mh">#f9f9f9</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">nav</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">main</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background</span><span class="p">:</span> <span class="mh">#f9f9f9</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">aside</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">background</span><span class="p">:</span> <span class="mh">#eee</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>现在网站暂时看起来像：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__Ii8mtqbLaS5GIB3VJTpqSw.png" alt="Example website with css reset"  />
</p>
<center>单击<a href='https://codepen.io/peterxjang/pen/jZWzEV?editors=1100'>此处</a>查看实时示例</center>
<p>现在，我们已准备好使用 CSS 在页面上布局内容。我们将按时间顺序介绍三种不同的方法，从经典的基于 float 的布局开始。</p>
<h4 id="基于-float-的布局">基于 float 的布局</h4>
<p>CSS float 属性最初是为了在左侧或右侧的文本列内浮动图像（您经常在报纸上看到的）。2000 年代初期的 Web 开发人员利用了这样一个事实，即您不仅可以浮动图像，还可以浮动任何元素，这意味着您可以通过浮动整个内容 div 来创建行和列的错觉。但同样，浮动不是为此目的而设计的，因此很难以一致的方式创造这种错觉。</p>
<p>2006年，<a href="https://alistapart.com/">A List Apart </a>发表了一篇受欢迎的文章《<a href="https://alistapart.com/article/holygrail">寻找圣杯</a>》，其中概述了一种详细而彻底的方法来创建所谓的圣杯布局 - 一个页眉，三列和一个页脚。认为听起来相当简单的布局被称为圣杯是相当疯狂的，但这确实是当时使用纯 CSS 创建一致的布局是多么困难。</p>
<p>下面是基于该文章中描述的技术的示例的基于 float 的布局：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* FLOAT-BASED LAYOUT */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding-left</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding-right</span><span class="p">:</span> <span class="mi">190</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">min-width</span><span class="p">:</span> <span class="mi">240</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">header</span><span class="o">,</span> <span class="nt">footer</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin-left</span><span class="p">:</span> <span class="mi">-200</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin-right</span><span class="p">:</span> <span class="mi">-190</span><span class="kt">px</span><span class="p">;</span>     
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">main</span><span class="o">,</span> <span class="nt">nav</span><span class="o">,</span> <span class="nt">aside</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">position</span><span class="p">:</span> <span class="kc">relative</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">float</span><span class="p">:</span> <span class="kc">left</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">main</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">width</span><span class="p">:</span> <span class="mi">100</span><span class="kt">%</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">nav</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">width</span><span class="p">:</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">right</span><span class="p">:</span> <span class="mi">240</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin-left</span><span class="p">:</span> <span class="mi">-100</span><span class="kt">%</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">aside</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">width</span><span class="p">:</span> <span class="mi">130</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">margin-right</span><span class="p">:</span> <span class="mi">-100</span><span class="kt">%</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">footer</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">clear</span><span class="p">:</span> <span class="kc">both</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">*</span> <span class="nt">html</span> <span class="nt">nav</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">left</span><span class="p">:</span> <span class="mi">150</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>看看C SS，你可以看到有很多技巧需要让它工作（负边距， <code>clear: both</code> 属性，硬编码宽度计算等）——这篇 <a href="https://alistapart.com/article/holygrail">文章</a> 很好地详细解释了每个原因。结果如下所示：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1____2LrWDjxL8Q33fL6Ci4hIw.png" alt="Example website with float based layout"  />
</p>
<center>单击<a href='https://codepen.io/peterxjang/pen/VQeXYg?editors=1100'>此处</a>查看实时示例</center>
<p>这很好，但您可以从颜色中看到三列的高度不相等，并且页面没有填满屏幕的高度。这些问题是基于浮动的方法所固有的。浮动所能做的就是将内容放在一个部分的左侧或右侧——CSS 无法推断其他部分中内容的高度。这个问题直到多年后才有了直接的解决方案，采用了基于弹性框的布局。</p>
<h4 id="基于弹性框的布局">基于弹性框的布局</h4>
<p>flexbox CSS 属性于 2009 年首次提出，但直到 2015 年左右才被广泛采用。Flexbox 旨在定义空间在单个列或行中的分布方式，与使用浮动相比，这使其成为定义布局的更好候选项。这意味着在使用基于浮动的布局大约十年之后，Web开发人员终于能够使用 CSS 进行布局，而无需使用浮动所需的技巧。</p>
<p>下面是基于弹性框的示例布局，基于站点上描述的技术 <a href="https://philipwalton.github.io/solved-by-flexbox/demos/holy-grail/">由弹性框解决</a> （一个展示不同弹性框示例的流行资源）。请注意，为了使 flexbox 工作，我们需要在 HTML 中的三列周围增加一个包装器 div：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Modern CSS<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;index.css&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">header</span><span class="p">&gt;</span>This is the header.<span class="p">&lt;/</span><span class="nt">header</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>This is the main content.<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>This is the navigation section.<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">aside</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h4</span><span class="p">&gt;</span>This is an aside section.<span class="p">&lt;/</span><span class="nt">h4</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>...<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">aside</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">footer</span><span class="p">&gt;</span>This is the footer.<span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>这是 CSS 中的弹性框代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* FLEXBOX-BASED LAYOUT */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">flex-direction</span><span class="p">:</span> <span class="kc">column</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">.</span><span class="nc">container</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">display</span><span class="p">:</span> <span class="kc">flex</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">flex</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">main</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">flex</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">nav</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">flex</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">180</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">order</span><span class="p">:</span> <span class="mi">-1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">aside</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">flex</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">130</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>也就是说，与基于浮动的布局方法相比，更紧凑！flexbox 的属性和值乍一看有点令人困惑，但它消除了对许多技巧的需求，例如基于浮动的布局所必需的负边距——这是一个巨大的胜利。结果如下所示：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__I6qa6O31X__jlilGCrcSTsQ.png" alt="Example website with flexbox based layout"  />
</p>
<center>单击<a href='https://codepen.io/peterxjang/pen/xYZWGz?editors=1100'>此处</a>查看实时示例</center>
<p>好多了！这些列的高度都相等，并占据页面的整个高度。从某种意义上说，这似乎是完美的，但这种方法有几个小缺点。一个是浏览器支持 - 目前每个现代浏览器都支持f lexbox，但一些较旧的浏览器永远不会。幸运的是，浏览器供应商正在加大力度终止对这些旧浏览器的支持，为网页设计师提供更一致的开发体验。另一个缺点是我们需要将 <code>&lt;div class=&quot;container&quot;&gt;</code> 添加到标记中——避免它会很好。在理想的世界中，任何 CSS 布局都根本不需要更改 HTML 标记。</p>
<p>最大的缺点是 CSS 本身的代码 - flexbox 消除了许多浮动黑客，但代码并不像定义布局那样富有表现力。很难阅读 flexbox CSS 并直观地理解所有元素在页面上的布局方式。这会导致在编写基于 flexbox 的布局时进行大量猜测和检查。</p>
<p>再次需要注意的是，flexbox 旨在将元素间隔在单个列或行内 - 它不是为整个页面布局设计的！尽管它做了一个有用的工作（比基于浮动的布局好得多），但专门开发了不同的规范来处理具有多行和多列的布局。此规范称为 CSS 网格。</p>
<h4 id="基于网格的布局">基于网格的布局</h4>
<p>CSS 网格于 2011 年首次提出（在 flexbox 提案之后不久），但花了很长时间才在浏览器中得到广泛采用。截至2018年初，大多数现代浏览器都支持 CSS 网格（甚至比一两年前有了巨大的改进）。</p>
<p>下面是基于此 <a href="https://css-tricks.com/css-grid-one-layout-multiple-ways/">CSS 技巧文章</a> 中的第一种方法的示例的基于网格的布局。请注意，对于此示例，我们可以摆脱必须为基于 flexbox 的布局添加的 <code>&lt;div class=&quot;container&quot;&gt;</code> — 我们可以简单地使用原始 HTML，而无需修改。以下是 CSS 的外观：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="c">/* GRID-BASED LAYOUT */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">display</span><span class="p">:</span> <span class="k">grid</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">min-height</span><span class="p">:</span> <span class="mi">100</span><span class="kt">vh</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-template-columns</span><span class="p">:</span> <span class="mi">200</span><span class="kt">px</span> <span class="mi">1</span><span class="n">fr</span> <span class="mi">150</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-template-rows</span><span class="p">:</span> <span class="n">min-content</span> <span class="mi">1</span><span class="n">fr</span> <span class="n">min-content</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">header</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-row</span><span class="p">:</span> <span class="mi">1</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-column</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">4</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">nav</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-row</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-column</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">main</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-row</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-column</span><span class="p">:</span> <span class="mi">2</span> <span class="o">/</span> <span class="mi">3</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">20</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">aside</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-row</span><span class="p">:</span> <span class="mi">2</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-column</span><span class="p">:</span> <span class="mi">3</span> <span class="o">/</span> <span class="mi">4</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">padding</span><span class="p">:</span> <span class="mi">0</span> <span class="mi">10</span><span class="kt">px</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">footer</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-row</span><span class="p">:</span> <span class="mi">3</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="k">grid-column</span><span class="p">:</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">4</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>结果在视觉上与基于弹性框的布局相同。但是，这里的 CSS 在清楚地表达所需布局的意义上得到了很大的改进。列和行的大小和形状在正文选择器中定义，网格中的每个项目都由其位置直接定义。</p>
<p>可能令人困惑的一件事是 <code>grid-column</code> 属性，它定义了列的起点/终点。这可能会令人困惑，因为在此示例中，有 3 列，但数字范围从 1 到 4。当你看下面的图片时，它会变得更加清晰：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__GOJJrm9Mhp__Qr319Bc7V9Q.png" alt="Example website with grid based layout"  />
</p>
<center>单击<a href='https://codepen.io/peterxjang/pen/vdLROM?editors=1100'>此处</a>查看实时示例</center>
<p>第一列从 1 开始，到 2 结束，第二列从 2 开始，到 3 结束，第三列从 3 开始，到 4 结束。标题的 <code>grid-column</code> 为 <code>1 / 4</code> 以跨越整个页面，导航具有 <code>grid-column</code> of <code>1 / 2</code> 以跨越第一列，依此类推。</p>
<p>一旦你习惯了网格语法，它显然成为在 CSS 中表达布局的理想方式。基于网格的布局唯一真正的缺点是浏览器支持，在过去一年中再次有了很大的改进。CSS 网格作为 CSS 中第一个真正为布局而设计的工具的重要性怎么强调都不为过。从某种意义上说，网页设计师在制作创意布局时总是必须非常保守，因为到目前为止的工具一直很脆弱，使用各种黑客和解决方法。现在 CSS 网格已经存在，有可能出现以前从未有过的创意布局设计的新浪潮 - 激动人心的时代！</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__JGkKSd3Hs7Pq17Qt5xTEzw.png" alt="Dinosaur comic panel 2"  />
</p>
<h3 id="将-css-预处理器用于新语法">将 CSS 预处理器用于新语法</h3>
<p>到目前为止，我们已经介绍了使用 CSS 进行基本样式和布局。现在，我们将介绍为帮助改善将 CSS 作为语言本身使用的体验而创建的工具，从 CSS 预处理器开始。</p>
<p>CSS 预处理器允许您使用不同的语言编写样式，该语言被转换为浏览器可以理解的 CSS。这在浏览器实现新功能非常缓慢的时代至关重要。第一个主要的 CSS 预处理器是 <a href="http://sass-lang.com/">Sass</a>，于2006年发布。它具有新的简洁语法（缩进而不是括号，没有分号等），并添加了 CSS 中缺少的高级功能，例如变量，帮助程序函数和计算。下面是我们前面示例的颜色部分使用带有变量的 Sass 的样子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sass" data-lang="sass"><span class="line"><span class="cl"><span class="na">$dark-color</span><span class="o">:</span> <span class="mh">#4a4a4a</span>  
</span></span><span class="line"><span class="cl"><span class="na">$light-color</span><span class="o">:</span> <span class="mh">#f9f9f9</span>  
</span></span><span class="line"><span class="cl"><span class="na">$side-color</span><span class="o">:</span> <span class="mh">#eee</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">body</span>  
</span></span><span class="line"><span class="cl"><span class="err">  </span><span class="na">color</span><span class="o">:</span> <span class="nv">$dark-color</span>  
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="nt">header</span><span class="o">,</span> <span class="nt">footer</span>  
</span></span><span class="line"><span class="cl"><span class="err">  </span><span class="na">background-color</span><span class="o">:</span> <span class="nv">$dark-color</span>  
</span></span><span class="line"><span class="cl"><span class="err">  </span><span class="na">color</span><span class="o">:</span> <span class="nv">$light-color</span>  
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="nt">main</span>  
</span></span><span class="line"><span class="cl"><span class="err">  </span><span class="na">background</span><span class="o">:</span> <span class="nv">$light-color</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nt">nav</span><span class="o">,</span> <span class="nt">aside</span>  
</span></span><span class="line"><span class="cl"><span class="err">  </span><span class="na">background</span><span class="o">:</span> <span class="nv">$side-color</span>
</span></span></code></pre></div><p>请注意如何使用 <code>$</code> 符号定义可重用变量，并删除括号和分号，从而使语法看起来更简洁。Sass 中更简洁的语法很好，但是像变量这样的功能在当时是革命性的，因为它们为编写干净和可维护的 CSS 开辟了新的可能性。</p>
<p>要使用 Sass，您需要 <a href="https://www.ruby-lang.org/en/documentation/installation/">安装 Ruby</a>，这是一种用于将 Sass 代码编译为常规 CSS 的编程语言。然后，您需要安装 <a href="http://sass-lang.com/install">Sass gem</a>，然后<a href="http://sass-lang.com/guide#topic-1">在命令行中运行命令</a>以将 <code>.sass</code> 文件转换为 <code>.css</code> 文件。下面是命令的外观示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sass --watch index.sass index.css
</span></span></code></pre></div><p>此命令会将编写在名为 <code>index.sass</code> 的文件中的 Sass 代码转换为名为 <code>index.css</code> 的文件中的常规 CSS（ <code>--watch</code> 参数告诉它在保存时输入更改时随时运行，这很方便）。</p>
<p>这个过程被称为构建步骤，这在 2006 年是一个相当大的进入障碍。如果您习惯了像 Ruby 这样的编程语言，那么这个过程非常简单。但是当时许多前端开发人员只使用 HTM L和 CSS，不需要任何这样的工具。因此，让某人学习整个生态系统以获得 CSS 预处理器提供的功能是一个很大的要求。</p>
<p>2009年，<a href="http://lesscss.org/">Less</a> CSS 预处理器发布。它也是用 Ruby 编写的，并提供了与 Sass 类似的功能。关键的区别在于语法，它被设计为尽可能接近 CSS。这意味着任何 CSS 代码都是有效的 Less 代码。下面是使用 Less 语法编写的相同示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">@dark-color: #4a4a4a;  
</span></span><span class="line"><span class="cl">@light-color: #f9f9f9;  
</span></span><span class="line"><span class="cl">@side-color: #eee;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">body {  
</span></span><span class="line"><span class="cl">  color: @dark-color;  
</span></span><span class="line"><span class="cl">}  
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">header, footer {  
</span></span><span class="line"><span class="cl">  background-color: @dark-color;  
</span></span><span class="line"><span class="cl">  color: @light-color;  
</span></span><span class="line"><span class="cl">}  
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">main {  
</span></span><span class="line"><span class="cl">  background: @light-color;  
</span></span><span class="line"><span class="cl">}
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">nav, aside {  
</span></span><span class="line"><span class="cl">  background: @side-color;  
</span></span><span class="line"><span class="cl">}
</span></span></code></pre></div><p>它几乎相同（变量的前缀为 <code>@</code> 而不是 <code>$</code> ），但不像 Sass 示例那样漂亮，具有与 CSS 相同的大括号和分号。然而，它更接近 CSS 的事实使开发人员更容易采用它。2012年，Less 被重写为使用 JavaScript（特别是 <a href="https://nodejs.org/en/">Node.js</a>）而不是 Ruby 进行编译。这使得 Less 比它的 Ruby 同行更快，并且对已经在工作流程中使用 Node.js 的开发人员更具吸引力。</p>
<p>要将此代码转换为常规 CSS，您首先需要 <a href="https://nodejs.org/en/download/">安装 Node.js</a>，然后 <a href="http://lesscss.org/#using-less-installation">安装 Less</a>，然后运行如下命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">lessc index.less index.css
</span></span></code></pre></div><p>此命令会将在名为 <code>index.less</code> 的文件中编写的较少代码转换为名为 <code>index.css</code> 的文件中的常规 CSS。请注意， <code>lessc</code> 命令没有监视文件更改的方法（与 <code>sass</code> 命令不同），这意味着您需要安装不同的工具来自动监视和编译 <code>.less</code> 个文件，这增加了过程的复杂性。同样，对于习惯使用命令行工具的程序员来说，这并不困难，但对于只想使用 CSS 预处理器的其他人来说，这是一个重要的进入障碍。</p>
<p>随着 Less 获得思想份额，Sass 开发人员在 2010 年通过添加一个名为 <a href="http://sass-lang.com/documentation/file.SASS_CHANGELOG.html#SCSS__Sassy_CSS_">SCSS</a> 的新语法（这是一个类似于 Less 的 CSS 超集）进行了调整。他们还发布了 <a href="http://sass-lang.com/libsass">LibSass</a>，这是 Ruby Sass 引擎的 C/C++ 端口，这使得它更快，能够在各种语言中使用。</p>
<p>另一个替代的 CSS 预处理器是 <a href="http://stylus-lang.com/">Stylus</a>，它于2010年问世，用 Node.js 编写，与 Sass or Less 相比，它专注于更简洁的语法。通常关于 CSS 预处理器的讨论集中在这三种最流行的（Sass，Less 和 Stylus）上。最后，它们在提供的功能方面都非常相似，因此选择它们中的任何一个都不会出错。</p>
<p>然而，有些人认为 CSS 预处理器变得越来越不必要，因为浏览器终于开始实现它们的一些功能（如变量和计算）。此外，还有一种称为 CSS 后处理的不同方法，它有可能使 CSS 预处理器过时（显然并非没有争议），我们接下来将讨论。</p>
<h3 id="将-css-后处理器用于变革性功能">将 CSS 后处理器用于变革性功能</h3>
<p>CSS 后处理器使用 JavaScript 来分析您的 CSS 并将其转换为有效的 CSS。从这个意义上说，它与 CSS 预处理器非常相似 - 您可以将其视为解决相同问题的不同方法。关键的区别在于，虽然 CSS 预处理器使用特殊语法来标识需要转换的内容，但 CSS 后处理器可以解析常规 CSS 并转换它，而无需任何特殊语法。最好用一个例子来说明这一点。让我们看一下我们最初在上面定义的用于设置标题标签样式的 CSS 的一部分：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-ms-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-moz-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">  <span class="kp">-webkit-</span><span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>    
</span></span><span class="line"><span class="cl">  <span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>粗体中的项目称为供应商前缀。浏览器在实验性地添加新的 CSS 功能时会使用供应商前缀，从而为开发人员提供了一种在最终实现时使用这些新 CSS 属性的方法。这里的前缀 <code>-ms</code> 代表 Microsoft Internet Explorer， <code>-moz</code> 前缀代表 Mozilla Firefox， <code>-webkit</code> 前缀代表使用 webkit 渲染引擎的浏览器（如 Google Chrome、Safari 和较新版本的 Opera）。</p>
<p>记住输入所有这些不同的供应商前缀来使用这些 CSS 属性是非常烦人的。拥有一个可以根据需要自动放入供应商前缀的工具会很好。我们可以用 CSS 预处理器来实现这一点。例如，您可以使用 SCSS 执行以下操作：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-scss" data-lang="scss"><span class="line"><span class="cl"><span class="k">@mixin</span><span class="nf"> hyphens</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="na">-ms-hyphens</span><span class="o">:</span> <span class="nv">$value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="na">-moz-hyphens</span><span class="o">:</span> <span class="nv">$value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="na">-webkit-hyphens</span><span class="o">:</span> <span class="nv">$value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">  <span class="na">hyphens</span><span class="o">:</span> <span class="nv">$value</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">@include</span><span class="nd"> hyphens</span><span class="p">(</span><span class="ni">auto</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在这里，我们使用 <a href="http://sass-lang.com/guide#topic-6">Sass 的 mixin 功能</a>，它允许您定义一次 CSS 块并在其他任何地方重用它。当此文件编译为常规 CSS 时，任何 <code>@include</code> 语句都将替换为匹配 <code>@mixin</code> 的 CSS。总的来说，这不是一个糟糕的解决方案，但您负责在第一次为任何需要供应商前缀的 CSS 属性定义每个 mixin。这些 mixin 定义将需要维护，因为您可能希望在浏览器更新其 CSS 兼容性时删除不再需要的特定供应商前缀。</p>
<p>与其使用 mixins，不如简单地编写普通的 CSS 并让工具自动识别需要前缀的属性并相应地添加它们。CSS 后处理器能够做到这一点。例如，如果您将 <a href="http://postcss.org/">PostCSS</a> 与 <a href="https://github.com/postcss/autoprefixer">自动前缀插件</a> 一起使用，则可以编写完全正常的 CSS，而无需任何供应商前缀，并让后处理器完成其余的工作：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="nt">h1</span><span class="o">,</span> <span class="nt">h2</span><span class="o">,</span> <span class="nt">h3</span><span class="o">,</span> <span class="nt">h4</span><span class="o">,</span> <span class="nt">h5</span><span class="o">,</span> <span class="nt">h6</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">  <span class="k">hyphens</span><span class="p">:</span> <span class="kc">auto</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>当您在此代码上运行 CSS 后处理器时，结果是 <code>hyphens: auto;</code> 行被替换为所有适当的供应商前缀（如自动前缀插件中定义的那样，您不需要直接管理）。这意味着您可以编写常规 CSS，而不必担心任何兼容性或特殊语法，这很好！</p>
<p>除了 PostCSS 的自动前缀之外，还有一些插件可以让你做非常酷的事情。<a href="http://cssnext.io/">cssnext</a> 插件允许您使用实验性的 CSS 功能。<a href="https://github.com/css-modules/css-modules">CSS 模块 </a>插件会自动更改类以避免名称冲突。<a href="https://stylelint.io/">stylelint</a> 插件可识别 CSS 中的错误和不一致的约定。这些工具在过去一两年才真正开始起飞，展示了以前从未有过的开发人员工作流程！</p>
<p>然而，这一进展是要付出代价的。与使用 CSS 预处理器相比，安装和使用 CSS 后处理器（如 PostCSS）更为复杂。您不仅必须使用命令行安装和运行工具，还需要安装和配置单个插件并定义一组更复杂的规则（例如您要针对的浏览器等）。许多开发人员不是直接从命令行运行PostCSS，而是将其集成到可配置的构建系统中，如 <a href="https://github.com/postcss/postcss#runners">Grunt</a>，<a href="https://github.com/postcss/postcss#gulp">Gulp</a> 或 <a href="https://github.com/postcss/postcss#webpack">webpack</a>，这有助于管理您可能在前端工作流程中使用的所有不同构建工具。</p>
<blockquote>
<p>注意：如果您以前从未使用过现代前端构建系统，那么学习使现代前端构建系统工作的所有必要部分可能会非常不知所措。如果你想从头开始，请查看我的文章 <a href="https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html">Modern JavaScript Explain For Dinosaurs</a>，其中介绍了前端开发人员利用这些现代功能所需的所有 JavaScript 工具。</p>
</blockquote>
<p>值得注意的是，围绕 CSS 后处理器存在一些争论。有些人认为这个术语令人困惑（<a href="https://css-tricks.com/the-trouble-with-preprocessing-based-on-future-specs/">一种观点</a>认为它们都应该被称为 CSS 预处理器，<a href="https://medium.com/@ddprrt/deconfusing-pre-and-post-processing-d68e3bd078a3">另一种观点</a>是它们应该简单地称为 CSS 处理器等）。有些人认为 CSS 后处理器完全消除了对 CSS 预处理器的需求，有些人认为它们应该一起使用。无论如何，很明显，如果你有兴趣推动 CSS 的可能性，那么学习如何使用 CSS 后处理器是值得的。</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__53X7__j093ePj9MOxrkA5sw.png" alt="Dinosaur comic panels 3 and 4"  />
</p>
<h3 id="使用-css-方法实现可维护性">使用 CSS 方法实现可维护性</h3>
<p>像 CSS 预处理器和 CSS 后处理器这样的工具在改善 CSS 开发体验方面大有帮助。但是仅靠这些工具不足以解决维护大型 CSS 代码库的问题。为了解决这个问题，人们开始记录关于如何编写 CSS 的不同指南，通常称为 CSS 方法。</p>
<p>在我们深入研究任何特定的 CSS 方法之前，重要的是要了解是什么让 CSS 随着时间的推移难以维护。关键问题是 CSS 的全局性质 — 您定义的每个样式都全局应用于页面的每个部分。你的工作是提出一个详细的命名约定来维护唯一的类名，或者与 <a href="https://www.smashingmagazine.com/2007/07/css-specificity-things-you-should-know/">特异性规则</a> 争论，以确定应用哪种样式来应用任何给定的元素。CSS 方法提供了一种有组织的方式来编写 CSS，以避免这些带有大型代码库的痛点。让我们按时间顺序大致看一下一些流行的方法。</p>
<h4 id="oocss">OOCSS</h4>
<p><a href="https://github.com/stubbornella/oocss/wiki">OOCSS</a>（面向对象的CSS）于2009年首次提出，是一种围绕两个主要原则组织的方法论。第一个原则是分离结构和皮肤。这意味着定义结构（如布局）的 CSS 不应与定义皮肤的 CSS （如颜色、字体等）混合在一起。这样可以更轻松地“重新换肤”应用程序。第二个原则是单独的容器和内容。这意味着将元素视为可重用的对象，其关键思想是无论对象在页面上的位置如何，它都应该看起来相同。</p>
<p>OOCSS 提供了经过深思熟虑的指导方针，但对方法的细节不是很规范。后来的方法，如 SMACSS 采用了核心概念，并添加了更多细节，使其更容易上手。</p>
<h4 id="smacss">SMACSS</h4>
<p><a href="https://smacss.com/">SMACSS</a>（CSS 的可扩展和模块化架构）于 2011 年推出，作为一种基于在 5 个不同类别中编写 CSS 的方法——基本规则、布局规则、模块、状态规则和主题规则。SMACSS 方法还推荐了一些命名约定。对于布局规则，应在类名前面加上 <code>l-</code> 或 <code>layout-</code> 。对于状态规则，应在描述状态的类名（如 <code>is-hidden</code> 或 <code>is-collapsed</code> ）前面添加前缀。</p>
<p>与 OOCSS 相比，SMACSS 的方法有更多的细节，但在决定哪些 CSS 规则应该归入哪个类别时，它仍然需要仔细考虑。后来像 BEM 这样的方法取消了一些决策，使其更容易采用。</p>
<h4 id="bem">BEM</h4>
<p><a href="https://en.bem.info/">BEM</a>（块，元素，修饰符）于2010年推出，作为一种围绕将用户界面划分为独立块的想法组织的方法。块是可重用的组件（例如搜索表单，定义为 <code>&lt;form class=&quot;search-form&quot;&gt;&lt;/form&gt;</code> ）。元素是块的较小部分，不能单独重用（例如搜索表单中的按钮，定义为 <code>&lt;button class=&quot;search-form__button&quot;&gt;Search&lt;/button&gt;</code> ）。修饰符是定义块或元素的外观、状态或行为的实体（例如，定义为 <code>&lt;button class=&quot;search-form__button search-form__button--disabled&quot;&gt;Search&lt;/button&gt;</code> 的禁用搜索表单按钮）。</p>
<p>BEM 方法易于理解，具有特定的命名约定，允许新手应用它，而无需做出复杂的决策。某些人的缺点是类名可能非常冗长，并且不遵循 <a href="https://css-tricks.com/semantic-class-names/">编写语义类名</a> 的传统规则。后来的方法，如 Atomic CSS，将把这种非传统的方法带到一个全新的层次！</p>
<h4 id="atomic-css">Atomic CSS</h4>
<p><a href="https://www.smashingmagazine.com/2013/10/challenging-css-best-practices-atomic-approach/">Atomic CSS</a>（也称为函数式 CSS）于2014年推出，作为一种围绕创建小型单一用途类（名称基于视觉功能）的想法进行组织的方法。这种方法与 OOCSS，SMACS S和 BEM 完全相反 - Atomic CSS 不是将页面上的元素视为可重用的对象，而是完全忽略这些对象，并使用可重用的单一用途实用程序类来设置每个元素的样式。因此，您将拥有类似 <code>&lt;button class=&quot;f6 br3 ph3 pv2 white bg-purple hover-bg-light-purple&quot;&gt;Search&lt;/button&gt;</code> 的东西，而不是 <code>&lt;button class=&quot;search-form__button&quot;&gt;Search&lt;/button&gt;</code> 之类的东西。</p>
<p>如果你对这个例子的第一反应是惊恐地退缩，你并不孤单——许多人认为这种方法完全违反了既定的 CSS 最佳实践。但是，围绕质疑这些最佳实践在不同场景中的有效性的想法，已经有很多很好的讨论。本文很好地强调了传统的关注点分离最终如何创建依赖于 HTML 的 CSS（即使使用 BEM 等方法），而原子或函数式方法是创建依赖于 CSS 的 HTML。两者都没有错，但仔细检查后，您会发现 CSS 和 HTML 之间的真正关注点分离永远无法完全实现！</p>
<p>其他 CSS 方法论，如 JS中的CSS ，实际上接受了 CSS 和 HTML 将始终相互依赖的概念，导致了迄今为止最具争议的方法之一。</p>
<h4 id="js-中的-css">JS 中的 CSS</h4>
<p><a href="http://blog.vjeux.com/2014/javascript/react-css-in-js-nationjs.html">JS中的CSS </a> 于2014年引入，作为一种围绕定义 CSS 样式而不是在单独的样式表中而是直接在每个组件本身中定义的方法。它是作为 <a href="https://reactjs.org/">React JavaScript 框架</a> 的一种方法引入的（它已经采用了有争议的方法，即直接在 JavaScript 中定义组件的 HTML，而不是单独的 HTML 文件）。最初该方法使用内联样式，但后来的实现使用 JavaScript 生成 CSS（具有基于组件的唯一类名）并将其插入到带有样式标签的文档中。</p>
<p>JS 方法中的 CSS 再次完全违背了既定的 CSS 关注点分离最佳实践。这是因为随着时间的推移，我们使用网络的方式发生了巨大变化。最初， Web 主要由静态网站组成 - 在这里，HTML 内容与 CSS 表示的分离很有意义。如今，Web 用于创建动态 Web 应用程序 - 在这里，通过可重用的组件将事物分离出来是有意义的。</p>
<p>JS 中的CSS 的目标是能够定义具有硬边界的组件，这些边界由它们自己封装的 HTML/CSS/JS 组成，这样一个组件中的 CSS 就没有机会影响任何其他组件。React 是最早被广泛采用的框架之一，它推动了这些具有硬边界的组件，影响了其他主要框架，如 Angular、Ember 和 Vue.js 效仿。需要注意的是，JS 方法中的 CSS 是相对较新的，在这个领域有很多实验正在进行，因为开发人员试图在 Web 应用程序组件时代为 CSS 建立新的最佳实践。</p>
<p>很容易被许多不同的 CSS 方法所淹没，但重要的是要记住，没有一种正确的方法 - 你应该将它们视为不同的可能工具，当你有一个足够复杂的 CSS 代码库时，你可以使用。有不同的经过深思熟虑的选项可供选择，从长远来看，这个领域发生的所有实验都会使每个开发人员受益！</p>
<h3 id="结论">结论</h3>
<p>简而言之，这就是现代 CSS。我们介绍了使用 CSS 进行具有排版属性的基本样式，使用 CSS 进行布局（使用基于浮点、弹性框和网格的方法），使用 CSS 预处理器处理新语法（如变量和 mixins），使用 CSS 后处理器实现变革性功能（如添加供应商前缀），以及使用 CSS 方法实现可维护性以克服 CSS 样式的全局性质。我们没有机会深入研究CSS提供的许多其他功能，例如高级选择器，过渡，动画，形状，动态变量 - 列表不胜枚举。CSS 有很多内容需要涵盖 - 任何说它很容易的人可能都不知道它的一半！</p>
<p>现代 CSS 的使用肯定会令人沮丧，因为它继续快速变化和发展。但重要的是要记住 Web 如何随着时间的推移而发展的历史背景，很高兴知道有很多聪明的人愿意构建具体的工具和方法来帮助 CSS 最佳实践与 Web 一起发展。作为一名开发人员，这是一个激动人心的时刻，我希望这些信息可以作为路线图，在您的旅程中为您提供帮助！</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__7Z__JtjrzLil6LFrM7lrNJQ.png" alt="Dinosaur comic panel 5"  />
</p>
<p>再次特别感谢 <a href="https://twitter.com/ryanqnorth">@ryanqnorth</a> 的 <a href="http://www.qwantz.com/">恐龙漫画</a>，自2003年以来（当恐龙统治网络时），它提供了一些最好的荒诞幽默。</p>
<p>原文链接：<a href="https://peterxjang.com/blog/modern-css-explained-for-dinosaurs.html">https://peterxjang.com/blog/modern-css-explained-for-dinosaurs.html</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>[译]为恐龙解释现代HTML</title>
      <link>https://blog.chensoul.com/posts/2023/06/20/modern-html-explained-for-dinosaurs/</link>
      <pubDate>Tue, 20 Jun 2023 09:00:00 +0800</pubDate>
      
      <guid>https://blog.chensoul.com/posts/2023/06/20/modern-html-explained-for-dinosaurs/</guid>
      <description>在三种主要的前端技术（ HTML，CSS 和 JavaScript ）中，HTML 仍然是最一致的。如果您唯一关心的是创建内容，那么 1990 年代的 HTML 文档看起来与 2018 年创建的文档</description>
      <content:encoded><![CDATA[<p><img loading="lazy" src="https://peterxjang.com/img/1__EEHKg3z__FAk0ipZDFuWKcw.png" alt="Dinosaur comic panel 1"  />
</p>
<p>在三种主要的前端技术（ HTML，CSS 和 JavaScript ）中，HTML 仍然是最一致的。如果您唯一关心的是创建内容，那么 1990 年代的 HTML 文档看起来与 2018 年创建的文档非常相似：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello there!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>你有带有标签和内容的元素，带有属性的标签——除了第一行的简化文档类型外，没有太大变化！然而，多年来，Web 开发已经发生了巨大的转变，从创建静态网站（专注于内容）到创建动态 Web 应用程序（专注于交互）——这是 Web 最初设计的目的。创建仍然语义和可访问的自定义用户界面，使用属性和工具提高性能，组织代码以进行重用和可维护性 - 现在有一组全新的问题在起作用。</p>
<p>本文的目的是提供一个历史背景，说明 HTML 如何在2018年演变成今天的语言。我们将从结构良好且易于访问的 HTML 的基础知识开始，就像古代的恐龙一样。然后，我们将介绍不同的技术来提高性能、响应能力和可维护性。CSS 和 JavaScript 将不可避免地进入这个对话；出于本文的目的，将从它们如何影响 HTML 本身编写的角度来介绍它们。通过了解这段历史，您将能够充分利用该语言经常被忽视的新旧功能。让我们开始吧！</p>
<h3 id="使用语义元素编写内容">使用语义元素编写内容</h3>
<p>让我们向前面的 HTML 示例添加更多内容。现在，我们将创建一个基本网站，其中包含一个带有链接和搜索输入的导航部分，一个用于显示一般网站信息的大型展示部分（通常称为英雄部分或 <a href="https://en.wikipedia.org/wiki/Jumbotron">巨型屏幕</a> ），文章的三列部分和一个版权信息的页脚部分。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Info<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;hero&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello there!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>General info about the page goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Learn more<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;grid&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>First Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Second Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Third Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;footer&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Copyright info goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>在这里，我们使用带有 <code>&lt;div&gt;</code> 、 <code>&lt;h1&gt;</code> 、 <code>&lt;h2&gt;</code> 、 <code>&lt;p&gt;</code> 等标签的基本元素来标记内容。这里的 HTML 是有效的，但它不是完全语义的——也就是说，标签不能尽可能地传达内容的含义。</p>
<p>当 HTML5 在2008年推出时，它提供了新的元素来改进文档语义。以下是使 HTML 更具语义性的尝试：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;description&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;author&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="c">&lt;!--[if lt IE 9]&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">        &lt;script src=&#34;(https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js&#34;&gt;&lt;/script&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">      &lt;![endif]--&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;navigation&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Info<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;hero&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello there!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>General info about the page goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Learn more<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;grid&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>First Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Second Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">article</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;column&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Third Heading<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Article content goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>View details<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">article</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">footer</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;contentinfo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Copyright info goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>让我们来看看其中的一些变化：</p>
<ul>
<li><code>&lt;html lang=&quot;en&quot;&gt;</code> 指定文档的语言，这有助于搜索引擎和浏览器识别适当的内容。</li>
<li>额外的 <code>&lt;meta&gt;</code> 标记提供有关搜索引擎和其他服务在页面上不直接可见的网站的信息。它们还提供有关如何调整不同设备上的内容大小的信息。</li>
<li><code>&lt;nav&gt;</code> 、 <code>&lt;main&gt;</code> 、 <code>&lt;section&gt;</code> 、 <code>&lt;article&gt;</code> 和 <code>&lt;footer&gt;</code> 标记为 HTML 文档提供了更易于访问的结构（与通用的 <code>&lt;div&gt;</code> 标记相比）。这些标签是在HTML5中引入的。</li>
<li><code>&lt;!-- [if lt IE 9]&gt;...--&gt;</code> 注释添加了一个 JavaScript 文件，该文件仅适用于旧版本的 Internet Explorer，因为它们不支持上述 HTML5 标签。请注意，如今许多最近的网站都没有包含该评论，因为支持这些浏览器的网站越来越少。</li>
<li><code>role</code> 属性还提供辅助功能信息。请注意，使用 <code>&lt;nav&gt;</code> 标记通常足以确保可访问性，如果无法识别 <code>&lt;nav&gt;</code> 标记，则使用额外的 <code>role=&quot;navigation&quot;</code> 。</li>
</ul>
<p>编写语义 HTML 似乎并不重要，尤其是当它不影响网站的视觉外观时。但是，您的网站不仅被人类查看 - 网络浏览器，搜索引擎，屏幕阅读器都依赖于语义HTML才能正常运行。</p>
<h3 id="使用-wai-aria-属性改进可访问性">使用 WAI-ARIA 属性改进可访问性</h3>
<p>让我们看一下上面示例中导航栏中的搜索输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>此输入元素使用 <code>placeholder</code> 属性而不是标签元素让用户知道其用途。这适用于人类，但它不是正确的语义 HTML，屏幕阅读器和其他技术可能会错过。使其可访问的方法是使用 <code>aria-label</code> 属性：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>WAI-ARIA 代表“Web 可访问性倡议 — 可访问的富互联网应用程序”（通常简称为 ARIA），是一组属性，当语义标记不够时，使 HTML 更易于访问。上一节中看到的 <code>role</code> 属性是 ARIA 属性。到目前为止，这些属性似乎是很小的变化，但是当我们使用HTML来处理基本文档之外的事情时，它变得更加重要。</p>
<p>让我们看一个更复杂的例子——假设我们想在 HTML 中添加一些选项卡式内容，以提供有关如何在 Windows，Mac 和 Linux 上安装某些程序的说明。由于没有在 HTML 中构建选项卡的本机方法，因此我们必须使用无序列表、链接和 div 之类的东西来构建我们自己的选项卡标记。在这里，我们可以使用 <code>role</code> 、 <code>aria-controls</code> 、 <code>aria-selected</code> 和 <code>aria-labelledby</code> 等可访问性属性来标记 HTML，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tablist&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;windows-tab&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#windows&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tab&#34;</span> <span class="na">aria-controls</span><span class="o">=</span><span class="s">&#34;windows&#34;</span> <span class="na">aria-selected</span><span class="o">=</span><span class="s">&#34;true&#34;</span><span class="p">&gt;</span>Windows<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;mac-tab&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#mac&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tab&#34;</span> <span class="na">aria-controls</span><span class="o">=</span><span class="s">&#34;mac&#34;</span> <span class="na">aria-selected</span><span class="o">=</span><span class="s">&#34;false&#34;</span><span class="p">&gt;</span>Mac<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">a</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;linux-tab&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#linux&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tab&#34;</span> <span class="na">aria-controls</span><span class="o">=</span><span class="s">&#34;linux&#34;</span> <span class="na">aria-selected</span><span class="o">=</span><span class="s">&#34;false&#34;</span><span class="p">&gt;</span>Linux<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;windows&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tabpanel&#34;</span> <span class="na">aria-labelledby</span><span class="o">=</span><span class="s">&#34;windows-tab&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;http://1000logos.net/wp-content/uploads/2017/04/Microsoft-Logo.png&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;microsoft logo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    ...  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;mac&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tabpanel&#34;</span> <span class="na">aria-labelledby</span><span class="o">=</span><span class="s">&#34;mac-tab&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://i.ytimg.com/vi/ipOzBWuYZvg/maxresdefault.jpg&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;apple logo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    ...  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&#34;linux&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;tabpanel&#34;</span> <span class="na">aria-labelledby</span><span class="o">=</span><span class="s">&#34;linux-tab&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">img</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://noware.tech/wp-content/uploads/sites/140/2018/04/linux-1024x565.jpg&#34;</span> <span class="na">alt</span><span class="o">=</span><span class="s">&#34;linux logo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    ...  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>如果没有这些辅助功能属性，选项卡式内容将与选项卡控件没有可识别的关系。具有这些属性有助于屏幕阅读器识别内容，启用具有正确制表符的键盘快捷键等。使用适当的 ARIA 属性本身就是一项完整的研究——要更深入地了解，请查看 <a href="https://www.w3.org/TR/wai-aria-practices-1.1/">官方指南</a>。</p>
<p>所有这些似乎都是为了提高网站的可访问性而做很多工作。重要的是要承认可访问性是网络的一个组成部分，网络被设计为一个与每个人自由共享信息的平台，而不仅仅是少数人。使网站可访问可以改善每个访问者的体验 - 例如，可访问的键盘快捷键可以帮助那些永远无法使用鼠标的人，那些暂时无法使用鼠标的人，以及那些不喜欢不使用鼠标的人（也就是大多数程序员）。在处理其他功能时，可访问性很容易被忽视，但不应忽视。</p>
<blockquote>
<p>如果您有兴趣改善网站的可访问性，那么有 <a href="https://a11yproject.com/">A11Y项目</a> 中的清单，这是 <a href="https://a11yproject.com/checklist">一个</a> 很好的起点。然而，使网站可访问不仅仅是检查项目——它总是可以改进的，就像用户体验的任何方面一样。使您的网站可访问的最佳方法是实际使用您的网站，就像受众中的不同人一样 - 使用屏幕阅读器进行测试，尝试仅使用键盘而不是鼠标，使用 <a href="https://www.toptal.com/designers/colorfilter">色盲过滤器</a> 查看您的网站等。</p>
</blockquote>
<h3 id="用css和javascript让它变得漂亮">用CSS和JavaScript让它变得漂亮</h3>
<p>如果我们到目前为止看一下网站，它看起来就像你期望的那样光秃秃的：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__VCXY__h9ynSUJ__9piFx9ATA.png" alt="Example website without styling"  />
</p>
<p>为了美化它，我们将添加一个 CSS 文件来应用样式。现在，如果你不是特别擅长 CSS，可能需要很多天才能使这个网站看起来很漂亮。与其编写自己的 CSS，不如始终使用 CSS 框架，该框架本质上是其他人以可重用的方式编写的 CSS。</p>
<p>一个流行的 CSS 框架是 Bootstrap，它于2011年问世，并迅速被 <a href="https://www.ostraining.com/blog/coding/bootstrap-popularity/">数百万个网站</a> 采用和使用。让我们看看使用 Bootstrap 的一些代码会是什么样子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;description&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;author&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--[if lt IE 9]&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">      &lt;script src=&#34;https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js&#34;&gt;&lt;/script&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">    &lt;![endif]--&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar navbar-expand-lg navbar-light bg-light&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;navigation&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar-nav mr-auto&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item active&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Info<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-inline my-2 my-lg-0&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control mr-sm-2&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;btn btn-outline-success my-2 my-sm-0&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">      <span class="c">&lt;!-- ... --&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">footer</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar navbar-dark bg-secondary&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;contentinfo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Copyright info goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>您可以在 <a href="https://codepen.io/peterxjang/pen/jOrEpYR?editors=1000">此处</a> 查看完整的代码示例。</p>
<p>让我们检查一下这些更改：</p>
<ul>
<li>
<p><code>&lt;head&gt;</code> 标签中的 <code>&lt;link&gt;</code> 将 Bootstrap CSS 添加到我们的网站。请注意，我们链接到在线托管的文件，这可能会带来一些安全风险 - <code>integrity</code> 和 <code>crossorigin</code> 属性有助于确保链接到的文件正确无误。</p>
</li>
<li>
<p>添加的类都是特定于 Bootstrap 的 — 添加的 Bootstrap CSS 具有针对具有特定 HTML 结构的特定类名的样式。</p>
</li>
<li>
<p>在三篇文章周围添加了一个额外的 <code>&lt;div class=&quot;row&quot;&gt;</code> ，以利用 <a href="https://getbootstrap.com/docs/4.1/layout/grid/">Bootstrap 的网格布局</a>系统（它使用这种特定的 HTML 结构）。</p>
</li>
</ul>
<p>以下是该网站现在的样子：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__fO1wXfiWfdv8vY3__qeQv0A.png" alt="Example website with Bootstrap styling"  />
</p>
<p>不错！请注意，为了使用像 Bootstrap 这样的 CSS 框架，您实际上根本不需要编写任何 CSS 即可开始使用 — 您只需要在 HTML 中添加适当的类即可利用框架附带的 CSS。</p>
<p>这里要注意的一件事是，虽然选项卡的样式正确（任何时候只有一个选项卡可见），但它们还没有正常工作——单击选项卡不会执行任何操作。这是因为在这种情况下，这种类型的自定义交互不是由 CSS 处理的，而是由 JavaScript 处理的。在这种情况下，我们可以通过在 <code>&lt;head&gt;</code> 标签中添加 Bootstrap 框架附带的 JavaScript 文件来让 Bootstrap 选项卡工作：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://code.jquery.com/jquery-3.3.1.slim.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>最后一个脚本是 Bootstrap 的 JavaScript。前两个是 Bootstrap 使用的依赖项（jQuery 和 Popper），在加载 Bootstrap 脚本之前必须先加载它们。如果您查看 <a href="https://codepen.io/peterxjang/pen/WKYxWL?editors=1000#">此实时示例</a>，您可以看到选项卡现在可以工作了！</p>
<p>Bootstrap 被广泛使用，因为它帮助解决了当时 CSS 的主要痛点，例如浏览器不一致和缺乏适当的网格系统。使用像 Bootstrap 这样的 CSS 框架有一些缺点——特别是，与从头开始编写 CSS 相比，它们可能难以定制，这可能会使您的网站与其他网站相比显得通用。</p>
<p>此外，随着智能手机和移动流量的增加，减少 CSS 和 JS 文件大小变得越来越重要 - 任何超过几千字节的东西都会显着影响较慢的互联网连接的性能。在上面的例子中使用 Bootstrap 的方式，我们要求用户下载整个 Bootstrap 框架与站点一起，即使我们只使用几种样式和功能。在下一节中，我们将介绍几种有助于解决这些性能问题的技术。</p>
<blockquote>
<p>注意：对 CSS 和 JavaScript 的扎实掌握与使用 HTML 制作复杂的网站有着内在的联系;但是，深入研究这些语言超出了本文的范围。如果你想了解更多关于 CSS 和 JavaScript 的基础知识，<a href="https://developer.mozilla.org/en-US/">MDN Web Docs</a> 总是一个不错的起点。如果你想更好地了解 CSS 的所有新功能（flexbox，grid，SASS 等）如何与所涉及的所有工具和技术结合在一起，请查看我的文章 <a href="https://peterxjang.com/blog/modern-css-explained-for-dinosaurs.html">Modern CSS Explain For Dinosaurs</a>。</p>
</blockquote>
<h3 id="使用-html-属性提高性能">使用 HTML 属性提高性能</h3>
<p>在这一点上，我们有一个网站，具有相当好的组织，语义 HTML。如果这就是我们正在考虑的全部内容，那么我们的网站就会完成！然而，在性能（网站为用户加载的速度）和可维护性（开发人员更改代码的难易程度）方面，网站有许多方面可以改进。</p>
<h4 id="脚本的-defer-属性">脚本的 defer 属性</h4>
<p>对于我们的网站，一个主要的优化是解决标题中加载的 JavaScript 文件。这些文件足够大，实际上会减慢网站的速度。为了呈现页面，Web 浏览器读取给定的 HTML 并将其转换为它理解的格式 - 文档对象模型或 DOM。如您所料，Web 浏览器从 HTML 文档的顶部开始，然后向下工作。这意味着如果它看到 <code>&lt;script&gt;</code> 标记，它将下载并执行脚本，然后再转到下一行。您可以在此处查看此过程的插图：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__qo7CQsQCd__QYJchbCXLj__w.png#medium" alt="Diagram of JavaScript normal loading order"  />
</p>
<center>来自 hacks.mozilla.org</center>
<p>一个常见的优化技巧是将所有 JavaScript <code>&lt;script&gt;</code> 标签移出 <code>&lt;head&gt;</code> 标签并移到 <code>&lt;body&gt;</code> 标签的末尾。你可以在 Bootstrap 自己的入门模板中看到这一点：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!doctype html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Required meta tags --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>    <span class="c">&lt;!-- Bootstrap CSS --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Hello, world!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, world!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>    <span class="c">&lt;!-- Optional JavaScript --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://code.jquery.com/jquery-3.3.1.slim.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>从某种意义上说，这是一种优化，因为这不是 HTML 的设计方式 - CSS 和 JavaScript 文件应该在<code>标签中</code>定义，如前所述。但是，将所有内容保留在 <code>&lt;head&gt;</code> 标记中会产生降低页面呈现性能的意外副作用。将所有 <code>&lt;script&gt;</code> 个标记移动到 <code>&lt;body&gt;</code> 个标记的底部是提高性能的一种方法。</p>
<p>在2018年，许多网站仍然使用这种将所有 <code>&lt;script&gt;</code> 标签移动到 <code>&lt;body&gt;</code> 标签底部的技巧。然而，浏览器已经支持了一种不那么黑客的方法近 10 年—— <code>defer</code> 属性。通过将此属性添加到 <code>&lt;script&gt;</code> 标记中，浏览器将下载外部文件而不会阻止构建 DOM 的其余部分，并将在 DOM 构建完成后执行脚本。您可以在此处查看此过程的插图：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__GhpdG7JTaVJ6nbbaVLkSLg.png#medium" alt="Diagram of JavaScript with defer attribute loading order"  />
</p>
<p>在许多情况下，在 <code>&lt;head&gt;</code> 中保留 <code>&lt;script&gt;</code> 个标签和 <code>defer</code> 属性将导致更快的页面加载速度，因为文件可以与正在构建的 DOM 并行下载。这就是 Bootstrap 的初学者模板使用 defer 属性的样子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!doctype html&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- Required meta tags --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>    <span class="c">&lt;!-- Bootstrap CSS --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;</span>    <span class="c">&lt;!-- Optional JavaScript --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!-- jQuery first, then Popper.js, then Bootstrap JS --&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://code.jquery.com/jquery-3.3.1.slim.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Hello, world!<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello, world!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>这样做的好处是网站会渲染得更快，并且它会按预期使用 <code>&lt;head&gt;</code> 标记中的脚本组织 HTML。为了更精细地控制哪些文件以什么顺序下载和执行，还有 <code>async</code> 属性以及 <code>&lt;link&gt;</code> 个标签的 <code>rel=&quot;preload&quot;</code> 属性（您可以在 <a href="https://hacks.mozilla.org/2017/09/building-the-dom-faster-speculative-parsing-async-defer-and-preload/">此处</a> 阅读更多相关信息）。</p>
<h4 id="图像的-srcset-属性">图像的 srcset 属性</h4>
<p>对于我们的网站，另一个主要的性能优化是图像。现在，这些图像正在被“热链接”，这意味着它们被直接链接到其他人的网站上。这不仅从维护的角度来看是有问题的（如果其他人改变他们的形象，就会破坏我们的网站），从性能的角度来看，它也可能是有问题的。</p>
<p>我们可以下载文件并在本地链接到它们，而不是直接链接文件。此外，我们可以通过将图像文件大小调整为适当的分辨率来优化图像文件大小。而不是直接链接到另一个网站上的单个图像的图像标签：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">img</span> 
</span></span><span class="line"><span class="cl">  <span class="na">class</span><span class="o">=</span><span class="s">&#34;img-fluid&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">src</span><span class="o">=</span><span class="s">&#34;http://1000logos.net/wp-content/uploads/2017/04/Microsoft-Logo.png&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="na">alt</span><span class="o">=</span><span class="s">&#34;microsoft logo&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;</span>
</span></span></code></pre></div><p>我们可以在本地创建图像的多个版本，并响应式地链接到它们：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">img</span>
</span></span><span class="line"><span class="cl">  <span class="na">class</span><span class="o">=</span><span class="s">&#34;img-fluid&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="na">src</span><span class="o">=</span><span class="s">&#34;microsoft-logo-small.png&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="na">srcset</span><span class="o">=</span><span class="s">&#34;microsoft-logo-medium.png 1000w, microsoft-logo-large.png 2000w&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="na">alt</span><span class="o">=</span><span class="s">&#34;microsoft logo&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">&gt;</span>
</span></span></code></pre></div><p>在这里，我们使用徽标的小型、中型和大型版本。 <code>srcset</code> 属性告诉浏览器根据浏览器宽度加载适当的版本。 <code>srcset</code> 属性是在 2013 年左右引入的，但浏览器花了几年时间才完全支持它。截至2018年，它具有 <a href="https://caniuse.com/#feat=srcset">相当不错的浏览器支持</a> ，因此绝对值得将其作为工作流程的一部分。</p>
<p>对于许多网站来说，优化图像大小通常是最大的性能提升——图像下载大小通常比任何 JavaScript 和 CSS 文件大几个数量级。您可以使用 <code>&lt;picture&gt;</code> 元素对图像进行更精细的控制;但是，对于大多数用例来说，使用简单的 <code>srcset</code> 属性 <a href="https://css-tricks.com/responsive-images-youre-just-changing-resolutions-use-srcset/">通常绰绰有余</a>。</p>
<h4 id="其他-html-属性">其他 HTML 属性</h4>
<p>作为一种语言，HTML 具有 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes">许多属性</a> ，并继续添加可用于提高性能的新属性（如 <code>importance</code> 和 <code>lazyload</code> ）。虽然这可能令人生畏，但专注于下载大小（图像和脚本）方面的最大资源，无论它们可能适用于您的特定网站，通常是最好的起点。</p>
<blockquote>
<p>请注意，就像可访问性一样，没有一套全面的性能规则始终适用于每个网站——您应该对您的网站进行基准测试以确定最有效的方法（Chrome 和 Firefox 等浏览器提供此类工具）。同样，最好的方法是简单地在慢速网络条件下使用您的网站（浏览器的开发工具可以模拟）——如果您在慢速网络条件下使用自己的网站即使只是一周，您很可能会找到大量性能修复来改善其体验。</p>
</blockquote>
<h3 id="使用工具提高性能">使用工具提高性能</h3>
<p>到目前为止，我们一直在使用 HTML 语言提供的工具来优化性能。您还可以使用外部工具获得更多性能优势。让我们来看看几种常用的方法。</p>
<h4 id="代码缩小">代码缩小</h4>
<p>一个重要的性能优化是 JavaScript 和 CSS 代码的缩小（有时称为丑化）。这涉及使用程序来分析和删除代码中不必要或冗余的数据，从简单的事情（如删除不需要的空格）到复杂的事情，如尽可能将长变量重命名为单个字符。下面是 Douglas Crockford 在 <a href="http://www.crockford.com/javascript/jsmin.html">2003 年发布</a> 的第一个 JavaScript 缩减器的示例。示例未缩小的代码如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// is.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl"><span class="c1">// (c) 2001 Douglas Crockford  
</span></span></span><span class="line"><span class="cl"><span class="c1">// 2001 June 3  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="c1">// is  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl"><span class="c1">// The -is- object is used to identify the browser.  Every browser edition  
</span></span></span><span class="line"><span class="cl"><span class="c1">// identifies itself, but there is no standard way of doing it, and some of  
</span></span></span><span class="line"><span class="cl"><span class="c1">// the identification is deceptive. This is because the authors of web  
</span></span></span><span class="line"><span class="cl"><span class="c1">// browsers are liars. For example, Microsoft&#39;s IE browsers claim to be  
</span></span></span><span class="line"><span class="cl"><span class="c1">// Mozilla 4. Netscape 6 claims to be version 5.  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">is</span> <span class="o">=</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">ie</span><span class="o">:</span>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">==</span> <span class="s1">&#39;Microsoft Internet Explorer&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">java</span><span class="o">:</span>    <span class="nx">navigator</span><span class="p">.</span><span class="nx">javaEnabled</span><span class="p">(),</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">ns</span><span class="o">:</span>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span> <span class="o">==</span> <span class="s1">&#39;Netscape&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">ua</span><span class="o">:</span>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">version</span><span class="o">:</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">21</span><span class="p">))</span> <span class="o">||</span>  
</span></span><span class="line"><span class="cl">             <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">),</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">win</span><span class="o">:</span>     <span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span> <span class="o">==</span> <span class="s1">&#39;Win32&#39;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="nx">is</span><span class="p">.</span><span class="nx">mac</span> <span class="o">=</span> <span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;mac&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;opera&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">is</span><span class="p">.</span><span class="nx">ie</span> <span class="o">=</span> <span class="nx">is</span><span class="p">.</span><span class="nx">ns</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">is</span><span class="p">.</span><span class="nx">opera</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="p">(</span><span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;gecko&#39;</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">is</span><span class="p">.</span><span class="nx">ie</span> <span class="o">=</span> <span class="nx">is</span><span class="p">.</span><span class="nx">ns</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">is</span><span class="p">.</span><span class="nx">gecko</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>缩小后的代码如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">is</span><span class="o">=</span><span class="p">{</span><span class="nx">ie</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span><span class="o">==</span><span class="s1">&#39;Microsoft Internet Explorer&#39;</span><span class="p">,</span><span class="nx">java</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">javaEnabled</span><span class="p">(),</span><span class="nx">ns</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appName</span><span class="o">==</span><span class="s1">&#39;Netscape&#39;</span><span class="p">,</span><span class="nx">ua</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">userAgent</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">(),</span><span class="nx">version</span><span class="o">:</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">.</span><span class="nx">substr</span><span class="p">(</span><span class="mi">21</span><span class="p">))</span><span class="o">||</span><span class="nb">parseFloat</span><span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">appVersion</span><span class="p">),</span><span class="nx">win</span><span class="o">:</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">platform</span><span class="o">==</span><span class="s1">&#39;Win32&#39;</span><span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="nx">is</span><span class="p">.</span><span class="nx">mac</span><span class="o">=</span><span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;mac&#39;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;opera&#39;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span><span class="nx">is</span><span class="p">.</span><span class="nx">ie</span><span class="o">=</span><span class="nx">is</span><span class="p">.</span><span class="nx">ns</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="nx">is</span><span class="p">.</span><span class="nx">opera</span><span class="o">=</span><span class="kc">true</span><span class="p">;}</span>  
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">is</span><span class="p">.</span><span class="nx">ua</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s1">&#39;gecko&#39;</span><span class="p">)</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">){</span><span class="nx">is</span><span class="p">.</span><span class="nx">ie</span><span class="o">=</span><span class="nx">is</span><span class="p">.</span><span class="nx">ns</span><span class="o">=</span><span class="kc">false</span><span class="p">;</span><span class="nx">is</span><span class="p">.</span><span class="nx">gecko</span><span class="o">=</span><span class="kc">true</span><span class="p">;}</span>
</span></span></code></pre></div><p>这些更改确实加起来 — 从我们之前的示例来看，未缩小的 <code>bootstrap.js</code> 的大小为 124 KB，而缩小的 <code>bootstrap.min.js</code> 的大小为 51 KB。这还不到原来尺寸的一半——使用<a href="https://www.youtube.com/watch?v=kgv7U3GYlDY">Grabthar’s hammer</a>，真是省钱！但说真的，它在网站下载和显示的速度方面有很大的不同，尤其是在互联网连接速度较慢的情况下。</p>
<p>我们在前面的例子中使用的 Bootstrap CSS 和 JavaScript 已经缩小了，但如果你想缩小自己的代码，你可以使用 <a href="https://javascript-minifier.com/">JavaScript Minifier</a> 或 <a href="https://www.minifier.org/">Minify</a> 等在线工具，有很多可供选择。或者，您可以使用命令行工具，该工具可以节省将代码复制到网站的过程。</p>
<h4 id="文件串联">文件串联</h4>
<p>另一个相关的性能优化是串联，它将多个 JavaScript 文件（或 CSS 文件）转换为单个文件。浏览器下载单个文件的速度比下载多个小文件更快，这是基于浏览器自 1999 年以来使用的 HTTP/1.1 协议。</p>
<p>需要注意的是，新版本的协议 HTTP/2 于 2015 年发布，可能会改变此优化。HTTP / 2允许多个同时连接，因此理论上最好有多个小文件，而不是一个大级联文件。然而，在实践中，它 <a href="http://engineering.khanacademy.org/posts/js-packaging-http2.htm">似乎并不那么简单</a>，因为串联仍然有重要的好处。截至2018年，连接 JavaScript 和 CSS 文件仍然是常见的做法。</p>
<p>要连接您的文件，理论上您可以手动完成 - 将每个 JavaScript 文件的内容复制到单个文件中，对 CSS 文件重复此操作，等等。然后修改 HTML 以链接到单个串联的 JavaScript 文件和单个串联的 CSS 文件。每次部署应用程序时都必须执行此操作，维护起来会非常痛苦 - 最好使用一些自动化过程（更多内容见下文）。</p>
<h4 id="关键-css">关键 CSS</h4>
<p>近年来流行的另一个优化是内联页面的关键 CSS。这涉及使用工具来识别用户在访问网页时首先看到的所有 HTML 元素：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__eqFRbhOchUMNGLj9lisEqQ.jpeg#medium" alt="Example website labelling critical portion"  />
</p>
<center>来自 https://www.smashingmagazine.com/2015/08/understanding-critical-css/</center>
<p>一旦识别出这些 HTML元素，该工具将找到影响这些元素的所有 CSS，并将它们直接添加到 HTML 文件中。通过这种方式，浏览器能够显示一个完全样式的网站，而无需等待剩余的 CSS 下载！</p>
<p>有不同的工具可以帮助您识别 <a href="https://github.com/addyosmani/critical">关键</a> CSS，从 Addy Osmani 的基于节点的关键库到 Jonas Ohlsson Aden 的基于 <a href="https://jonassebastianohlsson.com/criticalpathcssgenerator/">Web 的关键路径 CSS 生成器</a>。下面是我们之前 Bootstrap 示例中的 HTML <code>&lt;head&gt;</code> 元素在通过<a href="https://github.com/addyosmani/critical">关键</a>工具分析后的外观示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;description&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;author&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">:</span><span class="nd">root</span><span class="p">{</span><span class="nv">--blue</span><span class="p">:</span><span class="mh">#007bff</span><span class="p">;</span><span class="nv">--indigo</span><span class="p">:</span><span class="mh">#6610f2</span><span class="p">;</span><span class="nv">--purple</span><span class="p">:</span><span class="mh">#6f42c1</span><span class="p">;</span><span class="nv">--pink</span><span class="p">:</span><span class="mh">#e83e8c</span><span class="p">;</span><span class="nv">--red</span><span class="p">:</span><span class="mh">#dc3545</span><span class="p">;</span><span class="nv">--orange</span><span class="p">:</span><span class="mh">#fd7e14</span><span class="p">;</span><span class="nv">--yellow</span><span class="p">:</span><span class="mh">#ffc107</span><span class="p">;</span><span class="nv">--green</span><span class="p">:</span><span class="mh">#28a745</span><span class="p">;</span><span class="nv">--teal</span><span class="p">:</span><span class="mh">#20c997</span><span class="p">;</span><span class="nv">--cyan</span><span class="p">:</span><span class="mh">#17a2b8</span><span class="p">;</span><span class="nv">--white</span><span class="p">:</span><span class="mh">#fff</span><span class="p">;</span><span class="nv">--gray</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="nv">--gray-dark</span><span class="p">:</span><span class="mh">#343a40</span><span class="p">;</span><span class="nv">--primary</span><span class="p">:</span><span class="mh">#007bff</span><span class="p">;</span><span class="nv">--secondary</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="nv">--success</span><span class="p">:</span><span class="mh">#28a745</span><span class="p">;</span><span class="nv">--info</span><span class="p">:</span><span class="mh">#17a2b8</span><span class="p">;</span><span class="nv">--warning</span><span class="p">:</span><span class="mh">#ffc107</span><span class="p">;</span><span class="nv">--danger</span><span class="p">:</span><span class="mh">#dc3545</span><span class="p">;</span><span class="nv">--light</span><span class="p">:</span><span class="mh">#f8f9fa</span><span class="p">;</span><span class="nv">--dark</span><span class="p">:</span><span class="mh">#343a40</span><span class="p">;</span><span class="nv">--breakpoint-xs</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="nv">--breakpoint-sm</span><span class="p">:</span><span class="mi">576</span><span class="kt">px</span><span class="p">;</span><span class="nv">--breakpoint-md</span><span class="p">:</span><span class="mi">768</span><span class="kt">px</span><span class="p">;</span><span class="nv">--breakpoint-lg</span><span class="p">:</span><span class="mi">992</span><span class="kt">px</span><span class="p">;</span><span class="nv">--breakpoint-xl</span><span class="p">:</span><span class="mi">1200</span><span class="kt">px</span><span class="p">;</span><span class="nv">--font-family-sans-serif</span><span class="p">:</span><span class="o">-</span><span class="n">apple-system</span><span class="p">,</span><span class="n">BlinkMacSystemFont</span><span class="p">,</span><span class="s2">&#34;Segoe UI&#34;</span><span class="p">,</span><span class="n">Roboto</span><span class="p">,</span><span class="s2">&#34;Helvetica Neue&#34;</span><span class="p">,</span><span class="n">Arial</span><span class="p">,</span><span class="kc">sans-serif</span><span class="p">,</span><span class="s2">&#34;Apple Color Emoji&#34;</span><span class="p">,</span><span class="s2">&#34;Segoe UI Emoji&#34;</span><span class="p">,</span><span class="s2">&#34;Segoe UI Symbol&#34;</span><span class="p">,</span><span class="s2">&#34;Noto Color Emoji&#34;</span><span class="p">;</span><span class="nv">--font-family-monospace</span><span class="p">:</span><span class="n">SFMono-Regular</span><span class="p">,</span><span class="n">Menlo</span><span class="p">,</span><span class="n">Monaco</span><span class="p">,</span><span class="n">Consolas</span><span class="p">,</span><span class="s2">&#34;Liberation Mono&#34;</span><span class="p">,</span><span class="s2">&#34;Courier New&#34;</span><span class="p">,</span><span class="kc">monospace</span><span class="p">}</span><span class="err">\</span><span class="o">*,</span><span class="p">::</span><span class="nd">after</span><span class="o">,</span><span class="p">::</span><span class="nd">before</span><span class="p">{</span><span class="k">box-sizing</span><span class="p">:</span><span class="kc">border-box</span><span class="p">}</span><span class="nt">html</span><span class="p">{</span><span class="k">font-family</span><span class="p">:</span><span class="kc">sans-serif</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.15</span><span class="p">;</span><span class="kp">-webkit-</span><span class="n">text-size-adjust</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="kp">-ms-</span><span class="n">text-size-adjust</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">overflow-style</span><span class="p">:</span><span class="n">scrollbar</span><span class="p">}@</span><span class="k">-ms-viewport</span><span class="p">{</span><span class="nt">width</span><span class="p">:</span><span class="nd">device-width</span><span class="p">}</span><span class="nt">article</span><span class="o">,</span><span class="nt">footer</span><span class="o">,</span><span class="nt">main</span><span class="o">,</span><span class="nt">nav</span><span class="o">,</span><span class="nt">section</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">block</span><span class="p">}</span><span class="nt">body</span><span class="p">{</span><span class="k">margin</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">font-family</span><span class="p">:</span><span class="o">-</span><span class="n">apple-system</span><span class="p">,</span><span class="n">BlinkMacSystemFont</span><span class="p">,</span><span class="s2">&#34;Segoe UI&#34;</span><span class="p">,</span><span class="n">Roboto</span><span class="p">,</span><span class="s2">&#34;Helvetica Neue&#34;</span><span class="p">,</span><span class="n">Arial</span><span class="p">,</span><span class="kc">sans-serif</span><span class="p">,</span><span class="s2">&#34;Apple Color Emoji&#34;</span><span class="p">,</span><span class="s2">&#34;Segoe UI Emoji&#34;</span><span class="p">,</span><span class="s2">&#34;Segoe UI Symbol&#34;</span><span class="p">,</span><span class="s2">&#34;Noto Color Emoji&#34;</span><span class="p">;</span><span class="k">font-size</span><span class="p">:</span><span class="mi">1</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-weight</span><span class="p">:</span><span class="mi">400</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.5</span><span class="p">;</span><span class="k">color</span><span class="p">:</span><span class="mh">#212529</span><span class="p">;</span><span class="k">text-align</span><span class="p">:</span><span class="kc">left</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#fff</span><span class="p">}</span><span class="nt">h1</span><span class="o">,</span><span class="nt">h2</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="p">}</span><span class="nt">p</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">1</span><span class="kt">rem</span><span class="p">}</span><span class="nt">ul</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">1</span><span class="kt">rem</span><span class="p">}</span><span class="nt">a</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#007bff</span><span class="p">;</span><span class="k">text-decoration</span><span class="p">:</span><span class="kc">none</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="kc">transparent</span><span class="p">;</span><span class="kp">-webkit-</span><span class="k">text-decoration-skip</span><span class="p">:</span><span class="kc">objects</span><span class="p">}</span><span class="nt">img</span><span class="p">{</span><span class="k">vertical-align</span><span class="p">:</span><span class="kc">middle</span><span class="p">;</span><span class="k">border-style</span><span class="p">:</span><span class="kc">none</span><span class="p">}</span><span class="nt">button</span><span class="p">{</span><span class="k">border-radius</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span><span class="nt">button</span><span class="o">,</span><span class="nt">input</span><span class="p">{</span><span class="k">margin</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">font-family</span><span class="p">:</span><span class="kc">inherit</span><span class="p">;</span><span class="k">font-size</span><span class="p">:</span><span class="kc">inherit</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="kc">inherit</span><span class="p">}</span><span class="nt">button</span><span class="o">,</span><span class="nt">input</span><span class="p">{</span><span class="k">overflow</span><span class="p">:</span><span class="kc">visible</span><span class="p">}</span><span class="nt">button</span><span class="p">{</span><span class="k">text-transform</span><span class="p">:</span><span class="kc">none</span><span class="p">}</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">submit</span><span class="o">],</span><span class="nt">button</span><span class="p">{</span><span class="kp">-webkit-</span><span class="k">appearance</span><span class="p">:</span><span class="n">button</span><span class="p">}</span><span class="o">[</span><span class="nt">type</span><span class="o">=</span><span class="nt">submit</span><span class="o">]</span><span class="p">::</span><span class="nd">-moz-focus-inner</span><span class="o">,</span><span class="nt">button</span><span class="p">::</span><span class="nd">-moz-focus-inner</span><span class="p">{</span><span class="k">padding</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">border-style</span><span class="p">:</span><span class="kc">none</span><span class="p">}::</span><span class="nd">-webkit-file-upload-button</span><span class="p">{</span><span class="k">font</span><span class="p">:</span><span class="kc">inherit</span><span class="p">;</span><span class="kp">-webkit-</span><span class="k">appearance</span><span class="p">:</span><span class="n">button</span><span class="p">}</span><span class="nt">h1</span><span class="o">,</span><span class="nt">h2</span><span class="p">{</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-family</span><span class="p">:</span><span class="kc">inherit</span><span class="p">;</span><span class="k">font-weight</span><span class="p">:</span><span class="mi">500</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.2</span><span class="p">;</span><span class="k">color</span><span class="p">:</span><span class="kc">inherit</span><span class="p">}</span><span class="nt">h1</span><span class="p">{</span><span class="k">font-size</span><span class="p">:</span><span class="mf">2.5</span><span class="kt">rem</span><span class="p">}</span><span class="nt">h2</span><span class="p">{</span><span class="k">font-size</span><span class="p">:</span><span class="mi">2</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">lead</span><span class="p">{</span><span class="k">font-size</span><span class="p">:</span><span class="mf">1.25</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-weight</span><span class="p">:</span><span class="mi">300</span><span class="p">}.</span><span class="nc">display-4</span><span class="p">{</span><span class="k">font-size</span><span class="p">:</span><span class="mf">3.5</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-weight</span><span class="p">:</span><span class="mi">300</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.2</span><span class="p">}.</span><span class="nc">img-fluid</span><span class="p">{</span><span class="k">max-width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="k">height</span><span class="p">:</span><span class="kc">auto</span><span class="p">}.</span><span class="nc">container</span><span class="p">{</span><span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="k">padding-right</span><span class="p">:</span><span class="mi">15</span><span class="kt">px</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mi">15</span><span class="kt">px</span><span class="p">;</span><span class="k">margin-right</span><span class="p">:</span><span class="kc">auto</span><span class="p">;</span><span class="k">margin-left</span><span class="p">:</span><span class="kc">auto</span><span class="p">}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">576px</span><span class="o">)</span><span class="p">{.</span><span class="nc">container</span><span class="p">{</span><span class="k">max-width</span><span class="p">:</span><span class="mi">540</span><span class="kt">px</span><span class="p">}}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">768px</span><span class="o">)</span><span class="p">{.</span><span class="nc">container</span><span class="p">{</span><span class="k">max-width</span><span class="p">:</span><span class="mi">720</span><span class="kt">px</span><span class="p">}}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">992px</span><span class="o">)</span><span class="p">{.</span><span class="nc">container</span><span class="p">{</span><span class="k">max-width</span><span class="p">:</span><span class="mi">960</span><span class="kt">px</span><span class="p">}}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">1200px</span><span class="o">)</span><span class="p">{.</span><span class="nc">container</span><span class="p">{</span><span class="k">max-width</span><span class="p">:</span><span class="mi">1140</span><span class="kt">px</span><span class="p">}}.</span><span class="nc">row</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kp">-ms-</span><span class="n">flexbox</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="k">margin-right</span><span class="p">:</span><span class="mi">-15</span><span class="kt">px</span><span class="p">;</span><span class="k">margin-left</span><span class="p">:</span><span class="mi">-15</span><span class="kt">px</span><span class="p">}.</span><span class="nc">col-4</span><span class="p">{</span><span class="k">position</span><span class="p">:</span><span class="kc">relative</span><span class="p">;</span><span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="k">min-height</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span><span class="p">;</span><span class="k">padding-right</span><span class="p">:</span><span class="mi">15</span><span class="kt">px</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mi">15</span><span class="kt">px</span><span class="p">}.</span><span class="nc">col-4</span><span class="p">{</span><span class="kp">-ms-</span><span class="k">flex</span><span class="p">:</span><span class="mi">0</span> <span class="mi">0</span> <span class="mf">33.333333</span><span class="kt">%</span><span class="p">;</span><span class="k">flex</span><span class="p">:</span><span class="mi">0</span> <span class="mi">0</span> <span class="mf">33.333333</span><span class="kt">%</span><span class="p">;</span><span class="k">max-width</span><span class="p">:</span><span class="mf">33.333333</span><span class="kt">%</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">block</span><span class="p">;</span><span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span><span class="k">height</span><span class="p">:</span><span class="nb">calc</span><span class="p">(</span><span class="mf">2.25</span><span class="kt">rem</span> <span class="o">+</span> <span class="mi">2</span><span class="kt">px</span><span class="p">);</span><span class="k">padding</span><span class="p">:</span><span class="mf">.375</span><span class="kt">rem</span> <span class="mf">.75</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-size</span><span class="p">:</span><span class="mi">1</span><span class="kt">rem</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.5</span><span class="p">;</span><span class="k">color</span><span class="p">:</span><span class="mh">#495057</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#fff</span><span class="p">;</span><span class="k">background-clip</span><span class="p">:</span><span class="kc">padding-box</span><span class="p">;</span><span class="k">border</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="mh">#ced4da</span><span class="p">;</span><span class="k">border-radius</span><span class="p">:</span><span class="mf">.25</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">::</span><span class="nd">-ms-expand</span><span class="p">{</span><span class="k">background-color</span><span class="p">:</span><span class="kc">transparent</span><span class="p">;</span><span class="k">border</span><span class="p">:</span><span class="mi">0</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">::</span><span class="nd">-webkit-input-placeholder</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="k">opacity</span><span class="p">:</span><span class="mi">1</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">::</span><span class="nd">-moz-placeholder</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="k">opacity</span><span class="p">:</span><span class="mi">1</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">:</span><span class="nd">-ms-input-placeholder</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="k">opacity</span><span class="p">:</span><span class="mi">1</span><span class="p">}.</span><span class="nc">form-control</span><span class="p">::</span><span class="nd">-ms-input-placeholder</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#6c757d</span><span class="p">;</span><span class="k">opacity</span><span class="p">:</span><span class="mi">1</span><span class="p">}.</span><span class="nc">form-inline</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kp">-ms-</span><span class="n">flexbox</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">flex-flow</span><span class="p">:</span><span class="kc">row</span> <span class="kc">wrap</span><span class="p">;</span><span class="k">flex-flow</span><span class="p">:</span><span class="kc">row</span> <span class="kc">wrap</span><span class="p">;</span><span class="kp">-ms-</span><span class="n">flex-align</span><span class="p">:</span><span class="kc">center</span><span class="p">;</span><span class="k">align-items</span><span class="p">:</span><span class="kc">center</span><span class="p">}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">576px</span><span class="o">)</span><span class="p">{.</span><span class="nc">form-inline</span> <span class="p">.</span><span class="nc">form-control</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">inline-block</span><span class="p">;</span><span class="k">width</span><span class="p">:</span><span class="kc">auto</span><span class="p">;</span><span class="k">vertical-align</span><span class="p">:</span><span class="kc">middle</span><span class="p">}}.</span><span class="nc">btn</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">inline-block</span><span class="p">;</span><span class="k">font-weight</span><span class="p">:</span><span class="mi">400</span><span class="p">;</span><span class="k">text-align</span><span class="p">:</span><span class="kc">center</span><span class="p">;</span><span class="k">white-space</span><span class="p">:</span><span class="kc">nowrap</span><span class="p">;</span><span class="k">vertical-align</span><span class="p">:</span><span class="kc">middle</span><span class="p">;</span><span class="k">border</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">transparent</span><span class="p">;</span><span class="k">padding</span><span class="p">:</span><span class="mf">.375</span><span class="kt">rem</span> <span class="mf">.75</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-size</span><span class="p">:</span><span class="mi">1</span><span class="kt">rem</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.5</span><span class="p">;</span><span class="k">border-radius</span><span class="p">:</span><span class="mf">.25</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">btn-primary</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#fff</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#007bff</span><span class="p">;</span><span class="k">border-color</span><span class="p">:</span><span class="mh">#007bff</span><span class="p">}.</span><span class="nc">btn-outline-success</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#28a745</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="kc">transparent</span><span class="p">;</span><span class="k">background-image</span><span class="p">:</span><span class="kc">none</span><span class="p">;</span><span class="k">border-color</span><span class="p">:</span><span class="mh">#28a745</span><span class="p">}.</span><span class="nc">btn-lg</span><span class="p">{</span><span class="k">padding</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span><span class="k">font-size</span><span class="p">:</span><span class="mf">1.25</span><span class="kt">rem</span><span class="p">;</span><span class="k">line-height</span><span class="p">:</span><span class="mf">1.5</span><span class="p">;</span><span class="k">border-radius</span><span class="p">:</span><span class="mf">.3</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">fade</span><span class="p">:</span><span class="nd">not</span><span class="o">(</span><span class="p">.</span><span class="nc">show</span><span class="o">)</span><span class="p">{</span><span class="k">opacity</span><span class="p">:</span><span class="mi">0</span><span class="p">}.</span><span class="nc">nav</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kp">-ms-</span><span class="n">flexbox</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">list-style</span><span class="p">:</span><span class="kc">none</span><span class="p">}.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">block</span><span class="p">;</span><span class="k">padding</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">nav-tabs</span><span class="p">{</span><span class="k">border-bottom</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="mh">#dee2e6</span><span class="p">}.</span><span class="nc">nav-tabs</span> <span class="p">.</span><span class="nc">nav-item</span><span class="p">{</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">-1</span><span class="kt">px</span><span class="p">}.</span><span class="nc">nav-tabs</span> <span class="p">.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">border</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span> <span class="kc">solid</span> <span class="kc">transparent</span><span class="p">;</span><span class="k">border-top-left-radius</span><span class="p">:</span><span class="mf">.25</span><span class="kt">rem</span><span class="p">;</span><span class="k">border-top-right-radius</span><span class="p">:</span><span class="mf">.25</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">nav-tabs</span> <span class="p">.</span><span class="nc">nav-link</span><span class="p">.</span><span class="nc">active</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="mh">#495057</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#fff</span><span class="p">;</span><span class="k">border-color</span><span class="p">:</span><span class="mh">#dee2e6</span> <span class="mh">#dee2e6</span> <span class="mh">#fff</span><span class="p">}.</span><span class="nc">tab-content</span><span class="o">&gt;</span><span class="p">.</span><span class="nc">tab-pane</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">none</span><span class="p">}.</span><span class="nc">tab-content</span><span class="o">&gt;</span><span class="p">.</span><span class="nc">active</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kc">block</span><span class="p">}.</span><span class="nc">navbar</span><span class="p">{</span><span class="k">position</span><span class="p">:</span><span class="kc">relative</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kp">-ms-</span><span class="n">flexbox</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="k">flex-wrap</span><span class="p">:</span><span class="kc">wrap</span><span class="p">;</span><span class="kp">-ms-</span><span class="n">flex-align</span><span class="p">:</span><span class="kc">center</span><span class="p">;</span><span class="k">align-items</span><span class="p">:</span><span class="kc">center</span><span class="p">;</span><span class="kp">-ms-</span><span class="n">flex-pack</span><span class="p">:</span><span class="kc">justify</span><span class="p">;</span><span class="k">justify-content</span><span class="p">:</span><span class="kc">space-between</span><span class="p">;</span><span class="k">padding</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">}.</span><span class="nc">navbar-nav</span><span class="p">{</span><span class="k">display</span><span class="p">:</span><span class="kp">-ms-</span><span class="n">flexbox</span><span class="p">;</span><span class="k">display</span><span class="p">:</span><span class="kc">flex</span><span class="p">;</span><span class="kp">-ms-</span><span class="k">flex-direction</span><span class="p">:</span><span class="kc">column</span><span class="p">;</span><span class="k">flex-direction</span><span class="p">:</span><span class="kc">column</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">list-style</span><span class="p">:</span><span class="kc">none</span><span class="p">}.</span><span class="nc">navbar-nav</span> <span class="p">.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">padding-right</span><span class="p">:</span><span class="mi">0</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">992px</span><span class="o">)</span><span class="p">{.</span><span class="nc">navbar-expand-lg</span><span class="p">{</span><span class="kp">-ms-</span><span class="k">flex-flow</span><span class="p">:</span><span class="kc">row</span> <span class="kc">nowrap</span><span class="p">;</span><span class="k">flex-flow</span><span class="p">:</span><span class="kc">row</span> <span class="kc">nowrap</span><span class="p">;</span><span class="kp">-ms-</span><span class="n">flex-pack</span><span class="p">:</span><span class="kc">start</span><span class="p">;</span><span class="k">justify-content</span><span class="p">:</span><span class="kc">flex-start</span><span class="p">}.</span><span class="nc">navbar-expand-lg</span> <span class="p">.</span><span class="nc">navbar-nav</span><span class="p">{</span><span class="kp">-ms-</span><span class="k">flex-direction</span><span class="p">:</span><span class="kc">row</span><span class="p">;</span><span class="k">flex-direction</span><span class="p">:</span><span class="kc">row</span><span class="p">}.</span><span class="nc">navbar-expand-lg</span> <span class="p">.</span><span class="nc">navbar-nav</span> <span class="p">.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">padding-right</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="p">;</span><span class="k">padding-left</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="p">}}.</span><span class="nc">navbar-light</span> <span class="p">.</span><span class="nc">navbar-nav</span> <span class="p">.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">.5</span><span class="p">)}.</span><span class="nc">navbar-light</span> <span class="p">.</span><span class="nc">navbar-nav</span> <span class="p">.</span><span class="nc">active</span><span class="o">&gt;</span><span class="p">.</span><span class="nc">nav-link</span><span class="p">{</span><span class="k">color</span><span class="p">:</span><span class="nb">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">.9</span><span class="p">)}.</span><span class="nc">jumbotron</span><span class="p">{</span><span class="k">padding</span><span class="p">:</span><span class="mi">2</span><span class="kt">rem</span> <span class="mi">1</span><span class="kt">rem</span><span class="p">;</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">2</span><span class="kt">rem</span><span class="p">;</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#e9ecef</span><span class="p">;</span><span class="k">border-radius</span><span class="p">:</span><span class="mf">.3</span><span class="kt">rem</span><span class="p">}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">576px</span><span class="o">)</span><span class="p">{.</span><span class="nc">jumbotron</span><span class="p">{</span><span class="k">padding</span><span class="p">:</span><span class="mi">4</span><span class="kt">rem</span> <span class="mi">2</span><span class="kt">rem</span><span class="p">}}.</span><span class="nc">bg-secondary</span><span class="p">{</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#6c757d</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">bg-light</span><span class="p">{</span><span class="k">background-color</span><span class="p">:</span><span class="mh">#f8f9fa</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">my-2</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">my-2</span><span class="p">{</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">mr-auto</span><span class="p">{</span><span class="k">margin-right</span><span class="p">:</span><span class="kc">auto</span><span class="cp">!important</span><span class="p">}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">576px</span><span class="o">)</span><span class="p">{.</span><span class="nc">my-sm-0</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mi">0</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">my-sm-0</span><span class="p">{</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">0</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">mr-sm-2</span><span class="p">{</span><span class="k">margin-right</span><span class="p">:</span><span class="mf">.5</span><span class="kt">rem</span><span class="cp">!important</span><span class="p">}}</span><span class="o">[</span><span class="p">@</span><span class="k">media</span><span class="o">](</span><span class="nt">http</span><span class="o">://</span><span class="nt">twitter</span><span class="p">.</span><span class="nc">com</span><span class="o">/</span><span class="nt">media</span> <span class="s2">&#34;Twitter profile for @media&#34;</span><span class="o">)</span> <span class="o">(</span><span class="nt">min-width</span><span class="p">:</span><span class="nd">992px</span><span class="o">)</span><span class="p">{.</span><span class="nc">my-lg-0</span><span class="p">{</span><span class="k">margin-top</span><span class="p">:</span><span class="mi">0</span><span class="cp">!important</span><span class="p">}.</span><span class="nc">my-lg-0</span><span class="p">{</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">0</span><span class="cp">!important</span><span class="p">}}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preload&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span> <span class="na">as</span><span class="o">=</span><span class="s">&#34;style&#34;</span> <span class="na">onload</span><span class="o">=</span><span class="s">&#34;this.onload=null;this.rel=&#39;stylesheet&#39;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">noscript</span><span class="p">&gt;&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">noscript</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">n</span><span class="p">){</span><span class="s2">&#34;use strict&#34;</span><span class="p">;</span><span class="nx">n</span><span class="p">.</span><span class="nx">loadCSS</span><span class="o">||</span><span class="p">(</span><span class="nx">n</span><span class="p">.</span><span class="nx">loadCSS</span><span class="o">=</span><span class="kd">function</span><span class="p">(){});</span><span class="kd">var</span> <span class="nx">o</span><span class="o">=</span><span class="nx">loadCSS</span><span class="p">.</span><span class="nx">relpreload</span><span class="o">=</span><span class="p">{};</span><span class="k">if</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">support</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="kd">var</span> <span class="nx">e</span><span class="p">;</span><span class="k">try</span><span class="p">{</span><span class="nx">e</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s2">&#34;link&#34;</span><span class="p">).</span><span class="nx">relList</span><span class="p">.</span><span class="nx">supports</span><span class="p">(</span><span class="s2">&#34;preload&#34;</span><span class="p">)}</span><span class="k">catch</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="nx">e</span><span class="o">=!</span><span class="mi">1</span><span class="p">}</span><span class="k">return</span> <span class="kd">function</span><span class="p">(){</span><span class="k">return</span> <span class="nx">e</span><span class="p">}}(),</span><span class="nx">o</span><span class="p">.</span><span class="nx">bindMediaToggle</span><span class="o">=</span><span class="kd">function</span><span class="p">(</span><span class="nx">t</span><span class="p">){</span><span class="kd">var</span> <span class="nx">e</span><span class="o">=</span><span class="nx">t</span><span class="p">.</span><span class="nx">media</span><span class="o">||</span><span class="s2">&#34;all&#34;</span><span class="p">;</span><span class="kd">function</span> <span class="nx">a</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">media</span><span class="o">=</span><span class="nx">e</span><span class="p">}</span><span class="nx">t</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">?</span><span class="nx">t</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;load&#34;</span><span class="p">,</span><span class="nx">a</span><span class="p">)</span><span class="o">:</span><span class="nx">t</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="nx">t</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&#34;onload&#34;</span><span class="p">,</span><span class="nx">a</span><span class="p">),</span><span class="nx">setTimeout</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span><span class="nx">t</span><span class="p">.</span><span class="nx">rel</span><span class="o">=</span><span class="s2">&#34;stylesheet&#34;</span><span class="p">,</span><span class="nx">t</span><span class="p">.</span><span class="nx">media</span><span class="o">=</span><span class="s2">&#34;only x&#34;</span><span class="p">}),</span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="mf">3e3</span><span class="p">)},</span><span class="nx">o</span><span class="p">.</span><span class="nx">poly</span><span class="o">=</span><span class="kd">function</span><span class="p">(){</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">o</span><span class="p">.</span><span class="nx">support</span><span class="p">())</span><span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s2">&#34;link&#34;</span><span class="p">),</span><span class="nx">e</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="nx">e</span><span class="o">&lt;</span><span class="nx">t</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="nx">e</span><span class="o">++</span><span class="p">){</span><span class="kd">var</span> <span class="nx">a</span><span class="o">=</span><span class="nx">t</span><span class="p">[</span><span class="nx">e</span><span class="p">];</span><span class="s2">&#34;preload&#34;</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">rel</span><span class="o">||</span><span class="s2">&#34;style&#34;</span><span class="o">!==</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&#34;as&#34;</span><span class="p">)</span><span class="o">||</span><span class="nx">a</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&#34;data-loadcss&#34;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s2">&#34;data-loadcss&#34;</span><span class="p">,</span><span class="o">!</span><span class="mi">0</span><span class="p">),</span><span class="nx">o</span><span class="p">.</span><span class="nx">bindMediaToggle</span><span class="p">(</span><span class="nx">a</span><span class="p">))}},</span><span class="o">!</span><span class="nx">o</span><span class="p">.</span><span class="nx">support</span><span class="p">()){</span><span class="nx">o</span><span class="p">.</span><span class="nx">poly</span><span class="p">();</span><span class="kd">var</span> <span class="nx">t</span><span class="o">=</span><span class="nx">n</span><span class="p">.</span><span class="nx">setInterval</span><span class="p">(</span><span class="nx">o</span><span class="p">.</span><span class="nx">poly</span><span class="p">,</span><span class="mi">500</span><span class="p">);</span><span class="nx">n</span><span class="p">.</span><span class="nx">addEventListener</span><span class="o">?</span><span class="nx">n</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s2">&#34;load&#34;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">o</span><span class="p">.</span><span class="nx">poly</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">)})</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">attachEvent</span><span class="o">&amp;&amp;</span><span class="nx">n</span><span class="p">.</span><span class="nx">attachEvent</span><span class="p">(</span><span class="s2">&#34;onload&#34;</span><span class="p">,</span><span class="kd">function</span><span class="p">(){</span><span class="nx">o</span><span class="p">.</span><span class="nx">poly</span><span class="p">(),</span><span class="nx">n</span><span class="p">.</span><span class="nx">clearInterval</span><span class="p">(</span><span class="nx">t</span><span class="p">)})}</span><span class="s2">&#34;undefined&#34;</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">exports</span><span class="o">?</span><span class="nx">exports</span><span class="p">.</span><span class="nx">loadCSS</span><span class="o">=</span><span class="nx">loadCSS</span><span class="o">:</span><span class="nx">n</span><span class="p">.</span><span class="nx">loadCSS</span><span class="o">=</span><span class="nx">loadCSS</span><span class="p">}(</span><span class="s2">&#34;undefined&#34;</span><span class="o">!=</span><span class="k">typeof</span> <span class="nx">global</span><span class="o">?</span><span class="nx">global</span><span class="o">:</span><span class="k">this</span><span class="p">);&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://code.jquery.com/jquery-3.3.1.slim.min.js](https://code.jquery.com/jquery-3.3.1.slim.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js](https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--[if lt IE 9]&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">      &lt;script src=&#34;[https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js](https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js)&#34;&gt;&lt;/script&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">    &lt;![endif]--&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">     <span class="c">&lt;!-- ...  --&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>如您所见，该工具添加了一个带有大量 CSS 的内联 <code>&lt;style&gt;</code> 元素。请注意，这不是 Bootstrap 的全部 CSS，只是该工具分析的 CSS 对于此页面的初始视图是必需的。仅 Bootstrap 的缩小 CSS 就有 51 KB;这个新的HTML文件包括所有HTML以及新内联的CSS和JavaScript，是12 KB。这种减小的大小比看起来更重要 - 将初始 HTML/CSS/JS 置于 14 KB 以下可以使您的网站在某些最慢的连接上以毫秒为单位呈现。这是因为浏览器和服务器之间的每次往返一次可以发送大约 14 KB - 通过将所有内容放入一次往返中，您可以避免额外往返的开销（<a href="https://developers.google.com/speed/docs/insights/mobile">此处</a>提供更多详细信息）。</p>
<p>该工具还在 CSS link 元素上添加了 <code>rel=&quot;preload&quot;</code> 属性，<a href="https://www.filamentgroup.com/lab/async-css.html">使 CSS 文件能够异步加载</a>。这通常是您不想做的事情 - 尽管它会加快网站速度，但用户会首先看到无样式的纯HTML，然后在加载CSS文件时看到样式正确的网站。但是，在我们的例子中，由于我们正在内联关键的 CSS，这不是问题，因此异步加载剩余的 CSS 可以完美地工作！</p>
<h4 id="实现构建步骤">实现构建步骤</h4>
<p>此时，您可以执行诸如每次部署网站时手动缩小和连接文件之类的操作，但这将是一个巨大的痛苦。理想情况下，您将使用单个命令自动执行这组任务，这称为生成步骤。缩小和串联只是两个可能的任务 - 任何可以自动化的重复性任务。下面是生成步骤中的一些典型任务：</p>
<ul>
<li>
<p>缩小 HTML、CSS 和 JavaScript</p>
</li>
<li>
<p>连接 JavaScript 文件和 CSS 文件</p>
</li>
<li>
<p>优化图像（通过调整大小、删除未使用的元数据等）</p>
</li>
<li>
<p>添加 CSS 供应商前缀以实现浏览器兼容性</p>
</li>
<li>
<p>转译代码（从 SASS 到 CSS，或从 CoffeeScript 到 JS，等等）</p>
</li>
<li>
<p>运行代码测试</p>
</li>
</ul>
<p>要实现构建步骤，您需要选择一个工具，并且有很多工具可供选择。一个流行的选择是 Grunt，它于2012年发布。紧随其后的是 Gulp，以及Broccoli.js，Brunch 和 webpack。截至 2018 年，webpack 似乎是最受欢迎的选择，但最终这些工具中的任何一个都将用于很好地实现构建步骤的目的。</p>
<blockquote>
<p>注意：从头开始学习使用工具进行构建步骤可能非常令人生畏。大多数工具都要求您使用命令行 — 如果您以前从未使用过，您可以阅读<a href="https://www.learnenough.com/command-line-tutorial">本教程</a>以获得入门的良好概述。2018年许多流行的 Web                                                                                                                                                                                                                       开发人员构建工具都是基于 node.js 的——如果你不熟悉 node.js 生态系统及其在前端开发中的使用，你可以阅读我的文章 <a href="https://medium.com/the-node-js-collection/modern-javascript-explained-for-dinosaurs-f695e9747b70">Modern JavaScript Explain For Dinosaurs</a>，了解这方面的概述。</p>
</blockquote>
<p><img loading="lazy" src="https://peterxjang.com/img/1__GbAw9ahi__dxD6LBA6Kh0__g.png" alt="Dinosaur comic panels 3 and 4"  />
</p>
<h3 id="模板和组件提高可维护性">模板和组件提高可维护性</h3>
<p>到目前为止，我们有一个不错的网页，既有相当的吸引力，又有性能。现在它看起来像这样：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__fO1wXfiWfdv8vY3__qeQv0A.png" alt="Example website with Bootstrap styling"  />
</p>
<p>在导航栏中，有一个指向“关于”页面的链接，但它目前没有转到任何地方。如果我们想制作这个关于页面怎么办？最直接的答案是复制名为 <code>about.html</code> 的 <code>index.html</code> ，并相应地更新内容。具体来说， <code>&lt;main&gt;</code> 元素中的内容将更改，HTML 的其余部分将保持不变。下面是一个简单的 <code>about.html</code> 页面的样子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;utf-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;viewport&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;width=device-width, initial-scale=1, shrink-to-fit=no&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;description&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&#34;author&#34;</span> <span class="na">content</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>My test page<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://code.jquery.com/jquery-3.3.1.slim.min.js](https://code.jquery.com/jquery-3.3.1.slim.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js](https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">defer</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;[https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js](https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js)&#34;</span> <span class="na">integrity</span><span class="o">=</span><span class="s">&#34;sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy&#34;</span> <span class="na">crossorigin</span><span class="o">=</span><span class="s">&#34;anonymous&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="c">&lt;!--[if lt IE 9]&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">      &lt;script src=&#34;[https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js](https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js)&#34;&gt;&lt;/script&gt;  
</span></span></span><span class="line"><span class="cl"><span class="c">    &lt;![endif]--&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar navbar-expand-lg navbar-light bg-light&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;navigation&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar-nav mr-auto&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item active&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Home<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>Info<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">li</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">form</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-inline my-2 my-lg-0&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;form-control mr-sm-2&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span> <span class="na">aria-label</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">button</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;btn btn-outline-success my-2 my-sm-0&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span>Search<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Info about this site<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">footer</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;navbar navbar-dark bg-secondary&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;contentinfo&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Copyright info goes here<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">footer</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>请注意，除了突出显示的内容外， <code>about.html</code> 中的所有内容都与 <code>index.html</code> 相同。虽然这有效，但从维护的角度来看，它变得有问题。如果我们使用这种技术制作 7 个不同的页面，那将是大量重复的代码。如果我们以后想对导航栏进行更改，则必须将更改复制到所有 7 个文件中。这违反了众所周知的软件原则，称为 <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">DRY</a>（不要重复自己）。</p>
<h4 id="在服务器上构建模板">在服务器上构建模板</h4>
<p>此问题的一个解决方案是使用模板引擎。这涉及在 HTML 中编写非标准 HTML，然后将其输入到一个单独的程序中，该程序将用标准HTML替换非标准 HTML。最好用一个例子来解释这一点。</p>
<p>假设你正在使用 PHP，这是最早设计用于HTML的语言之一（今天仍然被许多大公司使用）。您将创建一个 <code>head.php</code> 文件（包含 <code>&lt;head&gt;</code> 元素中的内容）、 <code>header.php</code> 文件（包含导航栏元素）和 <code>footer.php</code> （包含页脚元素）。</p>
<p>拥有这些文件后，您可以创建一个 <code>index.php</code> 文件，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;head.php&#34;);?&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;header.php&#34;);?&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;jumbotron&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        ...  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        ...  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;footer.php&#34;);?&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p><code>about.php</code> 文件如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;head.php&#34;);?&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;header.php&#34;);?&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>About<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Info about this site<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="cp">&lt;?php include(&#34;footer.php&#34;);?&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>所以在这里你可以看到唯一改变的部分是中间的内容。如果需要更新页眉、页脚或外部依赖项，则只需更改一次。</p>
<p>上面的代码显然不是有效的 HTML — 您需要某种构建步骤来将 <code>include</code> 语句替换为单独文件中的 HTML。我们实际上可以将其合并到我们之前看到的构建步骤中（用于代码缩小、文件连接、关键 CSS 等）。但是，从模板生成 HTML 的这一步传统上是在服务器上动态完成的。</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__3fBZ27QgR7eDCoPTjam6nw.png#medium" alt="Diagram of client server model"  />
</p>
<center>来自 wikipedia.org </center>
<p>服务器是接收 Web 请求并将 HTML/CSS/JS 作为 Web 响应发送回的计算机（与客户端相反，具有启动 Web 请求的 Web 浏览器的计算机）。服务器通常负责基于数据库中的数据创建动态 HTML。例如，如果您在 <a href="https://www.google.com">www.google.com</a> 上搜索“红色香蕉”，则不会有一些关于红色香蕉的唯一HTML文件从服务器发送给您。相反，服务器运行代码以根据您的搜索词动态创建 HTML 响应。所以在这里你可以用一块石头杀死两只鸟——因为你已经有一个步骤在服务器上生成动态 HTML，你可以使用模板来定义生成的 HTML 来保持你的代码干燥。</p>
<p>在服务器上使用模板构建 HTML 是一种解决方案，在相当长的一段时间内一直是事实上的标准。除了 PHP，还有 <a href="https://rubyonrails.org/">Ruby on Rails</a> 框架的 <a href="https://en.wikipedia.org/wiki/ERuby">ERB</a>，Python 的 <a href="https://www.djangoproject.com/">Django</a> 框架的 <a href="https://docs.djangoproject.com/en/1.7/topics/templates/">Django模板语言</a>，Node&rsquo;s <a href="https://expressjs.com/">Express</a> 框架的<a href="http://ejs.co/">EJS</a>等。这种方法可能非常令人生畏——为了利用模板引擎编写可维护的代码，您基本上首先必须学习整个编程语言和 Web 框架！如果您已经计划使用服务器和数据库，那么这是很自然的选择。但是，如果您只是对在前端编写 HTML 感兴趣，那么老实说，这是一个巨大的进入障碍。</p>
<blockquote>
<p>注意：如果您的网站不需要数据库，则可以改用静态网站生成器，该生成器使用模板来构建静态HTML文件（Jekyll，Hugo和Gatsby是一些流行的选择）。与服务器端 Web 框架相比，静态站点生成器可能更易于使用;但是，您仍然需要学习单独的编程语言或环境，因此与编写纯HTML相比，进入仍然存在障碍。</p>
</blockquote>
<h4 id="在客户端上使用-web-组件">在客户端上使用 Web 组件</h4>
<p>Web 组件于2011年首次引入，作为解决 HTML 可维护性问题的完全不同的方法。Web 组件是在客户端而不是服务器上构建的，这消除了必须学习服务器端编程语言和 Web 框架来编写可维护的 HTML 的障碍。</p>
<p>Web 组件的总体目标是能够创建可重用的小部件。回顾前面的示例，您可以创建导航栏组件、页眉组件和页脚组件。更进一步，您可以为页面中的内容创建一个巨型组件和一个文章组件。然后，您可以使用 <code>index.html</code> 中的组件，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    ...
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">navbar-component</span><span class="p">&gt;&lt;/</span><span class="nt">navbar-component</span><span class="p">&gt;</span> 
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;main&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">jumbotron-component</span><span class="p">&gt;&lt;/</span><span class="nt">jumbotron-component</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">section</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;container&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">articles-component</span><span class="p">&gt;&lt;/</span><span class="nt">articles-component</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">&lt;</span><span class="nt">footer-component</span><span class="p">&gt;&lt;/</span><span class="nt">footer-component</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>为了使其正常工作，我们需要创建自定义元素，其中我们基本上是为HTML语言定义新元素（仅适用于此特定网站）。要创建自定义元素，您必须使用 JavaScript。下面是创建导航栏自定义元素所需的 JavaScript 示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">customElements</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span>  
</span></span><span class="line"><span class="cl">  <span class="s2">&#34;navbar-component&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="kr">class</span> <span class="kr">extends</span> <span class="nx">HTMLElement</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">connectedCallback</span><span class="p">()</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">      <span class="k">this</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="sb">`  
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;nav class=&#34;navbar navbar-expand-lg navbar-light bg-light&#34; role=&#34;navigation&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">          &lt;ul class=&#34;navbar-nav mr-auto&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;li class=&#34;nav-item active&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">              &lt;a class=&#34;nav-link&#34; href=&#34;#&#34;&gt;Home&lt;/a&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/li&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;li class=&#34;nav-item&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">              &lt;a class=&#34;nav-link&#34; href=&#34;#&#34;&gt;Info&lt;/a&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/li&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;li class=&#34;nav-item&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">              &lt;a class=&#34;nav-link&#34; href=&#34;#&#34;&gt;About&lt;/a&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;/li&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">          &lt;/ul&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">          &lt;form class=&#34;form-inline my-2 my-lg-0&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;input class=&#34;form-control mr-sm-2&#34; type=&#34;text&#34; placeholder=&#34;Search&#34; aria-label=&#34;Search&#34;&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">            &lt;button class=&#34;btn btn-outline-success my-2 my-sm-0&#34; type=&#34;submit&#34;&gt;Search&lt;/button&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">          &lt;/form&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">        &lt;/nav&gt;  
</span></span></span><span class="line"><span class="cl"><span class="sb">       `</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">);</span>
</span></span></code></pre></div><p>JavaScript 看起来有点复杂（它使用新的 <a href="https://en.wikipedia.org/wiki/ECMAScript#6th_Edition_-_ECMAScript_2015">ES2015</a> 语言功能），但它在这个例子中所做的只是为导航栏定义 HTML（上面以粗体显示）并将名称 <code>navbar-component</code> 注册为自定义元素。请注意，HTML 是使用<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals">模板文字</a>在 JavaScript 文件中定义的，本质上是一个巨大的字符串——如果你更喜欢将其移回常规 HTML 文件，我们将需要一个不同的机制，我们将在稍后讨论。如果您将此 JavaScript 添加到页面，您现在可以在普通 HTML 元素之外创建 <code>&lt;navbar-component&gt;</code> 个元素。</p>
<p>到目前为止，在此示例中，此方法与服务器端模板方法相比没有太大优势。但是，当您开始向每个组件添加 JavaScript 功能和 CSS 样式时，好处变得更加明显。Web 组件提供了隔离功能和样式的功能，以保留在每个组件中，使它们可重用 — 不仅用于此站点，而且理论上可以在多个项目中重用。这个概念可以在现有的 HTML 元素（如 <code>&lt;video&gt;</code> 元素）中看到。如果你像这样写 HTML：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">video</span> <span class="na">width</span><span class="o">=</span><span class="s">&#34;320&#34;</span> <span class="na">height</span><span class="o">=</span><span class="s">&#34;240&#34;</span> <span class="na">controls</span> <span class="na">loop</span> <span class="na">muted</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">source</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;movie.mp4&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;video/mp4&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">source</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;movie.ogg&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;video/ogg&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">p</span><span class="p">&gt;</span>Your browser doesn&#39;t support HTML5 video. Here is  
</span></span><span class="line"><span class="cl">     a <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;movie.mp4&#34;</span><span class="p">&gt;</span>link to the video<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span> instead.<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">video</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>你会得到一个看起来像这样的视频播放器：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__3pRSQmwBda1IeFo1Smrg__A.png" alt="Example HTML video element"  />
</p>
<center>*（这是视频的图片，不是实际的视频）*</center>
<p>元素带有自己的 JavaScript 交互式控件和 CSS 样式，它们与页面的其余部分隔离。这意味着当您使用 <video> 元素时，您不必担心它会影响您网站的样式或功能，也不必担心来自网站的任何 CSS 或 JavaScript 会破坏视频组件。</p>
<p>Web 组件的目标是使开发人员能够创建自己的自定义组件，类似于 <code>&lt;video&gt;</code> 元素，并具有所有隔离和可重用性优势。以下是 Web 组件规范的所有部分如何协同工作：</p>
<ul>
<li>
<p>您可以在 JavaScript 中创建<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements">自定义元素</a>，如前所述。然后，您可以在 JavaScript 中定义自定义功能，并将属性从 HTML 传递到自定义元素中。</p>
</li>
<li>
<p>您可以使用<a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM">影子 DOM</a> 使用 CSS 设置自定义元素的样式，该样式仅适用于元素而不是整个文档（解决 CSS 最困难的方面之一）。</p>
</li>
<li>
<p>如果你不想直接用 JavaScript 编写所有的 HTML，你可以使用 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template">HTML 模板</a>，在 <code>&lt;template&gt;</code> 标记中将组件的 HTML 写入普通 HTML 文件中，在被 JavaScript 调用之前不会呈现。</p>
</li>
<li>
<p>要组织代码，您可以使用 <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/HTML_Imports">HTML 导入</a>，您可以在其中将定义组件所需的所有 HTML、CSS 和 JavaScript 放入名为 <code>navbar-component.html</code> 的文件中，然后将其导入主 HTML 文件中，就像导入外部 CSS 文件一样：<code>&lt;link rel=&quot;import&quot; href=&quot;navbar-component.html&quot;&gt;</code>.</p>
</li>
</ul>
<p>当 Web 组件在 2011 年首次发布时，许多开发人员对这些可能性感到兴奋。虽然服务器端模板化方法有助于解决 HTML 的一些可维护性问题，但 Web 组件提供了完全不同的东西 - 扩展 HTML 的承诺将具有完整的可重用小部件。这是使 Web 平台成为可以开发复杂应用程序的地方所缺少的部分，而不是最初设计的简单静态内容站点。</p>
<p>那么发生了什么？在接下来的几年里，很明显，浏览器并没有就 Web 组件作为标准达成一致。截至2018年，几乎没有浏览器完全支持上述Web 组件的四个主要功能，这是由于实现性能的潜在问题，标准冲突和不同的公司利益。这让开发人员处于一个有趣的位置 - 几乎每个人都同意组件样式方法是将 Web 从静态站点转移到复杂应用程序的必要部分，但等待浏览器支持似乎是徒劳的。怎么办？</p>
<h4 id="在客户端上使用-javascript-框架">在客户端上使用 JavaScript 框架</h4>
<p>当 HTML Web 组件规范不会很快实现时，JavaScript 已经是一种足够强大的语言来弥补这一缺陷。开发人员一直在使用 <a href="https://jquery.com/">jQuery</a> 库（2006年发布）制作复杂的应用程序，尽管很难为大规模应用程序组织代码。<a href="http://backbonejs.org/">Backbone.js</a>（2010年发布）是最早的流行库之一，旨在为大型单页应用程序提供组织代码的框架，其次是 <a href="https://angularjs.org/">AngularJS</a>，<a href="https://www.emberjs.com/">Ember.js </a>等。</p>
<p>所有这些框架都与现有的 JavaScript 功能一起工作 - 它们不必依赖于等待浏览器来实现Web组件规范。但是没有一个框架使用真正的孤立和可重用的组件；如果没有 Web 组件规范的 4 个部分（自定义元素、影子 DOM、HTML 模板和 HTML 导入），这似乎是不可能的。</p>
<p>2013 年，一个名为 <a href="https://reactjs.org/">React</a> 的框架发布，它对这种情况有一个有趣的看法。他们能够使用以下方法在没有 Web 组件规范的情况下制作一个真正的基于组件的框架：</p>
<ul>
<li>React 没有使用 Web 组件的自定义元素规范，而是采用了在 JavaScript 中定义所有 HTML 的方法。从本质上讲，您将定义JavaScript函数以使用称为JSX的特殊语法输出所需的HTML（它看起来像HTML，但使用构建步骤转换为JavaScript函数）。</li>
<li>React 没有使用 Web 组件的 HTML 模板规范，而是没有提供在 JavaScript 之外编写 HTML 的方法。</li>
<li>React 没有使用 Web 组件的 HTML 导入规范，而是采用了将 JavaScript 导入 JavaScript 的方法。这在当时实际上并不直接可行，但像<a href="http://browserify.org/">Browserify</a> 和 <a href="https://webpack.js.org/">webpack</a>这样的工具允许开发人员在 他们的 JavaScript 中编写 <code>require</code> 或 <code>import</code> 语句，这些语句将在构建时转换为单个JavaScript包。</li>
</ul>
<p>从本质上讲，这里的见解是，您可以通过在 JavaScript 中执行所有操作来使组件工作。请注意，这里缺少 Web 组件规范的一部分，即影子 DOM——React 在首次发布时没有隔离样式的解决方案。尽管如此，它足以为今天使用组件构建应用程序提供一个框架。</p>
<p>这就是 JavaScript 使用 React 制作导航栏组件的样子：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-jsx" data-lang="jsx"><span class="line"><span class="cl"><span class="kr">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;react&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">class</span> <span class="nx">Navbar</span> <span class="kr">extends</span> <span class="nx">Component</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="p">(</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;</span><span class="nt">nav</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;navbar navbar-expand-lg navbar-light bg-light&#34;</span> <span class="na">role</span><span class="o">=</span><span class="s">&#34;navigation&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">ul</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;navbar-nav mr-auto&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-item active&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span><span class="nx">Home</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span><span class="nx">Info</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">li</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-item&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">            <span class="p">&lt;</span><span class="nt">a</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;nav-link&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;#&#34;</span><span class="p">&gt;</span><span class="nx">About</span><span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;</span><span class="nt">form</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;form-inline my-2 my-lg-0&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">input</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;form-control mr-sm-2&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text&#34;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&#34;Search&#34;</span> <span class="na">aria</span><span class="err">-</span><span class="na">label</span><span class="o">=</span><span class="s">&#34;Search&#34;</span><span class="p">/&gt;</span>  
</span></span><span class="line"><span class="cl">          <span class="p">&lt;</span><span class="nt">button</span> <span class="na">className</span><span class="o">=</span><span class="s">&#34;btn btn-outline-success my-2 my-sm-0&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;submit&#34;</span><span class="p">&gt;</span><span class="nx">Search</span><span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">        <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">      <span class="p">&lt;/</span><span class="nt">nav</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">    <span class="p">);</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kr">export</span> <span class="k">default</span> <span class="nx">Navbar</span><span class="p">;</span>
</span></span></code></pre></div><p>这与前面显示的自定义元素示例没有太大区别（尽管 JSX 语法在大多数开发人员第一次看到它时都感到不安）。React 中的想法是将其分解为进一步的子组件，这样每个组件只做一件事。</p>
<p>当 React 首次发布时，它遭到了很多批评，特别是因为它似乎缺乏关注点分离（开发人员被教导将 HTML、CSS 和 JS 完全分开以实现可维护性）。然而，React 提出了这样一个观点，即对于复杂的Web应用程序，关注点的分离不是关于技术（HTML，CSS和JS）之间的边界，而是关于功能单元（换句话说，组件）之间的边界。</p>
<p>除了作为一个基于组件的框架之外，React 还带来了关于如何使用声明性方法管理应用程序中数据的强烈意见。这意味着使用 React，您无需编写代码即可直接更新接口。相反，你定义接口应该是什么样子（使用 JSX），编写代码来更新数据，然后让 React 弄清楚如何使用其虚拟 DOM 实现有效地更新和渲染接口（不要与影子 DOM 混淆）。这是 Web 框架设计的一个重大转变，影响力大到每个主要框架都公开借用了 React 使用 <a href="https://reactjs.org/docs/faq-internals.html">虚拟 DOM</a> 实现的声明式方法 — Ember、Angular、Vue.js，等等。截至2018年，Web 开发社区已在很大程度上接受这种范式作为构建现代 Web 应用程序的方式。</p>
<p>请注意，以清晰且可维护的方式编写 HTML 的愿望使我们进入了一个需要大量编程知识的地方;几乎不可能特别避免 JavaScript。从某种意义上说，这打破了HTML的承诺，HTML 被设计成一种不需要理解编程就可以有效使用的语言。未来可能会有开发人员可以在纯 HTML 中共享预先构建的 Web 组件，但未来可能需要相当长的时间才能到来。</p>
<blockquote>
<p>本节仅简要概述了 React 和其他类似框架采用的前端方法。如果你想要更完整的解释和教程，关于如何使用各种JavaScript框架和方法构建一个工作的应用程序，请查看我的系列比较前端方法：<a href="https://medium.com/actualize-network/comparing-frontend-frameworks-part-1-introduction-6cf3d49e42cf">看看jQuery，Vue.js，React和Elm</a>。</p>
</blockquote>
<h3 id="结论">结论</h3>
<p>简而言之，这就是现代 HTML。我们介绍了使用适当的标签和 aria 属性编写语义和可访问的内容，使用 CSS 和 JavaScript 添加样式和动态功能，使用 HTML 属性和工具提高性能，最后使用模板和组件来提高可维护性。在此过程中，我们可以看到，要充分利用现代 HTML，几乎不可能避免使用构建过程以及某种形式的独立编程语言，对于大多数方法来说，这通常是 JavaScript。</p>
<p>从高层次来看它有时会令人沮丧——过去是一个简单易用的工作（用 HTML 制作网站）现在变得复杂且似乎难以接近（使用JavaScript前端框架制作 Web 应用程序，使用具有数千个潜在脆弱依赖项的构建过程）。然而，重要的是要注意，Web 开发作为一个行业只存在了大约30年 - 与其他行业（例如已经存在了许多世纪的建筑）相比，这只是历史的一小部分。就好像 Web 开发人员刚刚学会了如何用粘土建造房屋，现在被要求使用相同的工具来建造摩天大楼。我们的工具和流程不断发展是很自然的;我们只需要确保它以一种<a href="https://www.vanityfair.com/news/2018/07/the-man-who-created-the-world-wide-web-has-some-regrets">包容网络作为民主平台</a>的最初愿景的方式发展。</p>
<p>现代 HTML 的使用肯定会令人沮丧，因为它继续快速变化和发展。然而，我们现在能够做的比以往任何时候都多，而且我们基本上都处于一个新行业的底层，有可能将其塑造成我们希望它成为的平台。作为一名开发人员，这是一个激动人心的时刻，我希望这些信息可以作为路线图，在您的旅程中为您提供帮助！</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__fHND__kRQTWkLMFlOwbZNrw.png" alt="Dinosaur comic panel 5"  />
</p>
<p>特别感谢 <a href="https://twitter.com/ryanqnorth">@ryanqnorth</a> 的 <a href="http://www.qwantz.com/">恐龙漫画</a>，自2003年以来（恐龙统治网络）以来，它提供了一些最好的荒诞幽默。</p>
<blockquote>
<p>对这种学习方式感兴趣？请务必查看 <a href="http://anyonecanlearntocode.com/">Actualize 编码训练营</a>（我是教学主任和首席讲师）。我们在芝加哥提供 <a href="http://anyonecanlearntocode.com/chicago-coding-bootcamp">面对面的课程</a> 以及 <a href="http://anyonecanlearntocode.com/online-coding-bootcamp">实时在线课程</a>，以帮助人们过渡到现代网络开发人员的新职业！</p>
</blockquote>
<p>原文链接：<a href="https://peterxjang.com/blog/modern-html-explained-for-dinosaurs.html">https://peterxjang.com/blog/modern-html-explained-for-dinosaurs.html</a></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>[译]为恐龙解释现代JavaScript</title>
      <link>https://blog.chensoul.com/posts/2023/06/19/modern-javascript-explained-for-dinosaurs/</link>
      <pubDate>Mon, 19 Jun 2023 09:00:00 +0800</pubDate>
      
      <guid>https://blog.chensoul.com/posts/2023/06/19/modern-javascript-explained-for-dinosaurs/</guid>
      <description>图片来自Ryan North的Dinosaur Comics。 如果你从一开始就没有去过那里，那么学习现代 JavaScript 是很困难的。生态系统的发展和变化如此之</description>
      <content:encoded><![CDATA[<p><img loading="lazy" src="https://peterxjang.com/img/1__H8PH__HaV43gZyBJz0mJHxA.png" alt="Images from Dinosaur Comics by Ryan North"  />
</p>
<center>图片来自Ryan North的Dinosaur Comics。</center>
<p>如果你从一开始就没有去过那里，那么学习现代 JavaScript 是很困难的。生态系统的发展和变化如此之快，以至于很难理解不同工具试图解决的问题。我从 1998 年开始编程，但直到 2014 年才开始认真学习 JavaScript。当时我记得遇到 <a href="http://browserify.org/">Browserify</a> 并盯着它的标语：</p>
<blockquote>
<p>Browserify 通过捆绑所有依赖项，让你在浏览器中导入（&lsquo;模块&rsquo;）。</p>
</blockquote>
<p>我几乎听不懂这句话中的任何单词，并且努力理解这对我作为开发人员有什么帮助。</p>
<p>本文的目的是提供一个历史背景，说明 JavaScript 工具如何在 2017 年发展到今天的样子。我们将从头开始，像恐龙一样构建一个示例网站 - 没有工具，只有普通的 HTML 和 JavaScript。然后，我们将逐步介绍不同的工具，以查看它们一次解决一个问题。有了这个历史背景，你将能够更好地学习和适应未来不断变化的 JavaScript 环境。让我们开始吧！</p>
<blockquote>
<p>更新：我制作了本文的视频课程版本，为了更清晰，我逐步浏览了每个部分，请在此处查看：
<a href="https://firstclass.actualize.co/p/modern-javascript-explained-for-dinosaurs">https://firstclass.actualize.co/p/modern-javascript-explained-for-dinosaurs</a></p>
</blockquote>
<h3 id="以老派的方式使用-javascript">以&quot;老派&quot;的方式使用 JavaScript</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- index.html --&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JavaScript Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  **<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;index.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>**  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello from HTML!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>第 <code>&lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;</code> 行引用同一目录中名为 <code>index.js</code> 的单独 JavaScript 文件：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// index.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello from JavaScript!&#34;</span><span class="p">);</span>
</span></span></code></pre></div><p>这就是制作网站所需的全部内容！现在，假设您想添加一个其他人编写的库，例如 moment.js（一个可以帮助以人类可读的方式格式化日期的库）。例如，您可以在 JavaScript 中使用 <code>moment</code> 函数，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="nx">moment</span><span class="p">().</span><span class="nx">startOf</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">).</span><span class="nx">fromNow</span><span class="p">();</span>        <span class="c1">// 20 hours ago
</span></span></span></code></pre></div><p>但这只是假设您在网站上包含 moment.js！在 <a href="http://momentjs.com/">moment.js 主页</a> 上您会看到以下说明：</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__ef7OX37jr____Jc38ZxO97Iw.png" alt="Install instructions for moment.js"  />
</p>
<p>嗯，右侧的&quot;安装&quot;部分有很多内容。但是现在让我们忽略它 - 我们可以通过在同一目录中下载 <code>moment.min.js</code> 文件并将其包含在我们的 <code>index.html</code> 文件中来为我们的网站添加 moment.js。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- index.html --&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;index.css&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;moment.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;index.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello from HTML!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>请注意， <code>moment.min.js</code> 在 <code>index.js</code> 之前加载，这意味着您可以在 <code>index.js</code> 中使用 <code>moment</code> 函数，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// index.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello from JavaScript!&#34;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">startOf</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">).</span><span class="nx">fromNow</span><span class="p">());</span>
</span></span></code></pre></div><p>这就是我们过去使用 JavaScript 库制作网站的方式！好消息是它很容易理解。不好的是，每次更新时查找和下载新版本的库都很烦人。</p>
<h3 id="使用-javascript-包管理器-npm">使用 JavaScript 包管理器 （npm）</h3>
<p>从 2010 年左右开始，出现了几个相互竞争的 JavaScript 包管理器，以帮助自动化从中央存储库下载和升级库的过程。<a href="https://bower.io/">Bower</a> 可以说是2013年最受欢迎的，但最终在2015年左右被 <a href="https://www.npmjs.com/">npm</a> 超越。（值得注意的是，从 2016 年末开始，<a href="https://yarnpkg.com/en/">yarn</a> 作为 npm 接口的替代品获得了很大的关注，但它仍然在引擎盖下使用 npm 包。</p>
<p>请注意，npm 最初是专门为 node.js 制作的包管理器，这是一个旨在在服务器上运行的 JavaScript 运行时，而不是前端。因此，对于打算在浏览器中运行的库的前端 JavaScript 包管理器来说，这是一个非常奇怪的选择。</p>
<blockquote>
<p>注意：使用包管理器通常涉及使用命令行，过去前端开发从不需要命令行。如果您从未使用过，可以阅读<a href="https://www.learnenough.com/command-line-tutorial">本教程</a>以获取入门的良好概述。无论好坏，知道如何使用命令行是现代JavaScript的重要组成部分（它也为其他开发领域打开了大门）。</p>
</blockquote>
<p>让我们看看如何使用 npm 自动安装 moment.js 包，而不是手动下载它。如果您安装了 node.js，则您已经安装了 npm，这意味着您可以将命令行导航到包含 <code>index.html</code> 文件的文件夹并输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm init
</span></span></code></pre></div><p>这将提示您几个问题（默认值很好，您可以为每个问题点击“Enter”）并生成一个名为 <code>package.json</code> 的新文件。这是 npm 用来保存所有项目信息的配置文件。使用默认值时， <code>package.json</code> 的内容应如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;your-project-name&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>要安装 moment.js JavaScript 包，我们现在可以通过在命令行中输入以下命令来按照其主页上的 npm 说明进行操作：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm install moment --save
</span></span></code></pre></div><p>此命令执行两件事 — 首先，它从 <a href="https://unpkg.com/moment/">moment.js 包</a> 下载所有代码名为 <code>node_modules</code> 的文件夹中。其次，它会自动修改 <code>package.json</code> 文件以跟踪 moment.js 作为项目依赖项。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;modern-javascript-example&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;moment&#34;</span><span class="p">:</span> <span class="s2">&#34;^2.22.2&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>这在以后与他人共享项目时很有用 - 而不是共享 <code>node_modules</code> 文件夹（可能会变得非常大），您只需要共享 <code>package.json</code> 文件，其他开发人员可以使用命令 <code>npm install</code> 自动安装所需的包。</p>
<p>所以现在我们不再需要从网站上手动下载 momentjs，我们可以使用 npm 自动下载和更新它。查看 <code>node_modules</code> 文件夹内部，我们可以看到 <code>moment.min.js</code> 目录中的 <code>node_modules/moment/min</code> 文件。这意味着我们可以链接到 <code>index.html</code> 文件中的 npm 下载版本，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- index.html --&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JavaScript Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;node_modules/moment/min/moment.min.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;index.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello from HTML!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>所以好消息是我们现在可以使用 npm 通过命令行下载和更新我们的包。不好的是，现在我们正在挖掘 <code>node_modules</code> 文件夹以查找每个包的位置，并手动将其包含在我们的 HTML 中。这很不方便，所以接下来我们将看看如何自动化该过程。</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__GeEETvRqyG4o7SZdbU2Guw.png" alt="Dinosaur comic panel 2"  />
</p>
<h3 id="使用-javascript-模块捆绑器webpack">使用 JavaScript 模块捆绑器（webpack)　</h3>
<p>大多数编程语言都提供了一种将代码从一个文件导入另一个文件的方法。JavaScript 最初并不是使用此功能设计的，因为 JavaScript 被设计为仅在浏览器中运行，无法访问客户端计算机的文件系统（出于安全原因）。因此，在很长一段时间内，在多个文件中组织 JavaScript 代码需要您使用全局共享的变量加载每个文件。</p>
<p>这实际上是我们在上面所做的 moment.js 示例 — 整个 <code>moment.min.js</code> 文件加载到 HTML 中，HTML 定义了一个全局变量 <code>moment</code> ，然后可用于在 <code>moment.min.js</code> 之后加载的任何文件（无论它是否需要访问它）。</p>
<p>2009年，一个名为 CommonJS 的项目启动，目标是在浏览器之外为 JavaScript 指定一个生态系统。CommonJS 的很大一部分是它的模块规范，它最终允许 JavaScript 像大多数编程语言一样跨文件导入和导出代码，而无需诉诸全局变量。最著名的 CommonJS 模块实现是 node.js。</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__xeF1flp1zDLLJ4j7rDQ6__Q.png#medium" alt="Node.js logo"  />
</p>
<p>如前所述，node.js 是一个设计用于在服务器上运行的 JavaScript 运行时。下面是前面的示例使用 node.js 模块的样子。与其使用 HTML 脚本标记加载所有 <code>moment.min.js</code> ，不如直接将其加载到 JavaScript 文件中，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// index.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;moment&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello from JavaScript!&#34;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">startOf</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">).</span><span class="nx">fromNow</span><span class="p">());</span>
</span></span></code></pre></div><p>同样，这就是模块加载在 node.js 中的工作方式，由于 node.js 是一种可以访问计算机文件系统的服务器端语言，因此效果很好。Node.js 也知道每个 npm 模块路径的位置，所以你不必写 <code>require('./node_modules/moment/min/moment.min.js)</code> ，你可以简单地写 <code>require('moment')</code> — 非常甜蜜。</p>
<p>这对于 node.js 来说都很棒，但是如果您尝试在浏览器中使用上述代码，则会收到一条错误消息，指出未定义浏览器无法访问文件系统，这意味着以这种方式加载模块非常棘手 - 加载文件必须动态完成，同步（这会减慢执行速度）或异步（可能存在计时问题）。</p>
<p>这就是模块捆绑器的用武之地。JavaScript 模块捆绑器是一种工具，它通过构建步骤（可以访问文件系统）来解决问题，以创建与浏览器兼容的最终输出（不需要访问文件系统）。在这种情况下，我们需要一个模块捆绑器来查找所有 <code>require</code> 语句（这是无效的浏览器 JavaScript 语法），并将它们替换为每个所需文件的实际内容。最终结果是一个捆绑的 JavaScript 文件（没有 require 语句）！</p>
<p>最流行的模块捆绑器是 Browserify，它于 2011 年发布，率先在前端使用 node.js 样式的需求语句（这本质上是使 npm 成为首选前端包管理器的原因）。大约在 2015 年，webpack 最终成为使用更广泛的模块捆绑器（受到 React 前端框架的普及的推动，它充分利用了 webpack 的各种功能）。</p>
<p>让我们来看看如何使用 webpack 让上面的 <code>require('moment')</code> 示例在浏览器中工作。首先，我们需要将 webpack 安装到项目中。Webpack 本身是一个 npm 包，所以我们可以从命令行安装它：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm install webpack webpack-cli --save-dev
</span></span></code></pre></div><p>请注意，我们正在安装两个软件包 — webpack 和 webpack-cli（它使您能够从命令行使用 webpack）。另请注意 <code>--save-dev</code> 参数 — 这会将其保存为开发依赖项，这意味着它是开发环境中需要的包，而不是生产服务器上需要的包。您可以在自动更新的 <code>package.json</code> 文件中看到这反映在：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;modern-javascript-example&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;moment&#34;</span><span class="p">:</span> <span class="s2">&#34;^2.19.1&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.17.1&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack-cli&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.1.0&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>现在我们已经将 webpack 和 webpack-cli 作为包安装在 <code>node_modules</code> 文件夹中。您可以从命令行使用 webpack-cli，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ./node_modules/.bin/webpack index.js --mode<span class="o">=</span>development
</span></span></code></pre></div><p>此命令将运行安装在 <code>node_modules</code> 文件夹中的 webpack 工具，从 <code>index.js</code> 文件开始，找到任意 <code>require</code> 语句，并将它们替换为适当的代码以创建单个输出文件（默认为 <code>dist/main.js</code> ）。 <code>--mode=development</code> 参数是为了让开发人员保持 JavaScript 的可读性，而不是参数 <code>--mode=production</code> 的缩小输出。</p>
<p>现在我们有了 webpack 的 <code>dist/main.js</code> 输出，我们将在浏览器中使用它而不是 <code>index.js</code> ，因为它包含无效的 require 语句。这将反映在 <code>index.html</code> 文件中，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="c">&lt;!-- index.html --&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="cp">&lt;!DOCTYPE html&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">html</span> <span class="na">lang</span><span class="o">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">meta</span> <span class="na">charset</span><span class="o">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">title</span><span class="p">&gt;</span>JavaScript Example<span class="p">&lt;/</span><span class="nt">title</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;dist/main.js&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">head</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>Hello from HTML!<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">body</span><span class="p">&gt;</span>  
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">html</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>如果您刷新浏览器，您应该会看到一切都像以前一样工作！</p>
<p>请注意，每次更改 <code>index.js</code> 时，我们都需要运行 webpack 命令。这很乏味，当我们使用 webpack 更高级的功能（例如生成源映射以帮助从转译的代码调试原始代码）时，这将变得更加乏味。Webpack 可以从名为 <code>webpack.config.js</code> 的项目根目录中的配置文件中读取选项，在我们的例子中，它看起来像：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// webpack.config.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">mode</span><span class="o">:</span> <span class="s1">&#39;development&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">entry</span><span class="o">:</span> <span class="s1">&#39;./index.js&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">output</span><span class="o">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">filename</span><span class="o">:</span> <span class="s1">&#39;main.js&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">publicPath</span><span class="o">:</span> <span class="s1">&#39;dist&#39;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>现在每次我们更改 <code>index.js</code> 时，我们都可以使用以下命令运行 webpack：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ./node_modules/.bin/webpack
</span></span></code></pre></div><p>我们不再需要指定 <code>index.js</code> 和 <code>--mode=development</code> 选项，因为 webpack 正在从 <code>webpack.config.js</code> 文件中加载这些选项。这更好，但为每个代码更改输入此命令仍然很乏味 - 我们将使此过程更顺畅。</p>
<p>总的来说，这可能看起来不多，但这个工作流程有一些巨大的优势。我们不再通过全局变量加载外部脚本。任何新的 JavaScript 库都将在 JavaScript 中使用 <code>require</code> 语句添加，而不是在 HTML 中添加新的 <code>&lt;script&gt;</code> 标签。拥有单个 JavaScript 捆绑包文件通常对性能更好。现在我们添加了构建步骤，我们可以将其他一些强大的功能添加到我们的开发工作流程中！</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__ee__ivxNTKgIJTjmEMC4__dg.png" alt="Dinosaur comic panels 3 and 4"  />
</p>
<h3 id="为新的语言功能转译代码-babel">为新的语言功能转译代码 （babel）</h3>
<p>转译代码意味着将一种语言的代码转换为另一种类似语言的代码。这是前端开发的一个重要部分——由于浏览器添加新功能的速度很慢，因此使用实验性功能创建了新语言，这些功能可以转换为浏览器兼容语言。</p>
<p>对于CSS，有 <a href="http://sass-lang.com/">Sass</a>，<a href="http://lesscss.org/">Less </a>和 <a href="http://stylus-lang.com/">Stylus</a>，仅举几例。对于 JavaScript，一段时间内最流行的转译器是 <a href="http://coffeescript.org/">CoffeeScript</a>（2010年左右发布），而现在大多数人使用 <a href="https://babeljs.io/">babel  </a>或 <a href="http://www.typescriptlang.org/">TypeScript</a>。CoffeeScript 是一种专注于通过显著改变语言来改进 JavaScript 的语言——可选的括号、重要的空格等。Babel 不是一门新语言，而是一种转译器，它将尚未适用于所有浏览器（<a href="https://babeljs.io/learn-es2015/">ES2015</a> 及更高版本）的下一代 JavaScript 转译为更兼容的旧 JavaScript （ES5）。Typescript 是一种与下一代  JavaScript 基本相同的语言，但也添加了可选的静态类型。许多人选择使用 babel，因为它最接近原版 JavaScript。</p>
<p>让我们看一个如何在我们现有的 webpack 构建步骤中使用 babel 的示例。首先，我们将从命令行将 babel（这是一个 npm 包）安装到项目中：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm install @babel/core @babel/preset-env babel-loader --save-dev
</span></span></code></pre></div><p>请注意，我们正在安装 3 个单独的包作为开发依赖项 — <code>@babel/core</code> 是 babel 的主要部分， <code>@babel/preset-env</code> 是定义要转译的新 JavaScript 功能的预设， <code>babel-loader</code> 是使 babel 能够使用 webpack 的包。我们可以通过编辑 <code>webpack.config.js</code> 文件将 webpack 配置为使用 <code>babel-loader</code> ，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// webpack.config.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">mode</span><span class="o">:</span> <span class="s1">&#39;development&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">entry</span><span class="o">:</span> <span class="s1">&#39;./index.js&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">output</span><span class="o">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">filename</span><span class="o">:</span> <span class="s1">&#39;main.js&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">publicPath</span><span class="o">:</span> <span class="s1">&#39;dist&#39;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nx">module</span><span class="o">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">rules</span><span class="o">:</span> <span class="p">[</span>  
</span></span><span class="line"><span class="cl">      <span class="p">{</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">test</span><span class="o">:</span> <span class="sr">/\.js$/</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">exclude</span><span class="o">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">        <span class="nx">use</span><span class="o">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">loader</span><span class="o">:</span> <span class="s1">&#39;babel-loader&#39;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">          <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">            <span class="nx">presets</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;@babel/preset-env&#39;</span><span class="p">]</span>  
</span></span><span class="line"><span class="cl">          <span class="p">}</span>  
</span></span><span class="line"><span class="cl">        <span class="p">}</span>  
</span></span><span class="line"><span class="cl">      <span class="p">}</span>  
</span></span><span class="line"><span class="cl">    <span class="p">]</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span> 
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span></code></pre></div><p>这种语法可能会令人困惑（幸运的是，这不是我们经常编辑的东西）。基本上，我们告诉 webpack 查找任何 .js 文件（不包括 <code>node_modules</code> 文件夹中的文件），并使用 <code>babel-loader</code> 和 <code>@babel/preset-env</code> 预设应用 babel 转译。您可以在<a href="http://webpack.github.io/docs/configuration.html">此处</a>阅读有关 webpack 配置语法的更多信息。</p>
<p>现在一切都设置好了，我们可以开始用我们的 JavaScript 编写 ES2015 功能了！下面是 <code>index.js</code> 文件中的 <a href="https://babeljs.io/learn-es2015/#ecmascript-2015-features-template-strings">ES2015 模板字符串</a>示例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// index.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;moment&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello from JavaScript!&#34;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">startOf</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">).</span><span class="nx">fromNow</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&#34;Bob&#34;</span><span class="p">,</span> <span class="nx">time</span> <span class="o">=</span> <span class="s2">&#34;today&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">, how are you </span><span class="si">${</span><span class="nx">time</span><span class="si">}</span><span class="sb">?`</span><span class="p">);</span>
</span></span></code></pre></div><p>我们还可以使用 <a href="https://babeljs.io/learn-es2015/#ecmascript-2015-features-modules">ES2015 import 语句 </a>代替 <code>require</code> 来加载模块，这就是您今天在很多代码库中看到的内容：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// index.js  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kr">import</span> <span class="nx">moment</span> <span class="nx">from</span> <span class="s1">&#39;moment&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&#34;Hello from JavaScript!&#34;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">moment</span><span class="p">().</span><span class="nx">startOf</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">).</span><span class="nx">fromNow</span><span class="p">());</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="s2">&#34;Bob&#34;</span><span class="p">,</span> <span class="nx">time</span> <span class="o">=</span> <span class="s2">&#34;today&#34;</span><span class="p">;</span>  
</span></span><span class="line"><span class="cl"><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Hello </span><span class="si">${</span><span class="nx">name</span><span class="si">}</span><span class="sb">, how are you </span><span class="si">${</span><span class="nx">time</span><span class="si">}</span><span class="sb">?`</span><span class="p">);</span>
</span></span></code></pre></div><p>在此示例中， <code>import</code> 语法与 <code>require</code> 语法没有太大区别，但 <code>import</code> 对于更高级的情况具有额外的灵活性。由于我们更改了 <code>index.js</code> ，我们需要在命令行中再次运行 webpack：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ ./node_modules/.bin/webpack
</span></span></code></pre></div><p>现在您可以在浏览器中刷新 <code>index.html</code> 。在撰写本文时，大多数现代浏览器都支持所有 ES2015 功能，因此很难判断 babel 是否完成了它的工作。您可以在 IE9 等较旧的浏览器中对其进行测试，也可以在 <code>main.js</code> 中搜索以查找转译的代码行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"><span class="c1">// main.js  
</span></span></span><span class="line"><span class="cl"><span class="c1">// ...  
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Hello &#39;</span> <span class="o">+</span> <span class="nx">name</span> <span class="o">+</span> <span class="s1">&#39;, how are you &#39;</span> <span class="o">+</span> <span class="nx">time</span> <span class="o">+</span> <span class="s1">&#39;?&#39;</span><span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="c1">// ...
</span></span></span></code></pre></div><p>在这里你可以看到 babel 将 ES2015 模板字符串转换为常规的 JavaScript 字符串连接，以保持浏览器兼容性。虽然这个特殊的例子可能不太令人兴奋，但转译代码的能力是非常强大的。JavaScript 中有一些令人兴奋的语言功能，如 <a href="async/await">async/await</a>，你可以立即开始使用它们来编写更好的代码。虽然音译有时可能看起来乏味和痛苦，但它在过去几年中导致了语言的巨大改进，因为人们今天正在测试明天的功能。</p>
<p>我们几乎完成了，但我们的工作流程中仍有一些未打磨的边缘。如果我们担心性能，我们应该<a href="https://en.wikipedia.org/wiki/Minification_%28programming%29">缩小</a>捆绑文件，这应该很容易，因为我们已经合并了一个构建步骤。每次更改 JavaScript 时，我们还需要重新运行 webpack 命令，这会很快变旧。因此，接下来我们要看的是解决这些问题的一些便捷工具。</p>
<h3 id="使用任务运行程序npm-脚本">使用任务运行程序（npm 脚本）</h3>
<p>现在我们已经投资使用构建步骤来处理 JavaScript 模块，使用任务运行器是有意义的，这是一个自动执行构建过程不同部分的工具。对于前端开发，任务包括缩小代码、优化图像、运行测试等。</p>
<p>2013年，Grunt 是最受欢迎的前端任务运行者，Gulp 紧随其后。两者都依赖于包装其他命令行工具的插件。如今，最流行的选择似乎是使用 npm 包管理器本身内置的脚本功能，它不使用插件，而是直接与其他命令行工具一起使用。</p>
<p>让我们编写一些 npm 脚本，以便更轻松地使用 webpack。这涉及简单地更改 <code>package.json</code> 文件，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;modern-javascript-example&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --progress --mode=production&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;watch&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --progress --watch&#34;</span> 
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;moment&#34;</span><span class="p">:</span> <span class="s2">&#34;^2.22.2&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;@babel/core&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;@babel/preset-env&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;babel-loader&#34;</span><span class="p">:</span> <span class="s2">&#34;^8.0.2&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack&#34;</span><span class="p">:</span> <span class="s2">&#34;^4.17.1&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack-cli&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.1.0&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在这里，我们添加了两个新脚本， <code>build</code> 和 <code>watch</code> 。要运行构建脚本，您可以在命令行中输入：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm run build
</span></span></code></pre></div><p>这将运行 webpack（使用我们之前所做的 <code>webpack.config.js</code> 中的配置），其中 <code>--progress</code> 选项显示进度百分比， <code>--mode=production</code> 选项最小化生产代码。要运行 <code>watch</code> 脚本，请执行以下操作：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm run watch
</span></span></code></pre></div><p>它使用 <code>--watch</code> 选项代替，以便在每次任何 JavaScript 文件更改时自动重新运行 webpack，这对于开发非常有用。</p>
<p>请注意， <code>package.json</code> 中的脚本可以在不必指定完整路径 <code>./node_modules/.bin/webpack</code> 的情况下运行 webpack，因为 node.js 知道每个 npm 模块路径的位置。这很甜！我们可以通过安装 webpack-dev-server 来让事情变得更加甜蜜，这是一个单独的工具，它提供了一个简单的 Web 服务器和实时重新加载。要将其安装为开发依赖项，请输入以下命令：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm install webpack-dev-server --save-dev
</span></span></code></pre></div><p>然后将一个 npm 脚本添加到 <code>package.json</code> ：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-json" data-lang="json"><span class="line"><span class="cl"><span class="p">{</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;modern-javascript-example&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;1.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;description&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;main&#34;</span><span class="p">:</span> <span class="s2">&#34;index.js&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;scripts&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;test&#34;</span><span class="p">:</span> <span class="s2">&#34;echo \&#34;Error: no test specified\&#34; &amp;&amp; exit 1&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;build&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --progress -p&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;watch&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack --progress --watch&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;serve&#34;</span><span class="p">:</span> <span class="s2">&#34;webpack-dev-server --open&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;author&#34;</span><span class="p">:</span> <span class="s2">&#34;&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;license&#34;</span><span class="p">:</span> <span class="s2">&#34;ISC&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;dependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;moment&#34;</span><span class="p">:</span> <span class="s2">&#34;^2.19.1&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">},</span>  
</span></span><span class="line"><span class="cl">  <span class="nt">&#34;devDependencies&#34;</span><span class="p">:</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;@babel/core&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;@babel/preset-env&#34;</span><span class="p">:</span> <span class="s2">&#34;^7.0.0&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;babel-loader&#34;</span><span class="p">:</span> <span class="s2">&#34;^8.0.2&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.7.1&#34;</span><span class="p">,</span>  
</span></span><span class="line"><span class="cl">    <span class="nt">&#34;webpack-dev-server&#34;</span><span class="p">:</span> <span class="s2">&#34;^3.1.6&#34;</span>  
</span></span><span class="line"><span class="cl">  <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>现在，您可以通过运行以下命令来启动开发服务器：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ npm run serve
</span></span></code></pre></div><p>这将在您的浏览器中自动打开地址为 <code>localhost:8080</code> 的 <code>index.html</code> 网站（默认情况下）。每当你在 <code>index.js</code> 中更改 JavaScript 时，webpack-dev-server 都会重建它自己的捆绑 JavaScript 并自动刷新浏览器。这是一个非常有用的时间节省，因为它允许您将注意力集中在代码上，而不必在代码和浏览器之间不断切换上下文以查看新的更改。</p>
<p>这只是表面，webpack 和 webpack-dev-server 还有更多选项（你可以在<a href="https://webpack.js.org/guides/development/">这里</a>阅读）。当然，你也可以制作 npm 脚本来运行其他任务，例如将 Sass 转换为 CSS、压缩图像、运行测试 — 任何具有命令行工具的东西都是公平的游戏。npm 脚本本身也有一些很棒的高级选项和技巧——<a href="https://twitter.com/k88hudson">Kate Hudson</a> 的这个演讲是一个很好的起点：</p>
<p><a href="https://youtu.be/0RYETb9YVrk">https://youtu.be/0RYETb9YVrk</a></p>
<h3 id="结论">结论</h3>
<p>简而言之，这就是现代JavaScript。我们从纯HTML和JS转向使用包管理器自动下载第三方包，使用模块捆绑器创建单个脚本文件，使用转译器使用未来的JavaScript功能，以及任务运行器来自动化构建过程的不同部分。这里肯定有很多移动的部分，特别是对于初学者。对于刚接触编程的人来说，Web 开发曾经是一个很好的切入点，正是因为它很容易启动和运行;如今，这可能非常令人生畏，特别是因为各种工具往往会迅速变化。</p>
<p>不过，它并不像看起来那么糟糕。事情正在安定下来，特别是随着节点生态系统作为与前端合作的可行方式的采用。使用 npm 作为包管理器，将节点 <code>require</code> 或 <code>import</code> 语句用于模块，使用 npm 脚本来运行任务，这很好且一致。与一两年前相比，这是一个大大简化的工作流程！</p>
<p>对于初学者和有经验的开发人员来说，更好的是，如今的框架通常带有使该过程更容易上手的工具。Ember 有 <a href="https://ember-cli.com/">ember-cli</a> ，这对 Angular 的 <a href="https://cli.angular.io/">angular-cli</a> 、React 的 <a href="https://github.com/facebookincubator/create-react-app"><code>create-react-app</code></a>、Vue 的 <a href="https://github.com/vuejs/vue-cli">vue-cli</a> 等产生了巨大的影响。所有这些工具都将设置一个包含您需要的所有项目——您需要做的就是开始编写代码。然而，这些工具并不神奇，它们只是以一种一致和工作的方式设置了所有内容——你可能经常需要对 webpack、babel 等进行一些额外的配置。因此，了解我们在本文中介绍的每个部分的作用仍然非常关键。</p>
<p>现代 JavaScript 在使用时肯定会令人沮丧，因为它继续快速变化和发展。但是，尽管有时看起来像是重新发明轮子，但JavaScript的快速发展有助于推动诸如热重载，实时linting和时间旅行调试等创新。作为一名开发人员，这是一个激动人心的时刻，我希望这些信息可以作为路线图，在您的旅程中为您提供帮助！</p>
<p><img loading="lazy" src="https://peterxjang.com/img/1__H6NN__RxZNeVyLYpCirsslg.png" alt="Dinosaur comic panel 5"  />
</p>
<p>特别感谢<a href="https://twitter.com/ryanqnorth">@ryanqnorth</a>的<a href="http://www.qwantz.com/">恐龙漫画</a>，自2003年以来（恐龙统治网络）以来，它提供了一些最好的荒诞幽默。</p>
<p>原文链接：<a href="https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html">https://peterxjang.com/blog/modern-javascript-explained-for-dinosaurs.html</a></p>
<blockquote>
<p>译者备注：</p>
<p>Github 上有一个关于这篇文章源代码的仓库：<a href="https://github.com/scherler/Modern-JavaScript-Explained-For-Dinosaurs">https://github.com/scherler/Modern-JavaScript-Explained-For-Dinosaurs</a></p>
</blockquote>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
