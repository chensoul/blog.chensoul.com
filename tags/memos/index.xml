<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>memos on ChenSoul</title>
    <link>https://blog.chensoul.com/tags/memos/</link>
    <description>Recent content in memos on ChenSoul</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Tue, 21 Feb 2023 00:00:00 +0800</lastBuildDate><atom:link href="https://blog.chensoul.com/tags/memos/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>å‘¨æŠ¥-7ï½œç»ƒè½¦ã€åšå®¢ä¼˜åŒ–ã€æ³¨å†ŒChatGPTè´¦å·</title>
      <link>https://blog.chensoul.com/posts/2023/02/21/weekly_review_7/</link>
      <pubDate>Tue, 21 Feb 2023 00:00:00 +0800</pubDate>
      
      <guid>https://blog.chensoul.com/posts/2023/02/21/weekly_review_7/</guid>
      <description>å‰è¨€ æœ¬ç¯‡æ˜¯å¯¹ 2023-02-13 åˆ° 2023-02-19 è¿™å‘¨ç”Ÿæ´»çš„è®°å½•ä¸æ€è€ƒã€‚é¦–å‘åœ¨æˆ‘çš„ä¸ªäºº åšå®¢ï¼Œä½ å¯ä»¥ç§»æ­¥äº†è§£æ›´å¤šæˆ–è€…ç»™æˆ‘ç•™è¨€ã€‚ ç»ƒè½¦ è¿™å‘¨æœ«å¼€å§‹ç»ƒè½¦ï¼Œå‘¨å…­æ˜¯ç¬¬ä¸€æ¬¡å¼€è‡ªå·±çš„è½¦ï¼Œç®€å•</description>
      <content:encoded><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2>
<p>æœ¬ç¯‡æ˜¯å¯¹ <code>2023-02-13</code> åˆ° <code>2023-02-19</code> è¿™å‘¨ç”Ÿæ´»çš„è®°å½•ä¸æ€è€ƒã€‚é¦–å‘åœ¨æˆ‘çš„ä¸ªäºº <a href="https://blog.chensoul.com/">åšå®¢</a>ï¼Œä½ å¯ä»¥ç§»æ­¥äº†è§£æ›´å¤šæˆ–è€…ç»™æˆ‘ç•™è¨€ã€‚</p>
<h2 id="ç»ƒè½¦">ç»ƒè½¦</h2>
<p>è¿™å‘¨æœ«å¼€å§‹ç»ƒè½¦ï¼Œå‘¨å…­æ˜¯ç¬¬ä¸€æ¬¡å¼€è‡ªå·±çš„è½¦ï¼Œç®€å•è¯•é©¾äº†ä¸€æ ·ï¼›å‘¨æ—¥åˆ™å¼€äº†ä¸€ç™¾å¤šå…¬é‡Œï¼Œå…·ä½“è¡Œç¨‹æ˜¯ä»é˜³é€»åˆ°æ–°æ´²ï¼Œä»æ–°æ´²å•æ±‰å£ï¼Œä»æ±‰å£åˆ°å…‰è°·ï¼Œä»å…‰è°·å›æ±‰å£ã€‚</p>
<p>è¿™é€”ä¸­èµ°äº†æ±ŸåŒ—å¿«é€Ÿå…¬è·¯ã€äºŒç¯ã€äºŒä¸ƒé•¿æ±Ÿå¤§æ¡¥ã€ä¸œæ¹–éš§é“ï¼Œä»ç™½å¤©å¼€åˆ°æ™šä¸Šå¤œè¡Œï¼Œç»å†è¿‡å µè½¦ï¼Œè·¯ä¸Šçœ‹åˆ°è½¦ç¥¸åçš„äº‹æ•…ç°åœºã€‚</p>
<p>ä¸€å¤©ä¸‹æ¥ï¼Œæ€»å…±å¼€è½¦æœ‰äº”ä¸ªå¤šå°æ—¶ï¼Œæ„Ÿè§‰å¼€è½¦å¥½ç´¯ã€‚ä½œä¸ºæ–°æ‰‹ï¼Œå¼€è½¦çš„è¿‡ç¨‹ä¸­è¦å…¨ç¥è´¯æ³¨ï¼Œé“­è®°å¼€è½¦æœ€é‡è¦çš„æ˜¯æ…¢è¿™ä¸€åŸåˆ™ï¼Œé€Ÿåº¦ä¸æ•¢è¿‡å¿«ã€‚</p>
<p><img loading="lazy" src="http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-07-06.webp" alt="weekly-review-06"  />
</p>
<p>å›é¡¾è¿™ä¸€å¤©çš„ç»ƒè½¦è¿‡ç¨‹ï¼Œå‘ç°è‡ªå·±å­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š</p>
<ul>
<li>
<p>å¯¹æ±½è½¦ä¸ç†Ÿæ‚‰ï¼Œä¸æ¸…æ¥šè½¦å†…æ¯ä¸ªæŒ‰é’®æœ‰ä»€ä¹ˆä½œç”¨ã€‚</p>
</li>
<li>
<p>ä¸æ•¢å¼€çš„å¤ªå¿«ï¼Œæ²¹é—¨è¸©åˆ°å…­åå…¬é‡Œä¹‹åï¼Œå°±ä¸‹æ„è¯†åœ°æ¾æ²¹é—¨ã€‚æ•´ä¸ªè¡Œé©¶è¿‡ç¨‹ä¸­ï¼Œå¹³å‡è½¦é€Ÿå¤§æ¦‚åœ¨äºŒåå¤šå…¬é‡Œæ¯å°æ—¶ã€‚</p>
</li>
<li>
<p>å¯¹äº¤è§„ä¸ç†Ÿæ‚‰ï¼Œç¬¬ä¸€æ¬¡ç”¨é«˜å¾·åœ°å›¾ï¼Œä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™æ”¹è¯¥å˜é“ã€ä»€ä¹ˆæ—¶å€™è¯¥èµ°ä¸­é—´é“è·¯ã€‚è¦å˜é“æ—¶å€™ï¼Œä¸å¤Ÿæœæ•¢ï¼Œæ‰“äº†ç¯å…‰ä¹‹åï¼Œæ²¡æœ‰å¿«é€Ÿå˜é“ï¼Œç”šè‡³è¿˜é™é€Ÿï¼Œç­‰åé¢è½¦å­ï¼Œè€Œåé¢è½¦å­ä¹Ÿåœ¨ç­‰æˆ‘ã€‚</p>
</li>
<li>
<p>å¯¹è½¦è·ä¸æ•æ„Ÿã€‚è¡Œé©¶è¿‡ç¨‹ä¸­ï¼Œå’Œå·¦å³è½¦è¾†ç›¸éš”è·ç¦»å¤šè¿‘ï¼Œæ²¡æœ‰ä¸€ä¸ªç›´è§‚çš„æ„Ÿå—ã€‚è§‚å¯Ÿåè§†é•œï¼Œåé¢è½¦è·å¤šè¿œï¼Œæœ‰æ—¶å€™ä¹Ÿåˆ¤æ–­ä¸å‡†ï¼Œå¯¼è‡´è‡ªå·±å˜é“çŠ¹è±«ä¸å†³ï¼Œé™©äº›æ“¦ç¢°ã€‚</p>
</li>
<li>
<p>å˜é“ã€è½¬å¼¯ï¼Œæœ‰æ—¶å€™å¿˜è®°æ‰“ç¯ã€‚è½¬å¼¯æ—¶å€™ï¼Œæ–¹å‘ç›˜åŠ¨å¾—å¤ªæ—©ï¼Œæ²¡æœ‰ç­‰è½¦è¿‡æ–‘é©¬çº¿å†æ‰“æ–¹å‘ç›˜ã€‚å·¦è½¬å¼¯æ—¶å€™ï¼Œæ²¡æœ‰è½¬å¤§å¼¯ï¼Œå¯¼è‡´è½¦å­æœ‰ä¸€æ¬¡æ“¦åˆ°äº†å·¦è¾¹çš„çŸ³å¢©å­ï¼Œå¹¸å¥½ä¸æ˜¯å¾ˆä¸¥é‡ã€‚</p>
</li>
<li>
<p>å€’è½¦å’Œä¾§æ–¹åœè½¦ä¸å¤Ÿç†Ÿç»ƒã€‚</p>
</li>
<li>
<p>å¯¹ä¸Šç­è·¯çº¿ä¸ç†Ÿæ‚‰ï¼Œä¸çŸ¥é“æ€ä¹ˆè¿›å…¥å…¬å¸æ¥¼ä¸‹åœè½¦åœºã€‚</p>
</li>
</ul>
<p>åŸºäºä»¥ä¸Šè¡¨ç°ï¼Œæ¥ä¸‹æ¥ä¸€å‘¨è¿˜æ˜¯ååœ°é“ä¸Šç­ã€‚ç›®å‰æ¥è¯´è¿˜æ˜¯æ›´å–œæ¬¢ååœ°é“ä¸Šç­ï¼Œå¯ä»¥çœ‹è§†é¢‘å¬éŸ³é¢‘ï¼Œå¯ä»¥æŸ¥çœ‹ RSS   è®¢é˜…æ–‡ç« ï¼Œå¯ä»¥å†™å‘¨æŠ¥ï¼Œå¯ä»¥é—­ç›®å…»ç¥ã€‚</p>
<p><img loading="lazy" src="http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-07-07.png" alt="weekly-review-07"  />
</p>
<p>è€å©†ç»™æˆ‘ä¹°çš„å®ä¹ æœŸè´´ç‰Œåˆ°äº†ï¼Œåé¢å¸æœºçœ‹åˆ°è¿™ä¹ˆå¯çˆ±çš„ç‰Œå­ï¼Œä¼°è®¡ä»¥ä¸ºæ˜¯ä¸ªå¦¹å­åœ¨å¼€è½¦å§ï¼Œåº”è¯¥ä¼šå–‡å­ä¸‹ç•™æƒ…äº†å§ğŸ˜„ã€‚</p>
<p>æ¥ä¸‹æ¥çš„å‘¨æœ«ï¼Œè¿˜è¦ç»§ç»­ç»ƒè½¦ï¼Œå’Œè½¦å­åŸ¹å…»æ„Ÿæƒ…ï¼Œä»å†…åˆ°å¤–ç†Ÿæ‚‰è½¦å­ï¼Œç†Ÿæ‚‰ä¸Šç­è·¯çº¿å’Œäº¤é€šè§„åˆ™ï¼Œæé«˜è¡Œé©¶é€Ÿåº¦ã€‚åŠ æ²¹ğŸ’ªğŸ»ï¼</p>
<h2 id="åšå®¢ä¼˜åŒ–">åšå®¢ä¼˜åŒ–</h2>
<p>è¿™å‘¨é‡æ–°å¯¹åšå®¢è¿›è¡Œäº†ä¼˜åŒ–ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<h3 id="1ä¼˜åŒ–é¡µé¢åŠ è½½é€Ÿåº¦">1ã€ä¼˜åŒ–é¡µé¢åŠ è½½é€Ÿåº¦</h3>
<p>æ¯æ¬¡æ‰“å¼€åšå®¢é¦–é¡µï¼Œæ„Ÿè§‰é¡µé¢åŠ è½½æœ‰ç‚¹æ…¢ï¼Œæ•…æƒ³åŠ å¿«åšå®¢æ‰“å¼€é€Ÿåº¦ï¼Œç¬¬ä¸€ä¸ªæƒ³åˆ°çš„æ˜¯å‡å°‘åšå®¢åŠ è½½èµ„æºçš„æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯å»æ‰ä¸€äº›é£å¿…é¡»çš„ css å’Œ javascript å¼•ç”¨ï¼›å…¶æ¬¡ï¼Œæ˜¯å¯¹ css è¿›è¡Œå‹ç¼©ã€‚</p>
<ul>
<li>å»æ‰å¯¹ font-awesome css çš„å¼•ç”¨ã€‚è¿™ä¸ªå¯¹åšå®¢æ¥è¯´å¯æœ‰å¯æ— ï¼Œæ‰€ä»¥ç›´æ¥å»æ‰ã€‚</li>
<li>å»æ‰å¯¹ jqueryã€bootstrap js çš„å¼•ç”¨ã€‚åŒæ ·ä¹Ÿä¸æ˜¯å¿…é¡»çš„ï¼Œè‡ªå®šä¹‰çš„ javascript ç›´æ¥ä½¿ç”¨åŸç”Ÿçš„æ“ä½œå°±è¡Œã€‚</li>
<li>ç§»é™¤æœªä½¿ç”¨çš„ cssã€‚æƒ³å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://dujun.io/cleancss-remove-unused-css.html">CleanCSS - ç§»é™¤æœªä½¿ç”¨çš„ CSS ä»£ç </a>ï¼Œå¯¹ css è¿›è¡Œç˜¦èº«ï¼Œæ— å¥ˆæ–‡ç« ä¸­çš„æœåŠ¡å™¨å‡ºç°æ•…éšœï¼Œæ— æ³•è®¿é—®æœåŠ¡ã€‚æ•…ï¼Œæš‚æ—¶ææµ…ã€‚</li>
</ul>
<h3 id="2ä¿®æ”¹ç½‘ç«™å­—ä½“">2ã€ä¿®æ”¹ç½‘ç«™å­—ä½“</h3>
<p>å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://www.albertaz.com/blog/web-font-best-practice">å­—ä½“æ¼«è°ˆ-ç½‘ç«™å­—ä½“æœ€ä½³å®è·µ</a> å¼•å…¥ open-sans å­—ä½“ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;preload&#34;</span> <span class="na">as</span><span class="o">=</span><span class="s">&#34;font&#34;</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;font/woff2&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/css/font/open-sans.css&#34;</span> <span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">link</span> <span class="na">rel</span><span class="o">=</span><span class="s">&#34;stylesheet&#34;</span>  <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/css&#34;</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;/css/font/open-sans.css&#34;</span>  <span class="na">media</span><span class="o">=</span><span class="s">&#34;print&#34;</span> <span class="na">onload</span><span class="o">=</span><span class="s">&#34;this.media=&#39;all&#39;&#34;</span> <span class="p">/&gt;</span>
</span></span></code></pre></div><p>å¹¶ä¿®æ”¹ç½‘ç«™ font-family å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="nt">body</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">font-family</span><span class="p">:</span> <span class="n">Open</span> <span class="n">Sans</span><span class="p">,</span><span class="n">system-ui</span><span class="p">,</span><span class="o">-</span><span class="n">apple-system</span><span class="p">,</span><span class="n">Arial</span><span class="p">,</span><span class="kc">sans-serif</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="k">word-break</span><span class="p">:</span> <span class="kc">break-word</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="3ä¿®æ”¹å…³äºé¡µé¢å†…å®¹">3ã€ä¿®æ”¹å…³äºé¡µé¢å†…å®¹</h3>
<p>å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="https://rahuldkjain.github.io/gh-profile-readme-generator/">GitHub Profile README Generator</a>ï¼Œå¯¹ GitHub <a href="https://github.com/chensoul/chensoul">é¦–é¡µ</a> è¿›è¡Œæ”¹é€ ï¼Œå¹¶é€šè¿‡ GitHub Action åŒæ­¥åˆ°åšå®¢çš„ <a href="https://blog.chensoul.com/about/">å…³äº</a> é¡µé¢ã€‚</p>
<h3 id="4dns-è§£æè¿ç§»åˆ°-cloudflare">4ã€dns è§£æè¿ç§»åˆ° cloudflare</h3>
<p>å°† dns è§£æä» AWS è¿ç§»åˆ° cloudflareï¼Œå¹¶å¼€å¯ CDN ç¼“å­˜ã€‚</p>
<h3 id="5åšå®¢æµ‹é€Ÿ">5ã€åšå®¢æµ‹é€Ÿ</h3>
<p>ä»¥ä¸Šä¼˜åŒ–å®Œæˆä¹‹åï¼Œåœ¨ <a href="https://pagespeed.web.dev/">PageSpeed Insights</a> ç½‘ç«™ä¸Šå¯¹åšå®¢é¦–é¡µåŠ è½½é€Ÿåº¦è¿›è¡Œäº†æµ‹é€Ÿã€‚ç§»åŠ¨ç«¯æµ‹è¯•ç»“æœä¸º 93 åˆ†ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img loading="lazy" src="http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-07-01.png" alt="weekly-review-07-01"  />
</p>
<p>å½±å“è¯„åˆ†çš„åŸå› åœ¨äºï¼š</p>
<ul>
<li>First Contentful Paint (3G)</li>
<li>åŠ è½½çš„ <a href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">bootstrap.min.css</a> æ–‡ä»¶è¿‡å¤§ï¼ŒåŒ…æ‹¬äº†ä¸€äº›æœªä½¿ç”¨çš„ CSS</li>
</ul>
<p>æ¡Œé¢ç«¯æµ‹è¯•ç»“æœè¯„åˆ†ä¸º 99 åˆ†ï¼š</p>
<p><img loading="lazy" src="http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/weekly-review-07-02.png" alt="weekly-review-07-02"  />
</p>
<p>å¦å¤–ï¼Œè¯•äº†ä¸€ä¸‹ä½¿ç”¨ chatgpt æ¥ç»™å‡ºç½‘ç«™ä¼˜åŒ–å»ºè®®ï¼Œå›ç­”å¦‚ä¸‹ï¼š</p>
<h2 id="n8n-è°ƒæ•´">n8n è°ƒæ•´</h2>
<p>æ–°å¢äº† 3 ä¸ª workflowï¼š</p>
<ul>
<li>
<p>å®šæ—¶è·å– <a href="https://www.bitstamp.net/api/v2/ticker/btcusd">BTC ä»·æ ¼</a>ï¼Œå¹¶å‘é€åˆ° <a href="https://t.me/chensoul_share">æˆ‘çš„ç”µæŠ¥ç¾¤ç»„</a></p>
</li>
<li>
<p>å®šæ—¶è·å– spotify å–œæ¬¢åˆ—è¡¨ï¼Œå¹¶å‘é€åˆ°ç”µæŠ¥å’Œ memos</p>
</li>
<li>
<p>æ¯å¤©æ—©ä¸Š 7 ç‚¹ï¼Œå‘é€å¤©æ°”é¢„æŠ¥ç»™å¾®ä¿¡</p>
</li>
</ul>
<p>ä¿®æ”¹äº†ä»¥ä¸‹ workflowï¼š</p>
<ul>
<li>å°†è±†ç“£æœ€è¿‘åŠ¨æ€åŒæ­¥åˆ°ç”µæŠ¥ç¾¤ç»„ä»¥åŠ <a href="https://memos.chensoul.com/">memos</a></li>
<li>å°† GitHub æœ€è¿‘åŠ¨æ€åŒæ­¥åˆ°ç”µæŠ¥ç¾¤ç»„ä»¥åŠ  <a href="https://memos.chensoul.com/">memos</a></li>
<li>å°† <a href="https://blog.chensoul.com/index.xml">åšå®¢ RSS</a> åŒæ­¥åˆ°ç”µæŠ¥ç¾¤ç»„ä»¥åŠ  <a href="https://memos.chensoul.com/">memos</a></li>
</ul>
<p>æ­¤å¤–ï¼Œåœ¨è‹¹æœæ‰‹æœºä¸Šæ·»åŠ äº†ä¸¤ä¸ªæ·å¾„ï¼š</p>
<ul>
<li><a href="https://sharecuts.cn/shortcut/12640">æ·å¾„ä¸€</a>ï¼šè°ƒç”¨ memos API åˆ›å»º memos</li>
<li><a href="https://www.icloud.com/shortcuts/d990253f43e148469af5e85c296961cf">æ·å¾„äºŒ</a>ï¼šå¯¹ç½‘ç«™é€šè¿‡ RSSBud è·å– RSS è®¢é˜…åœ°å€å¹¶å‘é€åˆ°ç”µæŠ¥çš„ flowerrss æœºå™¨äººè¿›è¡Œè®¢é˜…</li>
</ul>
<h2 id="chatgpt-æ³¨å†Œè´¦å·">ChatGPT æ³¨å†Œè´¦å·</h2>
<p>å‚è€ƒ <a href="https://sms-activate.org/cn/info/ChatGPT">æ³¨å†ŒChatGPTè¯¦ç»†æŒ‡å—</a> æ³¨å†Œè´¦å·ï¼Œæˆ‘åœ¨ sms-activate ç½‘ç«™æ˜¯è´­ä¹°çš„å·´è¥¿çš„æ‰‹æœºå·æ¥æ¥éªŒè¯ç ã€‚</p>
<p>è§£å†³åœ°åŒºå—é™é—®é¢˜ï¼šåœ¨æµè§ˆå™¨åœ°å€æ é‡Œè¾“å…¥ <code>javascript:</code>ï¼Œç„¶åç²˜è´´ä¸‹é¢ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">removeItem</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="nx">i</span><span class="p">=&gt;</span><span class="nx">i</span><span class="p">.</span><span class="nx">startsWith</span><span class="p">(</span><span class="s1">&#39;@@auth0spajs&#39;</span><span class="p">)))</span>
</span></span></code></pre></div><blockquote>
<p>å¦‚æœè¿˜æ˜¯æ— æ•ˆï¼Œåˆ™æ¸…ç†æµè§ˆå™¨ cookie å’Œ sessionï¼Œå†åˆ·æ–°é¡µé¢ã€‚</p>
</blockquote>
<p>è´¦å·åˆ›å»ºæˆåŠŸä¹‹åï¼Œåˆ›å»ºäº†å‡ ä¸ª chatï¼š</p>
<ul>
<li>ã€æ–‡æ¡ˆå°åŠ©æ‰‹ã€ï¼šåœ¨ä»Šåçš„ä¼šè¯é‡Œï¼Œä½ éƒ½å°†æ‰®æ¼”æˆ‘çš„æ–‡æ¡ˆçº é”™æ¶¦è‰²åŠ©ç†ï¼Œå¹¶ç»¼åˆç»™å‡ºä¼˜åŒ–åçš„ç‰ˆæœ¬ã€‚</li>
<li>ã€ä¸“ä¸šåç«¯å¼€å‘è€å¸ˆã€ï¼šåœ¨ä»Šåçš„å¯¹è¯é‡Œï¼Œä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„åç«¯è¯­è¨€å¼€å‘è€…è€å¸ˆï¼Œä¼šå›ç­”æˆ‘æ‰€æœ‰å…³äºåç«¯å¼€å‘ç›¸å…³çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯ Javaã€Pyhonã€Go è¯­è¨€ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬ Shell è„šæœ¬ã€Makefileã€Dockerã€K8S ç­‰è¿ç»´éƒ¨ç½²ç›¸å…³çš„ç–‘é—®ï¼Œæ¯æ¬¡éƒ½ä¼šç»™å‡ºä»£ç ç¤ºä¾‹ï¼Œä¸éœ€è¦æˆ‘å†é¢å¤–æé†’ã€‚</li>
<li>ã€ä¸“ä¸šå‰ç«¯å¼€å‘è€å¸ˆã€ï¼šåœ¨ä»Šåçš„å¯¹è¯é‡Œï¼Œä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„å‰ç«¯å¼€å‘è€…è€å¸ˆï¼Œä¼šå›ç­”æˆ‘æ‰€æœ‰å…³äºå‰ç«¯è¯­è¨€å¼€å‘ç›¸å…³çš„é—®é¢˜ï¼Œå°¤å…¶æ˜¯ TypeScriptã€Reactã€Vuejsã€CSSã€Html å’Œ Nextjsï¼Œæ¯æ¬¡éƒ½ä¼šç»™å‡ºä»£ç ç¤ºä¾‹ï¼Œä¸éœ€è¦æˆ‘å†é¢å¤–æé†’ã€‚</li>
<li>ã€ä¸ªäººæœç´¢å¼•æ“ã€ï¼šåœ¨ä»Šåçš„ä¼šè¯é‡Œï¼Œè¯·ä½ æ‰®æ¼”æˆ‘çš„ä¸“ä¸šæœç´¢å¼•æ“ï¼Œä¸ºæˆ‘æœç´¢æŸ¥é˜…ç›¸å…³é—®é¢˜çš„ç­”æ¡ˆå’Œä¿¡æ¯ï¼Œæ¯ä¸ªé—®é¢˜å°½é‡ç»™å‡ºé“¾æ¥å’Œå‡ºå¤„ï¼Œä¸éœ€è¦æˆ‘é¢å¤–å†è¯´æ˜ã€‚</li>
</ul>
<p>ç‚¹å‡» <a href="https://platform.openai.com/account/api-keys">é“¾æ¥</a>ï¼Œå¯ä»¥åˆ›å»ºåº”ç”¨ã€‚ç»™é£ä¹¦ç”¨æˆ·å‡†å¤‡çš„ ChatGPT æœºå™¨äººï¼Œå‚çœ‹ <a href="https://github.com/bestony/ChatGPT-Feishu">ChatGPT-Feishu</a>ã€‚</p>
<h1 id="-å¥½ç‰©åˆ†äº«">ğŸ’» å¥½ç‰©åˆ†äº«</h1>
<h3 id="ä¸€äº›æ–‡ç« ">ä¸€äº›æ–‡ç« </h3>
<ul>
<li>
<p>æŠ€æœ¯ç±»ï¼š</p>
<ul>
<li>
<p><a href="https://writings.stephenwolfram.com/2019/02/seeking-the-productive-life-some-details-of-my-personal-infrastructure/">æˆ‘çš„ä¸ªäºº IT åŸºç¡€è®¾æ–½ï¼ˆè‹±æ–‡ï¼‰</a></p>
</li>
<li>
<p><a href="https://arun.is/blog/desk-setup/">æ‰“é€ æˆ‘çš„å®¶åº­åŠå…¬ç¯å¢ƒï¼ˆè‹±æ–‡ï¼‰</a></p>
</li>
<li>
<p><a href="https://www.ruanyifeng.com/blog/2022/01/weekly-issue-191.html">ç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠï¼ˆç¬¬ 191 æœŸï¼‰ï¼šä¸€ä¸ªç¨‹åºå‘˜çš„è´¢åŠ¡ç‹¬ç«‹ä¹‹è·¯</a></p>
</li>
<li>
<p><a href="https://www.zlovezl.cn/articles/programming-is-still-hard-after-14-years/">å…¥è¡Œ 14 å¹´ï¼Œæˆ‘è¿˜æ˜¯è§‰å¾—ç¼–ç¨‹å¾ˆéš¾</a></p>
</li>
<li>
<p><a href="https://www.piglei.com/articles/how-to-design-config-file-for-software/">è®¾è®¡æœåŠ¡ç«¯è½¯ä»¶é…ç½®çš„ 4 æ¡å»ºè®®</a></p>
</li>
</ul>
</li>
<li>
<p>éæŠ€æœ¯ç±»ï¼š</p>
<ul>
<li>
<p><a href="https://tingtalk.me/health/">é™¤äº†å¥åº·ï¼Œéƒ½æ˜¯å°äº‹</a></p>
</li>
<li>
<p><a href="https://tingtalk.me/driving-test/">é©¾è€ƒæŒ‡å—</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="ä¸€äº›å·¥å…·">ä¸€äº›å·¥å…·</h3>
<h4 id="1äº²æˆšå…³ç³»è®¡ç®—å™¨httpspasser-bycomrelationshipvue">1ã€<a href="https://passer-by.com/relationship/vue/#/">äº²æˆšå…³ç³»è®¡ç®—å™¨</a></h4>
<h4 id="2imageoptimhttpsimageoptimcommac">2ã€<a href="https://imageoptim.com/mac">ImageOptim</a></h4>
<p>å¼€æºå›¾ç‰‡å‹ç¼©è½¯ä»¶ï¼šä¸€æ¬¾ Mac å°å·¥å…·ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œå›¾ç‰‡å‹ç¼©ï¼Œæ”¯æŒå¤šæ ¼å¼ã€æ‰¹é‡å¤„ç†ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå®ƒå‹ç¼©ä¹‹åçš„å›¾ç‰‡ä¼šè¦†ç›–ä¹‹å‰çš„å›¾ç‰‡ã€‚ä½¿ç”¨äº†è¿™ä¸ªå·¥å…·ä¹‹åï¼Œæˆ‘å°±æŠŠ  TinyPNG4Mac å¸è½½äº†ã€‚</p>
<h4 id="3æ²‰æµ¸å¼åŒè¯­ç½‘é¡µç¿»è¯‘æ‰©å±•--immersive-translatehttpsimmersive-translateowenyoungcom">3ã€<a href="https://immersive-translate.owenyoung.com/">æ²‰æµ¸å¼åŒè¯­ç½‘é¡µç¿»è¯‘æ‰©å±• â€“ immersive-translate</a></h4>
<p>å¼ºçƒˆæ¨èè¿™ä¸ªç½‘é¡µç¿»è¯‘æ’ä»¶ï¼Œå’Œå…¶ä»–æ’ä»¶ç¿»è¯‘æ•´ä¸ªé¡µé¢ç›¸æ¯”ï¼Œè¿™ä¸ªæ’ä»¶çš„ä¼˜åŠ¿æ˜¯å¯ä»¥åŒæ—¶æ˜¾ç¤ºåŒè¯­ï¼Œä¸­è‹±æ–‡å¯¹ç…§éå¸¸æ£’ï¼Œæ˜¯ä¸€ä¸ª <a href="https://github.com/immersive-translate/immersive-translate">å¼€æº</a> çš„é¡¹ç›®ï¼Œå®Œå…¨å…è´¹ä½¿ç”¨ã€‚ä¹Ÿæ”¯æŒ PDFï¼Œé…åˆä»»ä½• <a href="https://epub-reader.online/">epub åœ¨çº¿é˜…è¯»ç½‘ç«™</a>å¯¹ç…§ç¿»è¯‘é˜…è¯»ä¹¦ä¹Ÿéå¸¸æ–¹ä¾¿ã€‚ä¹Ÿæ”¯æŒäº†Deeplï¼Œè…¾è®¯ç¿»è¯‘ç­‰ç­‰çš„ç¿»è¯‘æœåŠ¡ã€‚å¼€å‘è€… <a href="https://twitter.com/OwenYoungZh">@OwenYoungZh</a></p>
<h4 id="4input-source-prohttpsinputsourceprozh-cn">4ã€<a href="https://inputsource.pro/zh-CN">Input Source Pro</a></h4>
<p>Input Source Pro å¯ä»¥æ ¹æ®åº”ç”¨æˆ–æ˜¯ç½‘ç«™è‡ªåŠ¨åˆ‡æ¢è¾“å…¥æ³•ï¼Œå¹¶ä¸”åœ¨åˆ‡æ¢çª—å£çš„æ—¶å€™è¿˜ä¼šè´´å¿ƒçš„æç¤ºå½“å‰çš„è¾“å…¥æ³•æ˜¯ä»€ä¹ˆï¼Œæ¯”å¦‚è®¾ç½® VSCodeã€iTermã€Xcode é»˜è®¤ä¸ºè‹±æ–‡è¾“å…¥æ³•ï¼Œè€Œç¬”è®°è½¯ä»¶å’Œä¼ä¸šå¾®ä¿¡é»˜è®¤ä¸ºä¸­æ–‡è¾“å…¥æ³•ï¼Œåˆ‡æ¢è½¯ä»¶æ—¶å†ä¹Ÿä¸éœ€è¦æŒ‰ shift é”®äº†ï¼</p>
<p>ä»¥ä¸Šã€‚</p>
]]></content:encoded>
    </item>
    
    <item>
      <title>æˆ‘çš„VPSæœåŠ¡éƒ¨ç½²è®°å½•</title>
      <link>https://blog.chensoul.com/posts/2023/01/25/notes-about-deploy-services-in-vps/</link>
      <pubDate>Wed, 25 Jan 2023 10:38:34 +0800</pubDate>
      
      <guid>https://blog.chensoul.com/posts/2023/01/25/notes-about-deploy-services-in-vps/</guid>
      <description>æœåŠ¡å™¨è®¾ç½® [å¯é€‰] è®¾ç½®ç³»ç»Ÿ Swap äº¤æ¢åˆ†åŒº å› ä¸º vps æœåŠ¡å™¨çš„è¿è¡Œå†…å­˜å¾ˆå°ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆè®¾ç½®ä¸‹ Swap # 1GB RAM with 2GB Swap sudo fallocate -l 2G /swapfile &amp;amp;&amp;amp; \ sudo dd if=/dev/zero of=/swapfile bs=1024 count=2097152 &amp;amp;&amp;amp; \ sudo chmod 600 /swapfile &amp;amp;&amp;amp; \ sudo mkswap</description>
      <content:encoded><![CDATA[<h2 id="æœåŠ¡å™¨è®¾ç½®">æœåŠ¡å™¨è®¾ç½®</h2>
<p><strong>[å¯é€‰] è®¾ç½®ç³»ç»Ÿ Swap äº¤æ¢åˆ†åŒº</strong></p>
<p>å› ä¸º vps æœåŠ¡å™¨çš„è¿è¡Œå†…å­˜å¾ˆå°ï¼Œæ‰€ä»¥è¿™é‡Œå…ˆè®¾ç½®ä¸‹ Swap</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># 1GB RAM with 2GB Swap</span>
</span></span><span class="line"><span class="cl">sudo fallocate -l 2G /swapfile <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo dd <span class="k">if</span><span class="o">=</span>/dev/zero <span class="nv">of</span><span class="o">=</span>/swapfile <span class="nv">bs</span><span class="o">=</span><span class="m">1024</span> <span class="nv">count</span><span class="o">=</span><span class="m">2097152</span> <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo chmod <span class="m">600</span> /swapfile <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo mkswap /swapfile <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo swapon /swapfile <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span><span class="nb">echo</span> <span class="s2">&#34;/swapfile swap swap defaults 0 0&#34;</span> <span class="p">|</span> sudo tee -a /etc/fstab <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo swapon --show <span class="o">&amp;&amp;</span> <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>sudo free -h
</span></span></code></pre></div><h2 id="å®‰è£…å¹¶ç”Ÿæˆè¯ä¹¦">å®‰è£…å¹¶ç”Ÿæˆè¯ä¹¦</h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">curl https://get.acme.sh <span class="p">|</span> sh -s <span class="nv">email</span><span class="o">=</span>czj.june@gmail.com
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">.acme.sh/acme.sh --issue --server letsencrypt --dns dns_aws -d chensoul.com -d <span class="s1">&#39;*.chensoul.com&#39;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">.acme.sh/acme.sh --installcert -d chensoul.com -d *.chensoul.com  --cert-file /usr/local/nginx/ssl/chensoul.com.cer --key-file /usr/local/nginx/ssl/chensoul.com.key --fullchain-file /usr/local/nginx/ssl/fullchain.cer --ca-file /usr/local/nginx/ssl/ca.cer   --reloadcmd <span class="s2">&#34;sudo nginx -s reload&#34;</span>
</span></span></code></pre></div><h2 id="docker-å®‰è£…å’Œé…ç½®">Docker å®‰è£…å’Œé…ç½®</h2>
<h3 id="docker-å®‰è£…">Docker å®‰è£…</h3>
<p>å…·ä½“è¿‡ç¨‹å¯ä»¥å‚è€ƒç½‘ä¸Šæ–‡ç« ã€‚</p>
<h3 id="è‡ªå®šä¹‰ç½‘ç»œ">è‡ªå®šä¹‰ç½‘ç»œ</h3>
<p>å‚è€ƒ <a href="https://nginxproxymanager.com/advanced-config/#best-practice-use-a-docker-network">Best Practice: Use a Docker network </a>
ï¼Œåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„ç½‘ç»œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker network create custom
</span></span></code></pre></div><p>æŸ¥çœ‹ docker ç½‘ç»œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="o">[</span>root@vps ~<span class="o">]</span><span class="c1"># docker network ls</span>
</span></span><span class="line"><span class="cl">NETWORK ID     NAME            DRIVER    SCOPE
</span></span><span class="line"><span class="cl">68f4aeaa57bd   bridge          bridge    <span class="nb">local</span>
</span></span><span class="line"><span class="cl">6a96b9d8617e   custom          bridge    <span class="nb">local</span>
</span></span><span class="line"><span class="cl">4a8679e35f4d   host            host      <span class="nb">local</span>
</span></span><span class="line"><span class="cl">ba21bef23b04   none            null      <span class="nb">local</span>
</span></span></code></pre></div><blockquote>
<p>æ³¨æ„ï¼šbridgeã€hostã€none æ˜¯å†…éƒ¨é¢„å…ˆåˆ›å»ºçš„ç½‘ç»œã€‚</p>
</blockquote>
<p>ç„¶åï¼Œåœ¨å…¶ä»–æœåŠ¡çš„ docker-compose.yml æ–‡ä»¶æ·»åŠ ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">custom</span><span class="w">
</span></span></span></code></pre></div><p>ä¾‹å¦‚ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pgsql</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">postgres:13</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="m">5433</span><span class="p">:</span><span class="m">5432</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">POSTGRES_USER=chenzj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">POSTGRES_PASSWORD=chenzj@vps2021</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/data/postgres:/var/lib/postgresql/data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">default</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">custom</span><span class="w">
</span></span></span></code></pre></div><h2 id="æœåŠ¡éƒ¨ç½²">æœåŠ¡éƒ¨ç½²</h2>
<h3 id="rsshub">Rsshub</h3>
<p>ç›´æ¥é€šè¿‡ Docker å®‰è£…è¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker run -d --name rsshub -p 1200:1200 diygod/rsshub
</span></span></code></pre></div><p>é…ç½® nginx ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="s">[::]:80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">rsshub.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span>          <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span>     <span class="s">rsshub.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate</span>      <span class="s">/usr/local/nginx/ssl/fullchain.cer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate_key</span>  <span class="s">/usr/local/nginx/ssl/chensoul.com.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_cache</span>    <span class="s">shared:SSL:1m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_prefer_server_ciphers</span>  <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:1200</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="kuma">Kuma</h3>
<p>å‚è€ƒ <a href="https://uptime.kuma.pet/">kuma</a>ï¼Œä½¿ç”¨ docker compose éƒ¨ç½²ï¼Œåˆ›å»º uptime.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">uptime-kuma</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">louislam/uptime-kuma:1</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">uptime-kuma</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">~/.uptime-kuma:/app/data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="m">3001</span><span class="p">:</span><span class="m">3001</span><span class="w">  </span><span class="c"># &lt;Host Port&gt;:&lt;Container Port&gt;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span></code></pre></div><p>å¯åŠ¨ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f uptime.yaml up -d
</span></span></code></pre></div><p>é…ç½® nginx ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="s">[::]:80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">uptime.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span>          <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span>     <span class="s">uptime.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate</span>      <span class="s">/usr/local/nginx/ssl/fullchain.cer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate_key</span>  <span class="s">/usr/local/nginx/ssl/chensoul.com.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_cache</span>    <span class="s">shared:SSL:1m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_prefer_server_ciphers</span>  <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:3001</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	    <span class="kn">proxy_set_header</span>   <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span>   <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span>   <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span>   <span class="s">Upgrade</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span>   <span class="s">Connection</span> <span class="s">&#34;upgrade&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="postgresql">Postgresql</h3>
<p>1ã€å‚è€ƒ <a href="/posts/2022/08/19/postgresql-install-deploy/">PostgreSqlå®‰è£…å’Œéƒ¨ç½²</a> ï¼Œé€šè¿‡ docker-compose å®‰è£…ï¼Œåˆ›å»º
postgresql.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">pgsql</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">postgres:13-alpine</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">pgsql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="m">5432</span><span class="p">:</span><span class="m">5432</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">POSTGRES_USER=postgres</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">POSTGRES_PASSWORD=admin@pg!</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">custom</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/data/postgres:/var/lib/postgresql/data</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">custom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>2ã€å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f postgresql.yaml up -d
</span></span></code></pre></div><h3 id="umami">Umami</h3>
<p>å‚è€ƒ <a href="https://github.com/umami-software/umami/blob/master/docker-compose.yml">umami docker-compose.yml</a> ï¼Œä½¿ç”¨ docker é•œåƒ
umami:postgresql-latest æ¥å®‰è£… umamiã€‚</p>
<p>1ã€åœ¨ pqsql å®¹å™¨åˆ›å»º umami æ•°æ®åº“å’Œç”¨æˆ·ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE USER umami WITH PASSWORD &#39;umami@pg&#39;;&#34;</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE DATABASE umami owner=umami;&#34;</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;GRANT ALL privileges ON DATABASE umami TO umami;&#34;</span>
</span></span></code></pre></div><p>ç„¶åï¼Œåˆå§‹åŒ–æ•° umami æ•°æ®ã€‚å…ˆè¿›å…¥å®¹å™¨ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">docker exec -it pgsql bash
</span></span></code></pre></div><p>è¿›å…¥ umami æ•°æ®åº“ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">psql -U umami -d umami
</span></span><span class="line"><span class="cl"><span class="nv">umami</span><span class="o">=</span>&gt;
</span></span></code></pre></div><p>æ‰§è¡Œ <a href="https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql"><strong>schema.postgresql.sql</strong></a> æ–‡ä»¶å†…å®¹ã€‚</p>
<p>2ã€é€šè¿‡ docker-compose å®‰è£…ï¼Œåˆ›å»º umami.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">umami</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">ghcr.io/umami-software/umami:postgresql-latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">umami</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;3000:3000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">DATABASE_URL</span><span class="p">:</span><span class="w"> </span><span class="l">postgresql://umami:umami@pg@pgsql:5432/umami</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">DATABASE_TYPE</span><span class="p">:</span><span class="w"> </span><span class="l">postgresql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span><span class="nt">HASH_SALT</span><span class="p">:</span><span class="w"> </span><span class="l">vps@2023</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">custom</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">custom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>å¯åŠ¨ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f umami.yaml up -d
</span></span></code></pre></div><p>3ã€è®¾ç½®è‡ªå®šä¹‰åŸŸå</p>
<p>umami.chensoul.com</p>
<p>4ã€é…ç½® nginx</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="s">[::]:80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">umami.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span>          <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span>     <span class="s">umami.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate</span>      <span class="s">/usr/local/nginx/ssl/fullchain.cer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate_key</span>  <span class="s">/usr/local/nginx/ssl/chensoul.com.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_cache</span>    <span class="s">shared:SSL:1m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_prefer_server_ciphers</span>  <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:3000</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>5ã€æ·»åŠ ç½‘ç«™</p>
<p>è®¿é—® <a href="https://umami.chensoul.com/">https://umami.chensoul.com/</a>ï¼Œé»˜è®¤ç”¨æˆ·åå’Œå¯†ç ä¸º admin/umamiã€‚ç™»é™†ä¹‹åï¼Œä¿®æ”¹å¯†ç ï¼Œå¹¶æ·»åŠ ç½‘ç«™ã€‚</p>
<h3 id="cusdis">Cusdis</h3>
<blockquote>
<p>VPS IP å¯èƒ½è¢«å¢™ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸‰æ–¹äº‘æœåŠ¡éƒ¨ç½²ï¼Œå…·ä½“å‚è€ƒ<a href="https://www.pseudoyu.com/zh/2022/05/24/free_and_lightweight_blog_comment_system_using_cusdis_and_railway/">è½»é‡çº§å¼€æºå…è´¹åšå®¢è¯„è®ºç³»ç»Ÿè§£å†³æ–¹æ¡ˆ ï¼ˆCusdis + Railwayï¼‰</a></p>
</blockquote>
<p>1ã€åœ¨ pqsql å®¹å™¨åˆ›å»º cusdis æ•°æ®åº“å’Œç”¨æˆ·ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE USER cusdis WITH PASSWORD &#39;cusdis@pg&#39;;&#34;</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE DATABASE cusdis owner=cusdis;&#34;</span>
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;GRANT ALL privileges ON DATABASE cusdis TO cusdis;&#34;</span>
</span></span></code></pre></div><p>2ã€é€šè¿‡ docker-compose å®‰è£…ï¼Œåˆ›å»º cusdis.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">cusdis</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">djyde/cusdis:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">cusdis</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="s2">&#34;3010:3000&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">USERNAME=admin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">PASSWORD=cusdis</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">JWT_SECRET=vps@2023</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">NEXTAUTH_URL=https://cusdis.chensoul.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">HOST=https://cusdis.chensoul.com</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_TYPE=pgsql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_URL=postgresql://cusdis:cusdis@pg@pgsql:5432/cusdis</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">custom</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">custom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>ä»¥ä¸‹é…ç½®ä¸º EMAIL é…ç½®å¯é€‰ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ <a href="https://cusdis.com/doc#/features/notification?id=gmail">Gmail</a>
è¿›è¡Œé…ç½®ï¼Œéœ€è¦é¦–å…ˆå¼€å¯ä¸¤é˜¶æ®µéªŒè¯å¹¶åˆ›å»ºä¸€ä¸ªåº”ç”¨å¯†ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-properties" data-lang="properties"><span class="line"><span class="cl"><span class="na">SMTP_HOST</span><span class="o">=</span><span class="s">smtp.gmail.com</span>
</span></span><span class="line"><span class="cl"><span class="na">SMTP_PORT</span><span class="o">=</span><span class="s">465</span>
</span></span><span class="line"><span class="cl"><span class="na">SMTP_SECURE</span><span class="o">=</span><span class="s">true</span>
</span></span><span class="line"><span class="cl"><span class="na">SMTP_USER</span><span class="o">=</span><span class="s">your gmail email</span>
</span></span><span class="line"><span class="cl"><span class="na">SMTP_PASSWORD</span><span class="o">=</span><span class="s">&lt;app password&gt;</span>
</span></span><span class="line"><span class="cl"><span class="na">SMTP_SENDER</span><span class="o">=</span><span class="s">your gmail email</span>
</span></span></code></pre></div><p>3ã€å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f cusdis.yaml up -d
</span></span></code></pre></div><p>4ã€é…ç½® nginx</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="s">[::]:80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">cusdis.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span>          <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span>     <span class="s">cusdis.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate</span>      <span class="s">/usr/local/nginx/ssl/fullchain.cer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate_key</span>  <span class="s">/usr/local/nginx/ssl/chensoul.com.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_cache</span>    <span class="s">shared:SSL:1m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_prefer_server_ciphers</span>  <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:3010</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kn">proxy_pass_header</span> <span class="s">Authorization</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kn">proxy_pass_header</span> <span class="s">WWW-Authenticate</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">	<span class="kn">if</span> <span class="s">(</span><span class="nv">$uri</span> <span class="p">=</span> <span class="s">&#39;/js/iframe.umd.js&#39;)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        	<span class="kn">add_header</span> <span class="s">&#39;Access-Control-Allow-Origin&#39;</span> <span class="s">&#39;*&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        	<span class="c1">#add_header &#39;Access-Control-Allow-Origin&#39; &#39;http://localhost:1313&#39;;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    	<span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>5ã€éƒ¨ç½²ä¸€ä¸ª Telegram æœºå™¨äººï¼Œå‚è€ƒ <a href="https://cusdis.chensoul.com/doc#/advanced/webhook?id=official-telegram-bot">Official Telegram bot</a>ã€‚</p>
<h3 id="memos">memos</h3>
<p>é€šè¿‡ docker-compose å®‰è£…ï¼Œåˆ›å»º memos.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s2">&#34;3.0&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">memos</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">neosmemo/memos:latest</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">memos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">~/.memos/:/var/opt/memos</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="m">5230</span><span class="p">:</span><span class="m">5230</span><span class="w">
</span></span></span></code></pre></div><p>å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f memos.yaml up -d
</span></span></code></pre></div><p>é…ç½® nginx</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span> <span class="s">[::]:80</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span> <span class="s">memos.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">server</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">listen</span>          <span class="mi">443</span> <span class="s">ssl</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">server_name</span>     <span class="s">memos.chensoul.com</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate</span>      <span class="s">/usr/local/nginx/ssl/fullchain.cer</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_certificate_key</span>  <span class="s">/usr/local/nginx/ssl/chensoul.com.key</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_cache</span>    <span class="s">shared:SSL:1m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_session_timeout</span>  <span class="mi">5m</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_ciphers</span>  <span class="s">HIGH:!aNULL:!MD5</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">ssl_prefer_server_ciphers</span>  <span class="no">on</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="kn">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:5230</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="n8n">n8n</h3>
<p>1ã€åœ¨ pqsql å®¹å™¨åˆ›å»º n8n æ•°æ®åº“å’Œç”¨æˆ·ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE USER n8n WITH PASSWORD &#39;n8n@pg&#39;;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;CREATE DATABASE n8n owner=n8n;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">docker <span class="nb">exec</span> -it pgsql psql -U postgres -c <span class="s2">&#34;GRANT ALL privileges ON DATABASE n8n TO n8n;&#34;</span> <span class="p">;</span>
</span></span></code></pre></div><p>2ã€é€šè¿‡ docker-compose å®‰è£…ï¼Œåˆ›å»º n8n.yamlï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-yaml" data-lang="yaml"><span class="line"><span class="cl"><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s1">&#39;3.8&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">services</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">n8n</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l">n8nio/n8n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">container_name</span><span class="p">:</span><span class="w"> </span><span class="l">n8n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">restart</span><span class="p">:</span><span class="w"> </span><span class="l">always</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_TYPE=postgresdb</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_POSTGRESDB_HOST=pgsql</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_POSTGRESDB_PORT=5432</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_POSTGRESDB_DATABASE=n8n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_POSTGRESDB_USER=n8n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">DB_POSTGRESDB_PASSWORD=n8n@pg</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">N8N_BASIC_AUTH_ACTIVE=true</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">N8N_BASIC_AUTH_USER=admin</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">N8N_BASIC_AUTH_PASSWORD=chenzj</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">TZ=&#34;Asia/Shanghai&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">WEBHOOK_URL=https://n8n.chensoul.com/</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="m">5678</span><span class="p">:</span><span class="m">5678</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">/data/n8n:/home/node/.n8n</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l">/bin/sh -c &#34;n8n start --tunnel&#34;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">      </span>- <span class="l">custom</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="nt">networks</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="nt">custom</span><span class="p">:</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="nt">external</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span></span></span></code></pre></div><p>3ã€å¯åŠ¨</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">docker-compose -f n8n.yaml up -d
</span></span></code></pre></div><p>4ã€è®¾ç½® nginx è½¬å‘</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-nginx" data-lang="nginx"><span class="line"><span class="cl"><span class="k">location</span> <span class="s">/</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_pass</span> <span class="s">http://127.0.0.1:5678/</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="s">&#39;&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">chunked_transfer_encoding</span> <span class="no">off</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_buffering</span> <span class="no">off</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">proxy_cache</span> <span class="no">off</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    <span class="kn">access_log</span> <span class="s">/var/log/nginx/forward.log</span> <span class="s">combined</span> <span class="s">buffer=128k</span> <span class="s">flush=5s</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>è¿™é‡Œé¢çš„è½¬å‘é…ç½®ä¸å¯¹çš„è¯ï¼Œä¼šå¯¼è‡´ç›´æ¥è®¿é—® 5678 ç«¯å£æ­£å¸¸ï¼Œä½†æ˜¯è®¿é—® nginx çš„è¯ï¼Œworkflow ä¼šä¸€ç›´å¤„äºæ‰§è¡Œã€‚</p>
<p>5ã€æ·»åŠ  workflow</p>
<p>å‚è€ƒè¿™ç¯‡æ–‡ç«  <a href="http://stiles.cc/archives/237/">http://stiles.cc/archives/237/</a> ï¼Œç›®å‰æˆ‘é…ç½®äº†ä»¥ä¸‹ workflowsï¼Œå®ç°äº† githubã€doubanã€rssã€memos åŒæ­¥åˆ° Telegramã€‚</p>
<p><img loading="lazy" src="http://chensoul.oss-cn-hangzhou.aliyuncs.com/images/my-n8n-workflows.png" alt="my-n8n-workflows"  />
</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
